var s={},H=(x,I,E)=>(s.__chunk_2423=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},s.__chunk_8407=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},s.__chunk_9289=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},s.__chunk_4200=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},s.__chunk_6635=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]])},s.__chunk_7647=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},s.__chunk_8518=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},s.__chunk_2090=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},s.__chunk_4416=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},s.__chunk_4189=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},s.__chunk_2302=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]])},s.__chunk_7582=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},s.__chunk_1391=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},s.__chunk_6628=(c,r,e)=>{e.d(r,{Z:()=>t});let t=(0,e(9698).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},s.__chunk_3610=(c,r,e)=>{e.d(r,{Jx:()=>v});var t=e(4513);let g=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001";function m(i,o){return Array.isArray(i.messages)&&i.messages.length>0?i.messages[0]:i.message?i.message:typeof i.messages=="string"?i.messages:o}async function j(i,o,d){let p=Date.now();for(;Date.now()-p<3e5;){let a=await o(i);if(d&&d(a.status),a.status==="completed"||a.status==="partial"){if(a.images&&a.images.length>0){if(a.status==="partial"&&a.images.length>=3)return{...a,status:"completed"};if(a.status==="completed")return a}a.status!=="partial"||a.images&&a.images.length}if(a.status==="failed")throw Error(a.error||"Job failed");await new Promise(h=>setTimeout(h,2e3))}throw Error("Job timed out")}async function w(i){let o=await(0,t.SH)(`${g}/characters/generate-profile-picture-set`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw Error(m(await o.json().catch(()=>({})),"Failed to start profile picture set generation"));return o.json()}async function M(i,o){let d=o&&o.length>1?`${g}/characters/profile-picture-set/${i}?allJobIds=${o.join(",")}`:`${g}/characters/profile-picture-set/${i}`,p=await(0,t.SH)(d);if(!p.ok)throw Error(m(await p.json().catch(()=>({})),"Failed to get profile picture set results"));return p.json()}async function Z(i){let o=await(0,t.SH)(`${g}/characters/profile-picture-set/${i}`);if(!o.ok)throw Error(m(await o.json().catch(()=>({})),"Failed to get profile picture job result"));return o.json()}async function v(i,o,d){let{jobId:p,allJobIds:a,jobPositions:h}=await w(i);return h&&h.length>0&&a&&a.length>0?(b(a,h,o,d).catch(l=>{console.error("Background polling error:",l),o&&o("failed",l instanceof Error?l.message:"Background polling failed")}),{jobIds:a,jobPositions:h}):(j(p,l=>M(l,a),o).then(l=>{l.images&&l.images.length>0&&d&&l.images.forEach(k=>{d(k,k.positionId||"",k.positionName||"")})}).catch(l=>{console.error("Background polling error:",l),o&&o("failed",l instanceof Error?l.message:"Background polling failed")}),{jobIds:a||[p],jobPositions:[]})}async function b(i,o,d,p){let a=[],h=new Set(i),l=Date.now();for(;h.size>0&&Date.now()-l<6e5;){let k=Array.from(h).map(async u=>{try{let n=await Z(u);return{jobId:u,result:n}}catch(n){return console.error(`Failed to poll job ${u}:`,n),{jobId:u,result:null}}});for(let{jobId:u,result:n}of await Promise.all(k))if(n)if(n.status==="completed"&&n.images&&n.images.length>0){let y=o.find(f=>f.jobId===u);y&&n.images.forEach(f=>{let _={...f,positionId:y.positionId,positionName:y.positionName,prompt:y.prompt,negativePrompt:y.negativePrompt};a.push(_),p&&p(_,y.positionId,y.positionName)}),h.delete(u)}else(n.status==="failed"||n.status==="completed"&&(!n.images||n.images.length===0))&&(h.delete(u),d&&n.error&&d("failed",n.error));d&&d(a.length===i.length?"completed":"in_progress"),h.size>0&&await new Promise(u=>setTimeout(u,2e3))}return h.size>0&&console.warn(`Some profile picture jobs timed out: ${Array.from(h).join(", ")}`),a}},s);export{H as __getNamedExports};
