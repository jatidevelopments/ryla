(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7348],{38433:function(e,t,l){Promise.resolve().then(l.bind(l,64769))},64769:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return tl}});var n=l(43264),r=l(27905),a=l(54055),s=l(40865),i=l(8527),o=l(56438),c=l(74681),d=l(20435);function u(e){let{mode:t,isActive:l,onSelect:r}=e,s=c.D[t],i=c.S[s.color];return"variations"===t?(0,n.jsx)(d.u,{content:"Variations mode is coming soon!",children:(0,n.jsxs)("button",{onClick:e=>{e.preventDefault()},className:(0,a.cn)("flex items-center gap-1 md:gap-2 px-3 md:px-4 min-h-[44px] py-2 md:py-2.5 rounded-2xl text-sm font-medium transition-all border md:border-2 relative","text-orange-400/40 border-transparent cursor-not-allowed","hover:text-orange-400/50"),disabled:!0,children:[(0,n.jsx)("span",{className:"flex-shrink-0 [&>svg]:w-4 [&>svg]:h-4",children:s.icon}),(0,n.jsx)("span",{className:"hidden md:inline",children:s.label}),(0,n.jsx)("span",{className:"absolute -top-0.5 -right-0.5 text-[6px] md:text-[7px] text-orange-400 font-bold bg-orange-400/20 px-0.5 md:px-1 py-0.5 rounded uppercase tracking-wider",children:"Soon"})]})}):(0,n.jsxs)("button",{onClick:()=>r(t),className:(0,a.cn)("flex items-center gap-1 md:gap-2 px-3 md:px-4 min-h-[44px] py-2 md:py-2.5 rounded-2xl text-sm font-medium transition-all border md:border-2",l?i.active:i.inactive),children:[(0,n.jsx)("span",{className:"flex-shrink-0 [&>svg]:w-4 [&>svg]:h-4",children:s.icon}),(0,n.jsx)("span",{className:(0,a.cn)("md:inline",l?"inline":"hidden"),children:s.label})]})}function h(e){let{contentType:t,onContentTypeChange:l}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-1 md:gap-2 flex-shrink-0","data-tutorial-target":"content-type-selector",children:[(0,n.jsx)("button",{onClick:()=>l("image"),className:(0,a.cn)("px-3 md:px-4 min-h-[44px] py-2 md:py-2.5 rounded-2xl text-sm font-medium transition-all","image"===t?"bg-white/10 text-white":"text-white/50 hover:text-white hover:bg-white/5"),children:"Image"}),(0,n.jsx)(d.u,{content:"Video generation is coming soon!",children:(0,n.jsxs)("button",{onClick:e=>{e.preventDefault()},className:(0,a.cn)("px-3 md:px-4 min-h-[44px] py-2 md:py-2.5 rounded-2xl text-sm font-medium transition-all relative","text-white/40 cursor-not-allowed","hover:text-white/50"),disabled:!0,children:["Video",(0,n.jsx)("span",{className:"absolute -top-0.5 -right-0.5 text-[6px] md:text-[7px] text-orange-400 font-bold bg-orange-400/20 px-0.5 md:px-1 py-0.5 rounded uppercase tracking-wider",children:"Soon"})]})})]})}function m(e){let{creditsAvailable:t}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,n.jsx)("span",{className:"text-[var(--text-muted)]",children:"Credits:"}),(0,n.jsx)("span",{className:"font-bold text-[var(--text-primary)]",children:t.toLocaleString()})]})}function x(e){let{mode:t,contentType:l,onModeChange:r,onContentTypeChange:s,creditsAvailable:i=0,className:o}=e;return(0,n.jsxs)("div",{className:(0,a.cn)("flex items-center gap-1 md:gap-2 px-2 md:px-4 lg:px-6 py-1.5 md:py-3 bg-[var(--bg-elevated)] border-b border-[var(--border-default)] overflow-x-auto scroll-hidden",o),children:[(0,n.jsx)("div",{className:"flex items-center gap-0.5 md:gap-1 flex-shrink-0","data-tutorial-target":"mode-tabs",children:Object.keys(c.D).map(e=>(0,n.jsx)(u,{mode:e,isActive:t===e,onSelect:r},e))}),(0,n.jsx)("div",{className:"hidden md:block h-6 w-px bg-[var(--border-default)]"}),(0,n.jsx)(h,{contentType:l,onContentTypeChange:s}),(0,n.jsx)("div",{className:"flex-1 min-w-2"}),(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(m,{creditsAvailable:i})})]})}var p=l(22548);let f={aspectRatio:o.Oz.aspectRatio,quality:o.Oz.quality,modelId:o.Oz.modelId,styleId:o.Oz.styleId,sceneId:o.Oz.sceneId,lightingId:o.Oz.lightingId,promptEnhance:o.Oz.promptEnhance,batchSize:o.Oz.batchSize,poseId:o.Oz.poseId,outfit:o.Oz.outfit},g={"1.5k":20,"2k":50,"4k":80};l(64926),l(55053),l(47962);var w=l(95624),v=l(83811);function b(e){let{models:t,selectedModelId:l,onSelect:s,onClose:i,anchorRef:o}=e,[c,d]=r.useState(""),u=t.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase()));return(0,n.jsxs)(v.F,{isOpen:!0,onClose:i,anchorRef:o,title:"Select model",className:"md:w-80",children:[(0,n.jsx)("div",{className:"p-3 border-b border-white/5",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),(0,n.jsx)("input",{type:"text",placeholder:"Search models...",value:c,onChange:e=>d(e.target.value),className:"w-full h-10 md:h-9 pl-10 pr-3 rounded-xl bg-white/5 border border-white/10 text-sm text-white placeholder:text-white/40 focus:outline-none focus:border-[var(--purple-500)]"})]})}),(0,n.jsx)("div",{className:"max-h-[400px] overflow-y-auto p-2",children:(0,n.jsxs)("div",{className:"space-y-1",children:[u.map(e=>(0,n.jsxs)("button",{onClick:()=>s(e.id),className:(0,a.cn)("flex w-full items-center gap-3 rounded-xl px-3 py-3 md:py-2.5 text-left transition-colors",l===e.id?"bg-[var(--purple-500)] text-white font-medium":"text-white/60 hover:bg-white/5 hover:text-white"),children:[(0,n.jsx)("div",{className:(0,a.cn)("flex h-9 w-9 md:h-8 md:w-8 items-center justify-center rounded-lg transition-colors shrink-0",l===e.id?"bg-white/20 text-white":"bg-white/5 text-[var(--purple-400)]"),children:(0,n.jsx)(j,{model:e,className:"h-5 w-5 md:h-4 md:w-4"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-sm font-medium truncate",children:e.name}),e.isUnlimited&&(0,n.jsx)("span",{className:(0,a.cn)("px-1.5 py-0.5 rounded text-[9px] md:text-[10px] font-bold uppercase tracking-wider",l===e.id?"bg-white text-[var(--purple-600)]":"bg-[var(--purple-500)] text-white"),children:"Unlimited"})]}),(0,n.jsx)("div",{className:(0,a.cn)("text-[11px] md:text-xs truncate",l===e.id?"text-white/80":"text-white/40"),children:e.description})]}),l===e.id&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 text-white shrink-0",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})]},e.id)),0===u.length&&(0,n.jsx)("div",{className:"py-8 text-center text-white/40 text-sm",children:"No models found"})]})})]})}function j(e){let{model:t,className:l}=e,r=(0,a.cn)("shrink-0",l);return({soul:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"})}),"face-swap":(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"})}),character:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M7.5 6.5C7.5 8.981 9.519 11 12 11s4.5-2.019 4.5-4.5S14.481 2 12 2 7.5 4.019 7.5 6.5zM20 21h1v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h17z"})}),flux:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z",clipRule:"evenodd"})}),openai:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M22.2819 10.18a5.98 5.98 0 0 0-.52-4.9c-.93-1.61-2.58-2.67-4.43-2.9a6.05 6.05 0 0 0-6.51 2.9A6.07 6.07 0 0 0 5 4.18a5.98 5.98 0 0 0-4 2.9 6.05 6.05 0 0 0 .74 7.1 5.98 5.98 0 0 0 .51 4.91 6.05 6.05 0 0 0 6.51 2.9 5.98 5.98 0 0 0 4.5 4 6.06 6.06 0 0 0 5.77-4.21 5.99 5.99 0 0 0 4-2.9 6.06 6.06 0 0 0-.75-7.07zm-9.02 12.61a4.48 4.48 0 0 1-2.88-1.04l.14-.08 4.78-2.76c.24-.14.39-.4.39-.68v-6.74l2.02 1.17c.05.03.04.1.04.05v5.58a4.5 4.5 0 0 1-4.49 4.5zm-9.66-4.13a4.47 4.47 0 0 1-.53-3.01l.14.09 4.78 2.76c.24.13.54.13.78 0l5.84-3.37v2.33c0 .05-.03.06-.03.06l-4.83 2.79a4.5 4.5 0 0 1-6.14-1.65zM2.34 7.9a4.49 4.49 0 0 1 2.37-1.97V11.6c0 .27.15.53.39.68l5.81 3.35-2.02 1.17a.08.08 0 0 1-.07 0L4 14.01A4.5 4.5 0 0 1 2.34 7.9zm16.1 3.86L12.6 8.38l2.02-1.16c.05-.03.07-.03.07 0l4.83 2.79a4.49 4.49 0 0 1-.68 8.1v-5.68c0-.28-.15-.54-.41-.68zm2.01-3.02l-.14-.09-4.77-2.78c-.24-.14-.54-.14-.79 0L9.41 9.23V6.9c0-.05.03-.06.03-.06l4.83-2.79a4.5 4.5 0 0 1 6.14 1.65 4.47 4.47 0 0 1 .58 3.03zm-7.53 4.16l-2.02-1.16c-.05-.03-.04-.1-.04-.06V6.07a4.5 4.5 0 0 1 7.38-3.45l-.14.08-4.78 2.76c-.24.14-.39.4-.39.68v6.74zm1.1-2.37l2.6-1.5 2.61 1.5v3.01L14.41 15l-2.6-1.5z"})})})[t.icon]||(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5z"})})}function y(e){let{model:t,className:l}=e,r=(0,a.cn)("shrink-0",l);switch(t.icon){case"soul":return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0112 5.052 5.5 5.5 0 0116.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.219l-.022.012-.007.004-.003.001a.752.752 0 01-.704 0l-.003-.001z"})});case"flux":return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z",clipRule:"evenodd"})});case"bytedance":return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"})});default:return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:r,children:(0,n.jsx)("path",{d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5z"})})}}function N(e){let{ratio:t,className:l}=e,r=o.sl.find(e=>e.value===t),s=(0,a.cn)("shrink-0",l);return r?.icon==="portrait"?(0,n.jsx)("div",{className:(0,a.cn)(s,"h-4 w-2.5 border border-current rounded-sm")}):r?.icon==="landscape"?(0,n.jsx)("div",{className:(0,a.cn)(s,"h-2.5 w-4 border border-current rounded-sm")}):(0,n.jsx)("div",{className:(0,a.cn)(s,"h-3 w-3 border border-current rounded-sm")})}function C(e){let{availableModels:t,selectedModel:l,settings:r,updateSetting:a,showPicker:s,onTogglePicker:i,onClosePicker:o,buttonRef:c}=e;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.u,{content:"AI Model: Choose the AI model for generation. Different models offer unique styles and quality levels.",children:(0,n.jsxs)("button",{ref:c,onClick:i,disabled:!l||0===t.length,className:"flex items-center gap-1.5 md:gap-2 min-h-[44px] px-3 md:px-4 py-2 md:py-2.5 rounded-2xl bg-white/5 text-[var(--text-primary)] text-sm font-medium hover:bg-white/10 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{model:l,className:"h-4 w-4 text-[var(--purple-400)]"}),(0,n.jsx)("span",{className:"truncate max-w-[80px] md:max-w-[120px]",children:l.name.replace("RYLA ","")})]}),!l&&(0,n.jsx)("span",{children:"No models available"}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3 w-3 md:h-3.5 md:w-3.5 text-[var(--text-muted)]",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),s&&(0,n.jsx)(b,{models:t,selectedModelId:r.modelId,onSelect:e=>{a("modelId",e),o()},onClose:o,anchorRef:c})]})}var S=l(61398);function k(e){let{settings:t,updateSetting:l,showPicker:r,onTogglePicker:a,onClosePicker:s,buttonRef:i}=e;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.u,{content:"Aspect Ratio: Set the dimensions of generated images. 1:1 for square, 9:16 for stories, 16:9 for landscape.",children:(0,n.jsxs)("button",{ref:i,onClick:a,className:"flex items-center gap-1.5 md:gap-2 min-h-[44px] px-3 md:px-4 py-2 md:py-2.5 rounded-2xl bg-white/5 text-[var(--text-primary)] text-sm font-medium hover:bg-white/10 transition-all",children:[(0,n.jsx)(N,{ratio:t.aspectRatio,className:"h-4 w-4 text-[var(--purple-400)]"}),(0,n.jsx)("span",{children:t.aspectRatio})]})}),r&&(0,n.jsx)(S.T,{ratios:o.sl,selectedRatio:t.aspectRatio,placement:"top",onSelect:e=>{l("aspectRatio",e),s()},onClose:s,anchorRef:i})]})}function I(e){let{options:t,selectedQuality:l,onSelect:r,onClose:s,anchorRef:i}=e;return(0,n.jsx)(v.F,{isOpen:!0,onClose:s,anchorRef:i,title:"Generation Quality",className:"md:w-64",children:(0,n.jsx)("div",{className:"p-2 space-y-1",children:t.map(e=>(0,n.jsxs)("button",{onClick:()=>{r(e.value),s()},className:(0,a.cn)("flex w-full items-center gap-3 rounded-xl px-4 py-4 md:py-3 text-left transition-colors",l===e.value?"bg-[var(--purple-500)] text-white font-medium":"text-white/60 hover:bg-white/5 hover:text-white"),children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"text-sm md:text-sm font-semibold",children:e.label}),(0,n.jsx)("div",{className:(0,a.cn)("text-xs",l===e.value?"text-white/80":"text-white/40"),children:e.description})]}),l===e.value&&(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 text-white",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})]},e.value))})})}function M(e){let{settings:t,updateSetting:l,showPromptEnhance:r,showQualityPicker:s,onToggleQualityPicker:i,onCloseQualityPicker:c,qualityButtonRef:u}=e,h=o.O6.find(e=>e.value===t.quality)?.label||t.quality;return(0,n.jsxs)("div",{className:"flex items-center gap-1.5","data-tutorial-target":"generation-settings",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.u,{content:"Quality: Choose between Fast (quick), HD (balanced), or Ultra HD (best quality). Higher quality uses more credits.",children:(0,n.jsxs)("button",{ref:u,onClick:i,className:"flex items-center gap-1.5 min-h-[44px] px-3 py-2.5 rounded-2xl bg-white/5 text-[var(--text-primary)] text-sm font-medium hover:bg-white/10 transition-all",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5 text-[var(--purple-400)]",children:(0,n.jsx)("path",{d:"M9.653 16.915l-.005-.003-.019-.01a20.759 20.759 0 01-1.162-.682 22.045 22.045 0 01-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 018-2.828A4.5 4.5 0 0118 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 01-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 01-.69.001l-.002-.001z"})}),(0,n.jsx)("span",{children:h})]})}),s&&(0,n.jsx)(I,{options:o.O6,selectedQuality:t.quality,onSelect:e=>{l("quality",e),c()},onClose:c,anchorRef:u})]}),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.u,{content:"Prompt Enhance: Uses AI to improve your prompt, adding more detail and creativity for better generation results.",children:(0,n.jsxs)("button",{onClick:()=>l("promptEnhance",!t.promptEnhance),className:(0,a.cn)("flex items-center gap-1.5 min-h-[44px] px-3 py-2.5 rounded-2xl text-sm font-medium transition-all",t.promptEnhance?"bg-[var(--purple-500)]/20 text-[var(--text-primary)]":"bg-white/5 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-white/10"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5",children:(0,n.jsx)("path",{d:"M15.98 1.804a1 1 0 00-1.96 0l-.24 1.192a1 1 0 01-.784.785l-1.192.238a1 1 0 000 1.962l1.192.238a1 1 0 01.785.785l.238 1.192a1 1 0 001.962 0l.238-1.192a1 1 0 01.785-.785l1.192-.238a1 1 0 000-1.962l-1.192-.238a1 1 0 01-.785-.785l-.238-1.192zM6.949 5.684a1 1 0 00-1.898 0l-.683 2.051a1 1 0 01-.633.633l-2.051.683a1 1 0 000 1.898l2.051.684a1 1 0 01.633.632l.683 2.051a1 1 0 001.898 0l.683-2.051a1 1 0 01.633-.633l2.051-.683a1 1 0 000-1.898l-2.051-.683a1 1 0 01-.633-.633L6.95 5.684z"})}),(0,n.jsx)("span",{children:t.promptEnhance?"On":"Off"})]})}),(0,n.jsx)("div",{className:"h-3.5 w-px bg-white/10"})]}),(0,n.jsx)(d.u,{content:"Batch Size: Generate multiple images at once. Higher batch = more credits used per generation.",children:(0,n.jsxs)("div",{className:"flex items-center gap-0.5 h-[44px] px-1.5 rounded-2xl bg-white/5",children:[(0,n.jsx)("button",{onClick:()=>l("batchSize",Math.max(1,t.batchSize-1)),disabled:t.batchSize<=1,className:"h-8 w-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--text-primary)] disabled:opacity-30 disabled:cursor-not-allowed transition-colors rounded hover:bg-white/10",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z",clipRule:"evenodd"})})}),(0,n.jsxs)("span",{className:"min-w-[28px] text-center text-sm font-medium text-[var(--text-primary)]",children:[t.batchSize,"/4"]}),(0,n.jsx)("button",{onClick:()=>l("batchSize",Math.min(4,t.batchSize+1)),disabled:t.batchSize>=4,className:"h-8 w-8 flex items-center justify-center text-[var(--text-muted)] hover:text-[var(--text-primary)] disabled:opacity-30 disabled:cursor-not-allowed transition-colors rounded hover:bg-white/10",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5",children:(0,n.jsx)("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})})]})})]})}function z(e){let{settings:t,updateSetting:l,selectedPose:r,outfitDisplayText:s,hasOutfitComposition:i,onShowPosePicker:o,onShowOutfitModeSelector:c,onShowStylePicker:u,clearStyles:h}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-3.5 w-px bg-white/10"}),(0,n.jsx)(d.u,{content:"Pose: Select a pose to add to your prompt. Different poses available based on content settings.",children:(0,n.jsx)("div",{className:"group",children:(0,n.jsxs)("button",{onClick:o,className:(0,a.cn)("flex items-center gap-1.5 min-h-[44px] rounded-2xl text-sm font-medium transition-all px-3 py-2.5",r?"bg-[var(--purple-500)]/20 text-[var(--text-primary)] border border-[var(--purple-500)]/30":"bg-white/5 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-white/10"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5 text-[var(--purple-400)]",children:(0,n.jsx)("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zM3 18a7 7 0 0114 0v1H3v-1zm7-4a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1z"})}),(0,n.jsx)("span",{className:"truncate max-w-[100px]",children:r?r.name:"Pose"}),r&&(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),l("poseId",null)},className:"h-4 w-0 max-w-0 flex items-center justify-center rounded overflow-hidden opacity-0 group-hover:w-4 group-hover:max-w-4 group-hover:opacity-100 group-hover:ml-1 transition-all text-white hover:bg-white/10",title:"Clear pose",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3 w-3",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})})}),(0,n.jsx)(d.u,{content:"Outfit: Choose from pre-composed outfits or create your own custom composition.",children:(0,n.jsx)("div",{className:"group",children:(0,n.jsxs)("button",{onClick:c,className:(0,a.cn)("flex items-center gap-1.5 min-h-[44px] rounded-2xl text-sm font-medium transition-all px-3 py-2.5",i||"string"==typeof t.outfit&&t.outfit?"bg-[var(--purple-500)]/20 text-[var(--text-primary)] border border-[var(--purple-500)]/30":"bg-white/5 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-white/10"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5 text-[var(--purple-400)]",children:(0,n.jsx)("path",{d:"M10.75 16.82A7.462 7.462 0 0115 15.5c.71 0 1.396.098 2.046.282A.75.75 0 0018 15.06v-11a.75.75 0 00-.546-.721A9.006 9.006 0 0015 3a8.963 8.963 0 00-4.25 1.065V16.82zM9.25 4.065A8.963 8.963 0 005 3c-.85 0-1.673.118-2.454.339A.75.75 0 002 4.06v11a.75.75 0 00.954.721A7.506 7.506 0 015 15.5c1.579 0 3.042.487 4.25 1.32V4.065z"})}),(0,n.jsx)("span",{className:"truncate max-w-[100px]",children:s}),(i||"string"==typeof t.outfit&&t.outfit)&&(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),l("outfit",null)},className:"h-4 w-0 max-w-0 flex items-center justify-center rounded overflow-hidden opacity-0 group-hover:w-4 group-hover:max-w-4 group-hover:opacity-100 group-hover:ml-1 transition-all text-white hover:bg-white/10",title:"Clear outfit",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3 w-3",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})})}),(0,n.jsx)(d.u,{content:"Styles & Scenes: Apply visual styles, backgrounds, and lighting to customize your generated images.",children:(0,n.jsx)("div",{className:"group",children:(0,n.jsxs)("button",{onClick:u,className:(0,a.cn)("flex items-center gap-1.5 min-h-[44px] rounded-2xl text-sm font-medium transition-all px-3 py-2.5",t.styleId||t.sceneId||t.lightingId?"bg-[var(--purple-500)]/20 text-[var(--text-primary)] border border-[var(--purple-500)]/30":"bg-white/5 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-white/10"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5 text-[var(--purple-400)]",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M1 5.25A2.25 2.25 0 013.25 3h13.5A2.25 2.25 0 0119 5.25v9.5A2.25 2.25 0 0116.75 17H3.25A2.25 2.25 0 011 14.75v-9.5zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 00.75-.75v-2.69l-2.22-2.219a.75.75 0 00-1.06 0l-1.91 1.909.47.47a.75.75 0 11-1.06 1.06L6.53 8.091a.75.75 0 00-1.06 0l-2.97 2.97zM12 7a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"})}),(0,n.jsx)("span",{className:"truncate max-w-[120px]",children:"Styles & Scenes"}),(t.styleId||t.sceneId||t.lightingId)&&(0,n.jsx)("button",{onClick:e=>{e.stopPropagation(),h()},className:"h-4 w-0 max-w-0 flex items-center justify-center rounded overflow-hidden opacity-0 group-hover:w-4 group-hover:max-w-4 group-hover:opacity-100 group-hover:ml-1 transition-all text-white hover:bg-white/10",title:"Clear styles & scenes",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3 w-3",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})})})]})}var R=l(237);function L(e){let{studioNsfwEnabled:t,canEnableNSFW:l,onToggle:r}=e,{isPro:s}=(0,R.m)();return s?(0,n.jsx)(d.u,{content:l?t?"NSFW: Enabled. Only ComfyUI models (RYLA Soul, RYLA Character) are available. Click to disable.":"NSFW: Disabled. All models available. Click to enable NSFW generation (18+).":"NSFW generation requires enabling 18+ Content in influencer settings.",children:(0,n.jsxs)("button",{onClick:()=>{if(!l){alert("NSFW generation requires enabling 18+ Content in influencer settings.");return}r()},disabled:!l,className:(0,a.cn)("flex items-center gap-1.5 md:gap-1.5 min-h-[44px] px-3 md:px-4 py-2 md:py-2.5 rounded-2xl text-sm font-medium transition-all",l?t?"bg-red-500/20 text-red-500 border border-red-500/30 hover:bg-red-500/30":"bg-white/5 text-[var(--text-secondary)] border border-white/10 hover:text-[var(--text-primary)] hover:bg-white/10":"bg-white/5 text-[var(--text-muted)] border border-white/10 opacity-60 cursor-not-allowed"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 md:h-3.5 md:w-3.5 flex-shrink-0",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})}),(0,n.jsxs)("span",{className:"hidden md:inline truncate max-w-[120px]",children:["NSFW ",t?"On":"Off"]}),(0,n.jsx)("span",{className:"md:hidden font-bold",children:t?"18+":"SFW"})]})}):null}var A=l(8339);function P(e){let{selectedImage:t,selectedObjects:l,mode:r,onClearImage:a,onRemoveObject:s,onAddObject:i,maxObjects:o=3}=e;return t?(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2 flex-nowrap",children:[(0,n.jsxs)("div",{className:"relative group flex items-center justify-center h-11",children:[(0,n.jsxs)("div",{className:"relative h-11 w-11 rounded-2xl overflow-hidden border-2 border-[var(--purple-500)] ring-1 ring-[var(--purple-500)]/50 flex-shrink-0",children:[(0,n.jsx)(A.default,{src:t.thumbnailUrl||t.imageUrl,alt:"Selected image",fill:!0,className:"object-cover",unoptimized:!0}),(0,n.jsx)("div",{className:"absolute inset-0 bg-[var(--purple-500)]/20 flex items-center justify-center",children:(0,n.jsx)("div",{className:"absolute top-0.5 right-0.5 h-2.5 w-2.5 rounded-full bg-[var(--purple-500)] ring-1 ring-white/50"})})]}),a&&(0,n.jsx)(d.u,{content:"Clear selected image",children:(0,n.jsx)("button",{onClick:a,className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center shadow-lg hover:bg-red-600 z-10",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3 w-3",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})})]}),"editing"===r&&(0,n.jsxs)("div",{className:"flex flex-row items-center gap-1.5 flex-nowrap",children:[l.slice(0,o).map((e,t)=>(0,n.jsxs)("div",{className:"relative group flex items-center justify-center h-11 flex-shrink-0",children:[(0,n.jsx)("div",{className:"relative h-11 w-11 rounded-2xl overflow-hidden border-2 border-[var(--purple-400)]/50 flex-shrink-0",children:(0,n.jsx)(A.default,{src:e.thumbnailUrl||e.imageUrl,alt:e.name||`Object ${t+1}`,fill:!0,className:"object-cover",unoptimized:!0})}),(0,n.jsx)(d.u,{content:"Remove this object",children:(0,n.jsx)("button",{onClick:()=>s(e.id),className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center shadow-lg hover:bg-red-600 z-10",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-2.5 w-2.5",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})})]},e.id)),l.length<o&&(0,n.jsx)(d.u,{content:"Add object to edit",children:(0,n.jsx)("button",{onClick:i,className:"flex items-center justify-center h-11 w-11 rounded-2xl bg-white/5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-white/10 transition-all border-2 border-dashed border-white/20 flex-shrink-0",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:(0,n.jsx)("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})})})]})]}):(0,n.jsx)(d.u,{content:"Upload image as prompt or for editing",children:(0,n.jsx)("button",{className:"flex items-center justify-center h-11 w-11 rounded-2xl bg-white/5 text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-white/10 transition-all",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:(0,n.jsx)("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})})})}function E(e){let{mode:t,canGenerate:l,creditsCost:r,isGenerating:s=!1,onGenerate:i}=e,o=!l;return(0,n.jsx)(d.u,{content:(()=>{if(!l)return"Select an influencer and ensure you have enough credits";if(s)return"Add more to the queue";switch(t){case"creating":return"Generate new images";case"editing":return"Edit selected image";case"upscaling":return"Upscale selected image";default:return"Generate"}})(),children:(0,n.jsxs)("button",{onClick:i,disabled:o,"data-tutorial-target":"generate-button",className:(0,a.cn)("h-11 md:h-12 px-5 md:px-8 rounded-full md:rounded-2xl font-bold text-sm flex items-center gap-1.5 md:gap-2.5 transition-all flex-shrink-0 relative",o?"bg-[var(--bg-hover)] text-[var(--text-muted)] cursor-not-allowed":"bg-gradient-to-r from-[var(--purple-500)] to-[var(--purple-600)] text-white hover:from-[var(--purple-400)] hover:to-[var(--purple-500)] shadow-lg shadow-[var(--purple-500)]/25"),children:[s&&(0,n.jsx)("div",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-green-500 animate-pulse"}),(0,n.jsx)("span",{className:"hidden md:inline",children:(()=>{if(s)switch(t){case"creating":default:return"Generating...";case"editing":return"Editing...";case"upscaling":return"Upscaling...";case"variations":return"Creating..."}switch(t){case"creating":default:return"Generate";case"editing":return"Edit";case"upscaling":return"Upscale";case"variations":return"Create Variations"}})()}),(0,n.jsx)("span",{className:"md:hidden",children:"Go"}),(0,n.jsxs)("span",{className:"flex items-center gap-0.5 text-xs md:text-sm opacity-80",children:[(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-3.5 w-3.5 md:h-3.5 md:w-3.5",children:[(0,n.jsx)("path",{d:"M10.75 10.818v2.614A3.13 3.13 0 0011.888 13c.482-.315.612-.648.612-.875 0-.227-.13-.56-.612-.875a3.13 3.13 0 00-1.138-.432zM8.33 8.62c.053.055.115.11.184.164.208.16.46.284.736.363V6.603a2.45 2.45 0 00-.35.13c-.14.065-.27.143-.386.233-.377.292-.514.627-.514.909 0 .184.058.39.202.592.037.051.08.102.128.152z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-6a.75.75 0 01.75.75v.316a3.78 3.78 0 011.653.713c.426.33.744.74.925 1.2a.75.75 0 01-1.395.55 1.35 1.35 0 00-.447-.563 2.187 2.187 0 00-.736-.363V9.3c.698.093 1.383.32 1.959.696.787.514 1.29 1.27 1.29 2.13 0 .86-.504 1.616-1.29 2.13-.576.377-1.261.603-1.96.696v.299a.75.75 0 11-1.5 0v-.3c-.697-.092-1.382-.318-1.958-.695-.482-.315-.857-.717-1.078-1.188a.75.75 0 111.359-.636c.08.173.245.376.54.569.313.205.706.353 1.138.432v-2.748a3.782 3.782 0 01-1.653-.713C6.9 9.433 6.5 8.681 6.5 7.875c0-.805.4-1.558 1.088-2.046.44-.312.978-.53 1.662-.622V4.75A.75.75 0 0110 4z",clipRule:"evenodd"})]}),r.toFixed(0)]})]})})}function O(e){let{settings:t,updateSetting:l,availableModels:s,selectedModel:i,pickers:o,modelButtonRef:c,aspectRatioButtonRef:d,qualityButtonRef:u,showAspectRatio:h,showPromptEnhance:m,showCreativeControls:x,selectedPose:p,outfitDisplayText:f,hasOutfitComposition:g,studioNsfwEnabled:w,canEnableNSFW:v,setStudioNsfwEnabled:b,selectedImage:j,selectedObjects:y,onAddObject:N,onRemoveObject:S,onClearImage:I,mode:R,influencers:A,selectedInfluencerId:O,onShowInfluencerPicker:F,onPromptSubmit:B,canGenerate:D,creditsCost:U,isGenerating:T=!1,clearStyles:G,tutorialCurrentStep:Q=-1,tutorialIsActive:q=!1}=e,V=q&&4===Q,[H,W]=r.useState(V);return r.useEffect(()=>{V&&W(!0)},[V]),(0,n.jsxs)("div",{className:"flex items-center gap-1.5 md:gap-1.5 px-3 md:px-4 py-2.5 md:py-2 border-t border-white/5 overflow-x-auto scroll-hidden","data-tutorial-target":"generation-controls",children:[(0,n.jsx)("div",{className:"flex md:hidden",children:(0,n.jsx)(P,{selectedImage:j,selectedObjects:y,mode:R,onClearImage:I,onRemoveObject:S,onAddObject:N})}),(0,n.jsx)("div",{className:"flex md:hidden h-3 w-px bg-white/10"}),(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(C,{availableModels:s,selectedModel:i,settings:t,updateSetting:l,showPicker:o.showModelPicker,onTogglePicker:()=>o.setShowModelPicker(!o.showModelPicker),onClosePicker:()=>o.setShowModelPicker(!1),buttonRef:c})}),(0,n.jsx)("div",{className:"hidden md:block h-3 md:h-3.5 w-px bg-white/10"}),h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(k,{settings:t,updateSetting:l,showPicker:o.showAspectRatioPicker,onTogglePicker:()=>o.setShowAspectRatioPicker(!o.showAspectRatioPicker),onClosePicker:()=>o.setShowAspectRatioPicker(!1),buttonRef:d})}),(0,n.jsx)("div",{className:"hidden md:block h-3 md:h-3.5 w-px bg-white/10"})]}),(0,n.jsx)("div",{className:"hidden md:contents",children:(0,n.jsx)(M,{settings:t,updateSetting:l,showPromptEnhance:m,showQualityPicker:o.showQualityPicker,onToggleQualityPicker:()=>o.setShowQualityPicker(!o.showQualityPicker),onCloseQualityPicker:()=>o.setShowQualityPicker(!1),qualityButtonRef:u})}),x&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsxs)("button",{onClick:()=>W(!H),className:(0,a.cn)("flex items-center gap-1.5 min-h-[44px] px-3 py-2.5 rounded-2xl text-sm font-medium transition-all",H?"bg-[var(--purple-500)]/20 text-[var(--text-primary)] border border-[var(--purple-500)]/30":"bg-white/5 text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-white/10"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:(0,a.cn)("h-3.5 w-3.5 transition-transform",H&&"rotate-180"),children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})}),(0,n.jsx)("span",{children:"Advanced"})]})}),H&&(0,n.jsx)("div",{className:"hidden md:contents",children:(0,n.jsx)(z,{settings:t,updateSetting:l,selectedPose:p,outfitDisplayText:f,hasOutfitComposition:g,onShowPosePicker:()=>o.setShowPosePicker(!0),onShowOutfitModeSelector:()=>o.setShowOutfitModeSelector(!0),onShowStylePicker:()=>o.setShowStylePicker(!0),clearStyles:G})})]}),(0,n.jsxs)("button",{onClick:()=>o.setShowMobileSettingsMenu(!0),className:"flex md:hidden items-center gap-1.5 px-3 min-h-[44px] rounded-2xl bg-white/5 text-sm text-[var(--text-secondary)] hover:bg-white/10 transition-colors",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),(0,n.jsx)("span",{children:"Settings"})]}),(0,n.jsx)("div",{className:"flex-1 min-w-1 md:block hidden"}),(0,n.jsx)("div",{className:"flex md:hidden ml-auto",children:(0,n.jsx)(E,{mode:R,canGenerate:D,creditsCost:U,isGenerating:T,onGenerate:B})}),(0,n.jsx)("div",{className:"hidden md:block",children:(0,n.jsx)(L,{studioNsfwEnabled:w,canEnableNSFW:v,onToggle:()=>b(!w)})})]})}function F(e){let{influencers:t,selectedInfluencerId:l,onSelect:s,onShowMore:i}=e,o=r.useMemo(()=>{if(!l)return t;let e=t.find(e=>e.id===l),n=t.filter(e=>e.id!==l);return e?[e,...n]:t},[t,l]);return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[o.slice(0,3).map(e=>(0,n.jsx)(d.u,{content:`Select ${e.name} for generation`,children:(0,n.jsxs)("button",{onClick:()=>s(e.id),className:(0,a.cn)("relative h-10 w-10 rounded-lg overflow-hidden border-2 transition-all",l===e.id?"border-[var(--purple-500)] ring-1 ring-[var(--purple-500)]/50":"border-transparent hover:border-white/30"),children:[e.avatar?(0,n.jsx)(A.default,{src:e.avatar,alt:e.name,fill:!0,unoptimized:!0,className:"object-cover"}):(0,n.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-[var(--purple-500)] to-[var(--pink-500)] flex items-center justify-center text-white text-xs font-bold",children:e.name.charAt(0)}),l===e.id&&(0,n.jsx)("div",{className:"absolute bottom-0.5 left-0.5 text-[8px] font-bold text-white bg-black/50 px-1 rounded uppercase truncate max-w-[36px]",children:e.name})]})},e.id)),(0,n.jsx)(d.u,{content:"Select from more influencers",children:(0,n.jsx)("button",{onClick:i,className:"min-h-[44px] px-4 rounded-xl bg-white/5 text-[var(--text-secondary)] text-sm font-medium hover:bg-white/10 hover:text-[var(--text-primary)] transition-all",children:"More..."})}),!l&&(0,n.jsx)(d.u,{content:"No influencer selected. Select an influencer to generate images.",children:(0,n.jsx)("div",{className:"relative h-10 w-10 rounded-lg bg-red-500/20 border-2 border-red-500/50 flex items-center justify-center",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 text-red-400",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})})]})}var B=l(27062),D=l(64582);function U(e){let{influencers:t,selectedInfluencerId:l,onSelect:s,onClose:i}=e,[o,c]=r.useState(""),d=t.filter(e=>e.name.toLowerCase().includes(o.toLowerCase()));return(0,n.jsxs)(v.F,{isOpen:!0,onClose:i,title:"Characters",className:"w-full max-w-2xl",children:[(0,n.jsx)("div",{className:"p-4 border-b border-white/5",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),(0,n.jsx)("input",{type:"text",placeholder:"Search characters...",value:o,onChange:e=>c(e.target.value),className:"w-full h-11 bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 text-sm text-white placeholder:text-white/40 focus:outline-none focus:border-[var(--purple-500)]"})]})}),(0,n.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[60vh] md:max-h-[500px]",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 min-[480px]:grid-cols-3 sm:grid-cols-4 gap-3",children:[(0,n.jsxs)(B.default,{href:D._j.wizard.step0,onClick:i,className:"group flex flex-col items-center justify-center aspect-[3/4] rounded-xl bg-white/5 border border-dashed border-white/20 hover:border-[var(--purple-500)]/50 hover:bg-[var(--purple-500)]/5 transition-all p-4",children:[(0,n.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/10 group-hover:bg-[var(--purple-500)]/20 transition-colors mb-3",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-6 w-6 text-white/50 group-hover:text-[var(--purple-400)]",children:(0,n.jsx)("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})})}),(0,n.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,n.jsx)("span",{className:"text-xs font-medium text-white text-center",children:"Create new"}),(0,n.jsx)("span",{className:"text-[10px] text-white/40 text-center leading-tight",children:"Build your own"})]})]}),d.map(e=>(0,n.jsxs)("button",{onClick:()=>s(e.id),className:(0,a.cn)("group relative aspect-[3/4] rounded-xl overflow-hidden border-2 transition-all",l===e.id?"border-[var(--purple-500)] ring-2 ring-[var(--purple-500)]/30":"border-transparent hover:border-white/30"),children:[e.avatar?(0,n.jsx)(A.default,{src:e.avatar,alt:e.name,fill:!0,unoptimized:!0,className:"object-cover"}):(0,n.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-[var(--purple-500)] to-[var(--pink-500)] flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-3xl font-bold text-white",children:e.name.charAt(0)})}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-60 group-hover:opacity-80 transition-opacity"}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-2.5",children:(0,n.jsx)("span",{className:"text-xs font-bold text-white uppercase truncate block text-left",children:e.name})}),l===e.id&&(0,n.jsx)("div",{className:"absolute top-2 right-2 flex h-6 w-6 items-center justify-center rounded-full bg-[var(--purple-500)] shadow-lg",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-white",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})})]},e.id))]}),0===d.length&&o&&(0,n.jsx)("div",{className:"flex flex-col items-center justify-center py-12 text-center text-white/40",children:(0,n.jsxs)("p",{children:['No characters found matching "',o,'"']})})]})]})}function T(e){let{influencers:t,selectedInfluencerId:l,updateSetting:r,onInfluencerChange:a,onClose:s}=e;return(0,n.jsx)(U,{influencers:t,selectedInfluencerId:l,onSelect:e=>{r("influencerId",e),s(),a&&a(e)},onClose:s})}function G(e){let{activeCategory:t,onCategoryChange:l}=e;return(0,n.jsx)("div",{className:"flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-3 sm:py-5 border-b border-white/5 overflow-x-auto scroll-hidden",children:o.iU.map(e=>(0,n.jsx)("button",{onClick:()=>l(e.id),className:(0,a.cn)("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all",t===e.id?"bg-white text-black":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"),children:e.label},e.id))})}function Q(e){let{activeCategory:t,onCategoryChange:l}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 px-4 sm:px-6 py-3 sm:py-5 border-b border-white/5 overflow-x-auto scroll-hidden",children:[(0,n.jsx)("button",{onClick:()=>l("all"),className:(0,a.cn)("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all","all"===t?"bg-white text-black":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"),children:"All"}),o.xq.map(e=>(0,n.jsx)("button",{onClick:()=>l(e.id),className:(0,a.cn)("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all",t===e.id?"bg-white text-black":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"),children:e.label},e.id))]})}function q(e){let{selectedStyleId:t,selectedSceneId:l,selectedLightingId:r,onStyleSelect:a,onSceneSelect:s,onLightingSelect:i,onClose:c}=e;return(0,n.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between px-5 py-4 border-t border-white/10 bg-[#0d0d0f] gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 overflow-x-auto scroll-hidden",children:[t&&(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10",children:[(0,n.jsx)("span",{className:"text-white/50 text-sm",children:"Style:"}),(0,n.jsx)("span",{className:"text-white font-medium text-sm",children:o.PL.find(e=>e.id===t)?.name}),(0,n.jsx)("button",{onClick:()=>a(null),className:"ml-1 text-white/40 hover:text-white transition-colors",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]}),l&&(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10",children:[(0,n.jsx)("span",{className:"text-white/50 text-sm",children:"Scene:"}),(0,n.jsx)("span",{className:"text-white font-medium text-sm",children:o.TP.find(e=>e.id===l)?.name}),(0,n.jsx)("button",{onClick:()=>s(null),className:"ml-1 text-white/40 hover:text-white transition-colors",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]}),r&&(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10",children:[(0,n.jsx)("span",{className:"text-white/50 text-sm",children:"Lighting:"}),(0,n.jsx)("span",{className:"text-white font-medium text-sm",children:o.gE.find(e=>e.id===r)?.name}),(0,n.jsx)("button",{onClick:()=>i(null),className:"ml-1 text-white/40 hover:text-white transition-colors",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]}),!t&&!l&&!r&&(0,n.jsx)("span",{className:"text-white/40 text-sm",children:"No options selected"})]}),(0,n.jsx)("button",{onClick:c,className:"px-8 py-2.5 rounded-xl bg-[var(--purple-500)] text-white font-semibold hover:bg-[var(--purple-600)] transition-colors shadow-lg shadow-[var(--purple-500)]/25",children:"Apply"})]})}function V(e){let{name:t,thumbnail:l,isSelected:s,onSelect:i,isFavorited:o,onToggleFavorite:c}=e,[d,u]=r.useState(!1);return(0,n.jsx)("div",{className:"break-inside-avoid mb-2 sm:mb-3",children:(0,n.jsxs)("button",{onClick:i,className:(0,a.cn)("group relative w-full rounded-xl overflow-hidden border-2 transition-all",s?"border-[var(--purple-500)] ring-2 ring-[var(--purple-500)]/30":"border-transparent hover:border-white/30"),children:[(0,n.jsxs)("div",{className:"relative aspect-[4/5] bg-white/5",children:[d?(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20",children:(0,n.jsx)("span",{className:"text-3xl font-bold text-white/20",children:t.charAt(0)})}):(0,n.jsx)(A.default,{src:l,alt:t,fill:!0,className:"object-cover",onError:()=>u(!0)}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"})]}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:(0,n.jsx)("span",{className:"text-sm font-medium text-white uppercase",children:t})}),s&&(0,n.jsx)("div",{className:"absolute top-2 left-2 flex h-6 w-6 items-center justify-center rounded-full bg-[var(--purple-500)]",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-white",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})}),c&&(0,n.jsx)("button",{onClick:c,className:(0,a.cn)("absolute top-2 right-2 z-10 flex h-7 w-7 items-center justify-center rounded-full transition-all opacity-0 group-hover:opacity-100",o?"bg-[var(--pink-500)] text-white opacity-100":"bg-black/50 text-white/60 hover:bg-black/70 hover:text-white"),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:(0,a.cn)("h-4 w-4",o&&"fill-current"),children:(0,n.jsx)("path",{d:"M9.653 16.915l-.005-.003-.019-.01a20.759 20.759 0 01-1.162-.682 22.045 22.045 0 01-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 018-2.828A4.5 4.5 0 0118 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 01-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 01-.69.001l-.002-.001z"})})})]})})}function H(e){let{isSelected:t,onSelect:l}=e;return(0,n.jsx)("div",{className:"break-inside-avoid mb-3",children:(0,n.jsx)("button",{onClick:l,className:(0,a.cn)("w-full aspect-[4/5] rounded-xl overflow-hidden border-2 transition-all flex items-center justify-center bg-white/5",t?"border-[var(--purple-500)] ring-2 ring-[var(--purple-500)]/30":"border-transparent hover:border-white/30"),children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:""}),(0,n.jsx)("span",{className:"text-sm font-medium text-white/60",children:"None"})]})})})}function W(e){let{items:t,selectedId:l,onSelect:r,isFavorited:a,onToggleFavorite:s}=e;return(0,n.jsxs)("div",{className:"columns-2 sm:columns-3 md:columns-4 lg:columns-5 gap-2 sm:gap-3",children:[(0,n.jsx)(H,{isSelected:null===l,onSelect:()=>r(null)}),t.map(e=>(0,n.jsx)(V,{id:e.id,name:e.name,thumbnail:e.thumbnail,isSelected:l===e.id,onSelect:()=>r(e.id),isFavorited:a(e.id),onToggleFavorite:t=>{t.stopPropagation(),s(e.id)}},e.id))]})}function _(e){let{filteredStyles:t,selectedStyleId:l,onStyleSelect:r,isFavorited:a,onToggleFavorite:s}=e;return(0,n.jsx)(W,{items:t,selectedId:l,onSelect:r,isFavorited:a,onToggleFavorite:s})}function Z(e){let{filteredScenes:t,selectedSceneId:l,onSceneSelect:r,isFavorited:a,onToggleFavorite:s}=e;return(0,n.jsx)(W,{items:t,selectedId:l,onSelect:r,isFavorited:a,onToggleFavorite:s})}function $(e){let{filteredLighting:t,selectedLightingId:l,onLightingSelect:r,isFavorited:a,onToggleFavorite:s}=e;return(0,n.jsx)(W,{items:t,selectedId:l,onSelect:r,isFavorited:a,onToggleFavorite:s})}function X(e){let{search:t,onSearchChange:l,showFavoritesOnly:r,onToggleFavorites:s,onClose:i,currentFavorites:o}=e;return(0,n.jsx)("div",{className:"flex items-center gap-2 sm:gap-3",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 sm:flex-initial",children:[o&&(0,n.jsxs)("button",{onClick:s,className:(0,a.cn)("flex items-center gap-2 p-2.5 sm:px-3 sm:py-2 rounded-xl text-sm font-medium transition-all",r?"bg-[var(--purple-500)] text-white shadow-lg shadow-[var(--purple-500)]/25":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:(0,a.cn)("h-4 w-4",r&&"fill-current"),children:(0,n.jsx)("path",{d:"M9.653 16.915l-.005-.003-.019-.01a20.759 20.759 0 01-1.162-.682 22.045 22.045 0 01-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 018-2.828A4.5 4.5 0 0118 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 01-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 01-.69.001l-.002-.001z"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Favorites"})]}),(0,n.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),(0,n.jsx)(a.II,{type:"text",placeholder:"Search",value:t,onChange:e=>l(e.target.value),className:"w-full sm:w-44 h-10 pl-9 pr-4 bg-[#0d0d0f] border-white/10 rounded-xl text-sm placeholder:text-white/40 focus:border-white/20 focus:ring-0"})]}),(0,n.jsx)("button",{onClick:i,className:"hidden sm:flex items-center justify-center h-10 w-10 rounded-xl text-white/40 hover:text-white hover:bg-white/5 transition-colors",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})})}let K=[{id:"styles",label:"Visual Styles",icon:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M1 5.25A2.25 2.25 0 013.25 3h13.5A2.25 2.25 0 0119 5.25v9.5A2.25 2.25 0 0116.75 17H3.25A2.25 2.25 0 011 14.75v-9.5zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 00.75-.75v-2.69l-2.22-2.219a.75.75 0 00-1.06 0l-1.91 1.909.47.47a.75.75 0 11-1.06 1.06L6.53 8.091a.75.75 0 00-1.06 0l-2.97 2.97zM12 7a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"})})},{id:"scenes",label:"Scenes & Backgrounds",icon:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M5.5 17a4.5 4.5 0 01-1.44-8.765 4.5 4.5 0 018.302-3.046 3.5 3.5 0 014.504 4.272A4 4 0 0115 17H5.5zm3.75-2.75a.75.75 0 001.5 0V9.66l1.95 2.1a.75.75 0 101.1-1.02l-3.25-3.5a.75.75 0 00-1.1 0l-3.25 3.5a.75.75 0 101.1 1.02l1.95-2.1v4.59z",clipRule:"evenodd"})})},{id:"lighting",label:"Lighting",icon:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M10 1a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 1zM5.05 3.05a.75.75 0 011.06 0l1.062 1.06A.75.75 0 116.11 5.173L5.05 4.11a.75.75 0 010-1.06zm9.9 0a.75.75 0 010 1.06l-1.06 1.062a.75.75 0 01-1.062-1.061l1.061-1.06a.75.75 0 011.06 0zM3 10a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 013 10zm11 0a.75.75 0 01.75-.75h1.5a.75.75 0 010 1.5h-1.5A.75.75 0 0114 10zm-6.828 5.829a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.06 0zm5.657 0a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM10 14a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 14zM10 5a5 5 0 100 10 5 5 0 000-10z"})})},{id:"effects",label:"Effects & Filters",icon:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M15.98 1.804a1 1 0 00-1.96 0l-.24 1.192a1 1 0 01-.784.785l-1.192.238a1 1 0 000 1.962l1.192.238a1 1 0 01.785.785l.238 1.192a1 1 0 001.962 0l.238-1.192a1 1 0 01.785-.785l1.192-.238a1 1 0 000-1.962l-1.192-.238a1 1 0 01-.785-.785l-.238-1.192zM6.949 5.684a1 1 0 00-1.898 0l-.683 2.051a1 1 0 01-.633.633l-2.051.683a1 1 0 000 1.898l2.051.684a1 1 0 01.633.632l.683 2.051a1 1 0 001.898 0l.683-2.051a1 1 0 01.633-.633l2.051-.683a1 1 0 000-1.898l-2.051-.683a1 1 0 01-.633-.633L6.95 5.684z"})})}];function J(e){let{activeTab:t,onTabChange:l}=e;return(0,n.jsx)("nav",{className:"flex items-center gap-1 sm:gap-2 overflow-x-auto scroll-hidden -mx-2 sm:mx-0 px-2 sm:px-0",children:K.map(e=>(0,n.jsxs)("button",{onClick:()=>{l(e.id)},className:(0,a.cn)("flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all",t===e.id?"bg-[var(--purple-500)] text-white shadow-lg shadow-[var(--purple-500)]/25":"text-white/50 hover:text-white hover:bg-white/5"),children:[(0,n.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,n.jsx)("span",{className:"whitespace-nowrap",children:e.label})]},e.id))})}function Y(e){let{selectedStyleId:t,selectedSceneId:l,selectedLightingId:a,onStyleSelect:s,onSceneSelect:i,onLightingSelect:c,onClose:d}=e,[u,h]=r.useState("styles"),[m,x]=r.useState(""),[p,f]=r.useState("all"),[g,b]=r.useState("all"),[j,y]=r.useState(!1),{stylesFavorites:N,scenesFavorites:C,lightingFavorites:S,currentFavorites:k,filteredStyles:I,filteredScenes:M,filteredLighting:z}=function(e){let{search:t,styleCategory:l,sceneCategory:n,showFavoritesOnly:a,activeTab:s}=e,i=(0,w.R)({itemType:"style"}),c=(0,w.R)({itemType:"scene"}),d=(0,w.R)({itemType:"lighting"}),u=r.useMemo(()=>"styles"===s?i:"scenes"===s?c:"lighting"===s?d:null,[s,i,c,d]),h=r.useMemo(()=>o.PL.filter(e=>{let n=e.name.toLowerCase().includes(t.toLowerCase()),r="all"===l||e.category===l,s=!a||i.isFavorited(e.id);return n&&r&&s}),[t,l,a,i]),m=r.useMemo(()=>o.TP.filter(e=>{let l=e.name.toLowerCase().includes(t.toLowerCase()),r="all"===n||e.category===n,s=!a||c.isFavorited(e.id);return l&&r&&s}),[t,n,a,c]),x=r.useMemo(()=>o.gE.filter(e=>{let l=e.name.toLowerCase().includes(t.toLowerCase()),n=!a||d.isFavorited(e.id);return l&&n}),[t,a,d]);return{stylesFavorites:i,scenesFavorites:c,lightingFavorites:d,currentFavorites:u,filteredStyles:h,filteredScenes:m,filteredLighting:x}}({search:m,styleCategory:p,sceneCategory:g,showFavoritesOnly:j,activeTab:u});return(0,n.jsx)(v.F,{isOpen:!0,onClose:d,title:"Generation Settings",className:"w-full max-w-7xl h-full md:h-auto",children:(0,n.jsxs)("div",{className:"flex flex-col h-full md:max-h-[85vh]",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3 px-4 sm:px-6 py-3 sm:py-4 border-b border-white/5",children:[(0,n.jsx)(J,{activeTab:u,onTabChange:e=>{h(e),x("")}}),(0,n.jsx)(X,{activeTab:u,search:m,onSearchChange:x,showFavoritesOnly:j,onToggleFavorites:()=>y(!j),onClose:d,currentFavorites:k})]}),"styles"===u&&(0,n.jsx)(G,{activeCategory:p,onCategoryChange:f}),"scenes"===u&&(0,n.jsx)(Q,{activeCategory:g,onCategoryChange:b}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 min-h-0",children:["styles"===u&&(0,n.jsx)(_,{filteredStyles:I,selectedStyleId:t,onStyleSelect:s,isFavorited:N.isFavorited,onToggleFavorite:N.toggleFavorite}),"scenes"===u&&(0,n.jsx)(Z,{filteredScenes:M,selectedSceneId:l,onSceneSelect:i,isFavorited:C.isFavorited,onToggleFavorite:C.toggleFavorite}),"lighting"===u&&(0,n.jsx)($,{filteredLighting:z,selectedLightingId:a,onLightingSelect:c,isFavorited:S.isFavorited,onToggleFavorite:S.toggleFavorite}),"effects"===u&&(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,n.jsx)("div",{className:"mb-6 flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20 border border-[var(--purple-500)]/20",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-10 w-10 text-[var(--purple-400)]",children:(0,n.jsx)("path",{d:"M15.98 1.804a1 1 0 00-1.96 0l-.24 1.192a1 1 0 01-.784.785l-1.192.238a1 1 0 000 1.962l1.192.238a1 1 0 01.785.785l.238 1.192a1 1 0 001.962 0l.238-1.192a1 1 0 01.785-.785l1.192-.238a1 1 0 000-1.962l-1.192-.238a1 1 0 01-.785-.785l-.238-1.192zM6.949 5.684a1 1 0 00-1.898 0l-.683 2.051a1 1 0 01-.633.633l-2.051.683a1 1 0 000 1.898l2.051.684a1 1 0 01.633.632l.683 2.051a1 1 0 001.898 0l.683-2.051a1 1 0 01.633-.633l2.051-.683a1 1 0 000-1.898l-2.051-.683a1 1 0 01-.633-.633L6.95 5.684z"})})}),(0,n.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Effects Coming Soon"}),(0,n.jsx)("p",{className:"text-white/50 max-w-sm",children:"Advanced filters, color grading, and special effects are being developed. Stay tuned!"})]})]}),(0,n.jsx)(q,{selectedStyleId:t,selectedSceneId:l,selectedLightingId:a,onStyleSelect:s,onSceneSelect:i,onLightingSelect:c,onClose:d})]})})}function ee(e){let{settings:t,updateSetting:l,onClose:r}=e;return(0,n.jsx)(Y,{selectedStyleId:t.styleId,selectedSceneId:t.sceneId,selectedLightingId:t.lightingId,onStyleSelect:e=>l("styleId",e),onSceneSelect:e=>l("sceneId",e),onLightingSelect:e=>l("lightingId",e),onClose:r})}function et(e){let{search:t,onSearchChange:l,showFavoritesOnly:r,onToggleFavorites:s,onClose:i}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-4 px-4 sm:px-6 py-3 sm:py-4 border-b border-white/10",children:[(0,n.jsxs)("div",{className:"hidden sm:flex items-center gap-3",children:[(0,n.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20 border border-[var(--purple-500)]/20",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 text-[var(--purple-400)]",children:(0,n.jsx)("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zM3 18a7 7 0 0114 0v1H3v-1zm7-4a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1z"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-bold text-white",children:"Pose Selection"}),(0,n.jsx)("p",{className:"text-sm text-white/50",children:"Choose a pose to add to your prompt"})]})]}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsxs)("div",{className:"flex-1 flex items-center justify-end gap-2 sm:gap-3",children:[(0,n.jsxs)("button",{onClick:s,className:`flex items-center gap-2 p-2.5 sm:px-3 sm:py-2 rounded-xl text-sm font-medium transition-all ${r?"bg-[var(--purple-500)] text-white shadow-lg shadow-[var(--purple-500)]/25":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"}`,children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`h-4 w-4 ${r&&"fill-current"}`,children:(0,n.jsx)("path",{d:"M9.653 16.915l-.005-.003-.019-.01a20.759 20.759 0 01-1.162-.682 22.045 22.045 0 01-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 018-2.828A4.5 4.5 0 0118 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 01-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 01-.69.001l-.002-.001z"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Favorites"})]}),(0,n.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),(0,n.jsx)(a.II,{type:"text",placeholder:"Search...",value:t,onChange:e=>l(e.target.value),className:"w-full sm:w-44 h-10 pl-9 pr-4 bg-[#0d0d0f] border-white/10 rounded-xl text-sm placeholder:text-white/40 focus:border-white/20 focus:ring-0"})]}),(0,n.jsx)("button",{onClick:i,className:"hidden sm:flex items-center justify-center h-10 w-10 rounded-xl text-white/40 hover:text-white hover:bg-white/5 transition-colors",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})]})}function el(e){let{category:t,onCategoryChange:l,nsfwEnabled:r,adultOnly:s,onAdultOnlyToggle:i,filteredAdultPoseCount:c}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-2 border-b border-white/5",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 sm:px-6 py-3 sm:py-5 overflow-x-auto scroll-hidden",children:[o.XZ.map(e=>(0,n.jsx)("button",{onClick:()=>l(e.id),className:(0,a.cn)("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all",t===e.id?"bg-white text-black":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"),children:e.label},e.id)),r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-6 w-px bg-white/10"}),(0,n.jsxs)("button",{onClick:i,className:(0,a.cn)("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all flex items-center gap-2",s?"bg-red-500/20 text-red-400 border border-red-500/30":"bg-white/5 text-white/60 hover:text-white hover:bg-white/10"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})}),(0,n.jsx)("span",{children:"18+ Only"})]})]})]}),!r&&c>0&&(0,n.jsx)("div",{className:"px-4 sm:px-6 pb-3",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-orange-400 flex-shrink-0",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),(0,n.jsxs)("span",{className:"text-xs text-orange-300",children:[c," adult pose",1!==c?"s":""," filtered because adult content is disabled"]})]})})]})}function en(e){let{pose:t,isSelected:l,onSelect:r,isFavorited:s,onToggleFavorite:i}=e;return(0,n.jsx)("div",{className:"break-inside-avoid mb-3",children:(0,n.jsxs)("button",{onClick:r,className:(0,a.cn)("group relative w-full rounded-xl overflow-hidden border-2 transition-all bg-gradient-to-br from-white/5 to-white/[0.02]",l?"border-[var(--purple-500)] ring-2 ring-[var(--purple-500)]/30":"border-transparent hover:border-white/30"),children:[(0,n.jsxs)("div",{className:"relative aspect-[4/5] bg-white/5 overflow-hidden",children:[t.thumbnail?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.default,{src:t.thumbnail,alt:t.name,fill:!0,className:"object-cover",unoptimized:!0}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"}),(0,n.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[(0,n.jsx)("div",{className:"text-sm font-semibold text-white mb-1",children:t.name}),(0,n.jsx)("div",{className:"text-xs text-white/60 line-clamp-1",children:t.prompt})]})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 h-full",children:[(0,n.jsx)("div",{className:"text-5xl mb-3",children:t.icon}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-sm font-semibold text-white mb-1",children:t.name}),(0,n.jsx)("div",{className:"text-xs text-white/50 line-clamp-2",children:t.prompt})]})]}),t.isAdult&&(0,n.jsx)("div",{className:"absolute top-2.5 right-2.5 z-10",children:(0,n.jsx)(a.Ct,{variant:"error",size:"default",className:"uppercase font-bold text-xs px-3 py-1.5 bg-red-600/90 text-white border-red-500 shadow-lg shadow-red-500/50",children:"18+"})})]}),l&&(0,n.jsx)("div",{className:"absolute top-2 left-2 flex h-6 w-6 items-center justify-center rounded-full bg-[var(--purple-500)]",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-white",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})}),(0,n.jsx)("button",{onClick:i,className:(0,a.cn)("absolute top-2 right-2 z-10 flex h-7 w-7 items-center justify-center rounded-full transition-all opacity-0 group-hover:opacity-100",s?"bg-[var(--pink-500)] text-white opacity-100":"bg-black/50 text-white/60 hover:bg-black/70 hover:text-white"),children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:(0,a.cn)("h-4 w-4",s&&"fill-current"),children:(0,n.jsx)("path",{d:"M9.653 16.915l-.005-.003-.019-.01a20.759 20.759 0 01-1.162-.682 22.045 22.045 0 01-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 018-2.828A4.5 4.5 0 0118 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 01-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 01-.69.001l-.002-.001z"})})})]})})}function er(e){let{availablePoses:t,selectedPoseId:l,onPoseSelect:r,isFavorited:s,onToggleFavorite:i}=e;return(0,n.jsx)("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 min-h-0",children:(0,n.jsxs)("div",{className:"columns-2 sm:columns-3 md:columns-4 lg:columns-5 gap-2 sm:gap-3",children:[(0,n.jsx)("div",{className:"break-inside-avoid mb-3",children:(0,n.jsx)("button",{onClick:()=>r(null),className:(0,a.cn)("w-full aspect-[4/5] rounded-xl overflow-hidden border-2 transition-all flex flex-col items-center justify-center bg-white/5",l?"border-transparent hover:border-white/30":"border-[var(--purple-500)] ring-2 ring-[var(--purple-500)]/30"),children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-3xl mb-2",children:""}),(0,n.jsx)("span",{className:"text-sm font-medium text-white/60",children:"None"})]})})}),t.map(e=>(0,n.jsx)(en,{pose:e,isSelected:l===e.id,onSelect:()=>r(e.id),isFavorited:s(e.id),onToggleFavorite:t=>{t.stopPropagation(),i(e.id)}},e.id))]})})}function ea(e){let{selectedPoseId:t,onPoseSelect:l,onClose:r}=e;return(0,n.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between px-5 py-4 border-t border-white/10 bg-[#0d0d0f]",children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:t?(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-white/5 border border-white/10",children:[(0,n.jsx)("span",{className:"text-white/50 text-sm",children:"Pose:"}),(0,n.jsx)("span",{className:"text-white font-medium text-sm",children:o.pK.find(e=>e.id===t)?.name}),(0,n.jsx)("button",{onClick:()=>l(null),className:"ml-1 text-white/40 hover:text-white transition-colors",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]}):(0,n.jsx)("span",{className:"text-white/40 text-sm",children:"No pose selected"})}),(0,n.jsx)("button",{onClick:r,className:"px-8 py-2.5 rounded-xl bg-[var(--purple-500)] text-white font-semibold hover:bg-[var(--purple-600)] transition-colors shadow-lg shadow-[var(--purple-500)]/25",children:"Apply"})]})}function es(e){let{selectedPoseId:t,onPoseSelect:l,onClose:a,nsfwEnabled:s}=e,{isFavorited:i,toggleFavorite:c}=(0,w.R)({itemType:"pose"}),{search:d,setSearch:u,category:h,setCategory:m,adultOnly:x,setAdultOnly:p,showFavoritesOnly:f,setShowFavoritesOnly:g,availablePoses:b,filteredAdultPoseCount:j}=function(e){let{nsfwEnabled:t}=e,[l,n]=r.useState(""),[a,s]=r.useState("all"),[i,c]=r.useState(!1),[d,u]=r.useState(!1),{isFavorited:h}=(0,w.R)({itemType:"pose"}),m=r.useMemo(()=>{let e=t?[...o.vs,...o.m1]:o.vs;return i&&t&&(e=o.m1),e.filter(e=>{let t=e.name.toLowerCase().includes(l.toLowerCase())||e.prompt.toLowerCase().includes(l.toLowerCase()),n="all"===a||e.category===a,r=!d||h(e.id);return t&&n&&r})},[t,l,a,i,d,h]),x=r.useMemo(()=>t?0:o.m1.filter(e=>{let t=e.name.toLowerCase().includes(l.toLowerCase())||e.prompt.toLowerCase().includes(l.toLowerCase()),n="all"===a||e.category===a;return t&&n}).length,[t,l,a]);return{search:l,setSearch:n,category:a,setCategory:s,adultOnly:i,setAdultOnly:c,showFavoritesOnly:d,setShowFavoritesOnly:u,availablePoses:m,filteredAdultPoseCount:x}}({nsfwEnabled:s});return(0,n.jsx)(v.F,{isOpen:!0,onClose:a,title:"Poses",className:"w-full max-w-7xl h-full md:h-auto",children:(0,n.jsxs)("div",{className:"flex flex-col h-full md:max-h-[85vh]",children:[(0,n.jsx)(et,{search:d,onSearchChange:u,showFavoritesOnly:f,onToggleFavorites:()=>g(!f),onClose:a}),(0,n.jsx)(el,{category:h,onCategoryChange:m,nsfwEnabled:s,adultOnly:x,onAdultOnlyToggle:()=>p(!x),filteredAdultPoseCount:j}),(0,n.jsx)(er,{availablePoses:b,selectedPoseId:t,onPoseSelect:l,isFavorited:i,onToggleFavorite:c}),(0,n.jsx)(ea,{selectedPoseId:t,onPoseSelect:l,onClose:a})]})})}function ei(e){let{settings:t,updateSetting:l,studioNsfwEnabled:r,onClose:a}=e;return(0,n.jsx)(es,{selectedPoseId:t.poseId,onPoseSelect:e=>l("poseId",e),onClose:a,nsfwEnabled:r})}var eo=l(25938);function ec(e){let{onModeSelect:t,onClose:l}=e;return(0,n.jsx)(eo.a,{onModeSelect:e=>{t(e),l()},onClose:l})}var ed=l(32347);function eu(e){let{settings:t,updateSetting:l,studioNsfwEnabled:r,onClose:a}=e,s="string"==typeof t.outfit?t.outfit:null;return(0,n.jsx)(ed.B,{selectedOutfit:s,onOutfitSelect:e=>{l("outfit",e),a()},onClose:a,nsfwEnabled:r})}var eh=l(96801);function em(e){let{settings:t,updateSetting:l,studioNsfwEnabled:r,onClose:a}=e,s="object"==typeof t.outfit&&null!==t.outfit?t.outfit:null;return(0,n.jsx)(eh.K,{selectedComposition:s,onCompositionSelect:e=>{l("outfit",e),a()},onClose:a,nsfwEnabled:r,influencerId:t.influencerId||void 0})}var ex=l(37777);function ep(e){let{image:t,isSelected:l,isDisabled:r,onSelect:s}=e,i="9:16"===t.aspectRatio?"aspect-[9/16]":"2:3"===t.aspectRatio?"aspect-[2/3]":"aspect-square";return(0,n.jsx)("div",{className:"break-inside-avoid mb-3",children:(0,n.jsxs)("button",{onClick:s,disabled:r,className:(0,a.cn)("group relative w-full rounded-xl overflow-hidden border-2 transition-all",l?"border-[var(--purple-500)] ring-2 ring-[var(--purple-500)]/30":r?"border-transparent opacity-30 cursor-not-allowed":"border-transparent hover:border-white/30"),children:[(0,n.jsxs)("div",{className:(0,a.cn)("relative w-full bg-white/5 overflow-hidden",i),children:[t.imageUrl?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(A.default,{src:t.thumbnailUrl||t.imageUrl,alt:t.prompt||"Object image",fill:!0,className:"object-cover",unoptimized:!0}),(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent"})]}):(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-8 w-8 text-white/20",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M1 5.25A2.25 2.25 0 013.25 3h13.5A2.25 2.25 0 0119 5.25v9.5A2.25 2.25 0 0116.75 17H3.25A2.25 2.25 0 011 14.75v-9.5zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 00.75-.75v-2.69l-2.22-2.219a.75.75 0 00-1.06 0l-1.91 1.909.47.47a.75.75 0 11-1.06 1.06L6.53 8.091a.75.75 0 00-1.06 0l-2.97 2.97zM12 7a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"})})}),t.prompt&&(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-2",children:(0,n.jsx)("div",{className:"text-xs font-medium text-white line-clamp-1",children:t.prompt})})]}),l&&(0,n.jsx)("div",{className:"absolute top-2 left-2 flex h-6 w-6 items-center justify-center rounded-full bg-[var(--purple-500)]",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-white",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})})]})})}function ef(e){let{search:t,onSearchChange:l,maxObjects:r,isUploading:s,canAddMore:i,onUploadClick:o,onClose:c,hasUpload:d}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-4 px-4 sm:px-6 py-3 sm:py-4 border-b border-white/10",children:[(0,n.jsxs)("div",{className:"hidden sm:flex items-center gap-3",children:[(0,n.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20 border border-[var(--purple-500)]/20",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 text-[var(--purple-400)]",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M1 5.25A2.25 2.25 0 013.25 3h13.5A2.25 2.25 0 0119 5.25v9.5A2.25 2.25 0 0116.75 17H3.25A2.25 2.25 0 011 14.75v-9.5zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 00.75-.75v-2.69l-2.22-2.219a.75.75 0 00-1.06 0l-1.91 1.909.47.47a.75.75 0 11-1.06 1.06L6.53 8.091a.75.75 0 00-1.06 0l-2.97 2.97zM12 7a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-bold text-white",children:"Add Objects to Image"}),(0,n.jsxs)("p",{className:"text-sm text-white/50",children:["Select up to ",r," objects to add to your image"]})]})]}),(0,n.jsx)("div",{className:"flex-1"}),(0,n.jsxs)("div",{className:"flex-1 flex items-center justify-end gap-2 sm:gap-3",children:[(0,n.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-white/40",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z",clipRule:"evenodd"})}),(0,n.jsx)(a.II,{type:"text",placeholder:"Search images...",value:t,onChange:e=>l(e.target.value),className:"w-full sm:w-44 h-10 pl-9 pr-4 bg-[#0d0d0f] border-white/10 rounded-xl text-sm placeholder:text-white/40 focus:border-white/20 focus:ring-0"})]}),d&&(0,n.jsx)("button",{onClick:o,disabled:s||!i,className:"flex items-center gap-2 p-2.5 sm:px-4 sm:py-2 rounded-xl text-sm font-medium transition-all bg-[var(--purple-500)]/20 text-[var(--purple-400)] hover:bg-[var(--purple-500)]/30 border border-[var(--purple-500)]/30 disabled:bg-white/5 disabled:text-white/40 disabled:cursor-not-allowed",children:s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Uploading..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M9.25 13.25a.75.75 0 001.5 0V4.636l2.955 2.955a.75.75 0 101.06-1.06l-4.25-4.25a.75.75 0 00-1.06 0l-4.25 4.25a.75.75 0 001.06 1.06l2.955-2.955V13.25zM3.75 15.5a.75.75 0 000 1.5h12.5a.75.75 0 000-1.5H3.75z"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Upload"})]})}),(0,n.jsx)("button",{onClick:c,className:"hidden sm:flex items-center justify-center h-10 w-10 rounded-xl text-white/40 hover:text-white hover:bg-white/5 transition-colors",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]})]})}function eg(e){let{selectedCount:t,maxObjects:l,canAddMore:r,onClose:a}=e;return(0,n.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between px-5 py-4 border-t border-white/10 bg-[#0d0d0f]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[t>0?(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-white/50 text-sm",children:"Selected:"}),(0,n.jsxs)("span",{className:"text-white font-medium text-sm",children:[t," / ",l]})]}):(0,n.jsx)("span",{className:"text-white/40 text-sm",children:"No objects selected"}),!r&&(0,n.jsxs)("span",{className:"text-xs text-white/40",children:["(Maximum ",l," objects)"]})]}),(0,n.jsx)("button",{onClick:a,className:"px-8 py-2.5 rounded-xl bg-[var(--purple-500)] text-white font-semibold hover:bg-[var(--purple-600)] transition-colors shadow-lg shadow-[var(--purple-500)]/25",children:"Apply"})]})}function ew(e){let{hasSearch:t}=e;return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,n.jsx)("div",{className:"mb-6 flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20 border border-[var(--purple-500)]/20",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-10 w-10 text-[var(--purple-400)]",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M1 5.25A2.25 2.25 0 013.25 3h13.5A2.25 2.25 0 0119 5.25v9.5A2.25 2.25 0 0116.75 17H3.25A2.25 2.25 0 011 14.75v-9.5zm1.5 5.81v3.69c0 .414.336.75.75.75h13.5a.75.75 0 00.75-.75v-2.69l-2.22-2.219a.75.75 0 00-1.06 0l-1.91 1.909.47.47a.75.75 0 11-1.06 1.06L6.53 8.091a.75.75 0 00-1.06 0l-2.97 2.97zM12 7a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"})})}),(0,n.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No images found"}),(0,n.jsx)("p",{className:"text-white/50 max-w-sm",children:t?"Try a different search term":"No images available to use as objects"})]})}function ev(e){let{availableImages:t,selectedObjectIds:l,onObjectSelect:a,onObjectRemove:s,onClose:i,maxObjects:o=3,onUploadImage:c,hasUploadConsent:d=!1,onConsentAccept:u}=e,h=l.length<o,{search:m,setSearch:x,filteredImages:p}=function(e){let[t,l]=r.useState(""),n=r.useMemo(()=>e.filter(e=>e.prompt?.toLowerCase().includes(t.toLowerCase())||e.influencerName.toLowerCase().includes(t.toLowerCase())||e.scene?.toLowerCase().includes(t.toLowerCase())||e.environment?.toLowerCase().includes(t.toLowerCase())),[e,t]);return{search:t,setSearch:l,filteredImages:n}}(t),{isUploading:f,showConsentDialog:g,fileInputRef:w,handleFileInputChange:b,handleUploadClick:j,handleConsentAccept:y,handleConsentReject:N}=function(e){let{onUploadImage:t,hasUploadConsent:l,onConsentAccept:n,canAddMore:a,onObjectSelect:s}=e,[i,o]=r.useState(!1),[c,d]=r.useState(!1),[u,h]=r.useState(null),m=r.useRef(null),x=r.useCallback(async()=>{if(n&&await n(),d(!1),u&&t){o(!0);try{let e=await t(u);e&&a&&s(e)}catch(e){console.error("Failed to upload image:",e)}finally{o(!1),h(null),m.current&&(m.current.value="")}}},[u,t,n,a,s]),p=r.useCallback(e=>{let n=e.target.files?.[0];if(n&&t){if(!l){h(n),d(!0);return}o(!0),t(n).then(e=>{e&&a&&s(e)}).catch(e=>{console.error("Failed to upload image:",e)}).finally(()=>{o(!1),m.current&&(m.current.value="")})}},[t,l,a,s]),f=r.useCallback(()=>{if(!l){d(!0);return}m.current?.click()},[l]),g=r.useCallback(()=>{d(!1),h(null),m.current&&(m.current.value="")},[]);return{isUploading:i,showConsentDialog:c,fileInputRef:m,handleFileInputChange:p,handleUploadClick:f,handleConsentAccept:x,handleConsentReject:g}}({onUploadImage:c,hasUploadConsent:d,onConsentAccept:u,canAddMore:h,onObjectSelect:a});return(0,n.jsxs)(v.F,{isOpen:!0,onClose:i,title:"Objects",className:"w-full max-w-7xl h-full md:h-auto",children:[(0,n.jsxs)("div",{className:"flex flex-col h-full md:max-h-[85vh]",children:[(0,n.jsx)(ef,{search:m,onSearchChange:x,maxObjects:o,isUploading:f,canAddMore:h,onUploadClick:j,onClose:i,hasUpload:!!c}),c&&(0,n.jsx)("input",{ref:w,type:"file",accept:"image/*",onChange:b,className:"hidden"}),(0,n.jsx)("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 min-h-0",children:0===p.length?(0,n.jsx)(ew,{hasSearch:!!m}):(0,n.jsx)("div",{className:"columns-2 sm:columns-3 md:columns-4 lg:columns-5 gap-2 sm:gap-3",children:p.map(e=>{let t=l.includes(e.id),r=!t&&!h;return(0,n.jsx)(ep,{image:e,isSelected:t,isDisabled:r,onSelect:()=>{t?s(e.id):h&&a(e)}},e.id)})})}),(0,n.jsx)(eg,{selectedCount:l.length,maxObjects:o,canAddMore:h,onClose:i})]}),(0,n.jsx)(ex.X,{isOpen:g,onAccept:y,onReject:N})]})}function eb(e){let{settings:t,updateSetting:l,selectedImage:r,availableImages:a,hasUploadConsent:s=!1,onAcceptConsent:i,onUploadImage:o,onClose:c}=e;return(0,n.jsx)(ev,{availableImages:a.filter(e=>e.id!==r?.id),selectedObjectIds:t.objects.map(e=>e.id),onObjectSelect:e=>{let n={id:e.id,imageUrl:e.imageUrl,thumbnailUrl:e.thumbnailUrl,name:e.prompt||e.influencerName};l("objects",[...t.objects,n])},onObjectRemove:e=>{l("objects",t.objects.filter(t=>t.id!==e))},onClose:c,maxObjects:3,hasUploadConsent:s,onConsentAccept:i,onUploadImage:o})}var ej=l(75991),ey=l(81778),eN=l(69829),eC=l(68608);function eS(e){let{onShowPosePicker:t,onShowOutfitPicker:l,onShowStylePicker:r,onShowModelPicker:s,onShowAspectRatioPicker:i,onShowCharacterPicker:o,onClose:c,selectedCharacterName:d="None",selectedPoseName:u="None",outfitDisplayText:h="None",selectedModelName:m="None",currentAspectRatio:x="1:1",studioNsfwEnabled:p,canEnableNSFW:f,setStudioNsfwEnabled:g}=e,w=[{id:"character",title:"Character",description:d,icon:(0,n.jsx)(ej.Z,{className:"w-6 h-6 text-orange-400"}),onClick:()=>{o(),c()}},{id:"model",title:"AI Model",description:m,icon:(0,n.jsx)(ey.Z,{className:"w-6 h-6 text-yellow-400"}),onClick:()=>{s(),c()}},{id:"aspect-ratio",title:"Aspect Ratio",description:x,icon:(0,n.jsx)("div",{className:"w-6 h-6 border-2 border-blue-400 rounded-sm flex items-center justify-center text-[10px] font-bold text-blue-400",children:x}),onClick:()=>{i(),c()}},{id:"pose",title:"Pose",description:u,icon:(0,n.jsx)(ej.Z,{className:"w-6 h-6 text-blue-400"}),onClick:()=>{t(),c()}},{id:"outfit",title:"Outfit",description:h,icon:(0,n.jsx)(eN.Z,{className:"w-6 h-6 text-purple-400"}),onClick:()=>{l(),c()}},{id:"style",title:"Styles & Scenes",description:"Customize look",icon:(0,n.jsx)(ey.Z,{className:"w-6 h-6 text-pink-400"}),onClick:()=>{r(),c()}}];return(0,n.jsx)(v.F,{isOpen:!0,onClose:c,title:"Generation Settings",children:(0,n.jsxs)("div",{className:"p-4 space-y-3",children:[f&&(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-2xl bg-white/5 border border-white/5 mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-red-500/10 border border-red-500/20",children:(0,n.jsx)("span",{className:"text-red-500 font-bold text-xs",children:"18+"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-bold text-white text-lg",children:"Adult Content"}),(0,n.jsx)("div",{className:"text-sm text-white/50",children:"Enable NSFW generations"})]})]}),(0,n.jsx)("button",{onClick:()=>g(!p),className:(0,a.cn)("relative inline-flex h-7 w-12 items-center rounded-full transition-colors focus:outline-none",p?"bg-red-600":"bg-white/10"),children:(0,n.jsx)("span",{className:(0,a.cn)("inline-block h-5 w-5 transform rounded-full bg-white transition-transform",p?"translate-x-6":"translate-x-1")})})]}),w.map(e=>(0,n.jsxs)("button",{onClick:e.onClick,className:"w-full flex items-center gap-4 p-4 rounded-2xl bg-white/5 border border-white/5 hover:bg-white/10 active:scale-[0.98] transition-all text-left",children:[(0,n.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-white/5 border border-white/10",children:e.icon}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"font-bold text-white text-lg",children:e.title}),(0,n.jsx)("div",{className:"text-sm text-white/50",children:e.description})]}),(0,n.jsx)(eC.Z,{className:"w-5 h-5 text-white/20"})]},e.id))]})})}function ek(e){let{pickers:t,settings:l,updateSetting:r,influencers:a,onInfluencerChange:s,mode:i,studioNsfwEnabled:o,canEnableNSFW:c,setStudioNsfwEnabled:d,selectedImage:u,availableImages:h,hasUploadConsent:m=!1,onAcceptConsent:x,onUploadImage:p,outfitDisplayText:f,selectedPoseName:g,selectedModelName:w}=e;return(0,n.jsxs)(n.Fragment,{children:[t.showCharacterPicker&&(0,n.jsx)(T,{influencers:a,selectedInfluencerId:l.influencerId,settings:l,updateSetting:r,onInfluencerChange:s,onClose:()=>t.setShowCharacterPicker(!1)}),t.showStylePicker&&(0,n.jsx)(ee,{settings:l,updateSetting:r,onClose:()=>t.setShowStylePicker(!1)}),t.showPosePicker&&(0,n.jsx)(ei,{settings:l,updateSetting:r,studioNsfwEnabled:o,onClose:()=>t.setShowPosePicker(!1)}),t.showOutfitModeSelector&&(0,n.jsx)(ec,{onModeSelect:e=>{t.setOutfitMode(e),t.setShowOutfitModeSelector(!1),t.setShowOutfitPicker(!0)},onClose:()=>t.setShowOutfitModeSelector(!1)}),t.showOutfitPicker&&"pre-composed"===t.outfitMode&&(0,n.jsx)(eu,{settings:l,updateSetting:r,studioNsfwEnabled:o,onClose:()=>{t.setShowOutfitPicker(!1),t.setOutfitMode(null)}}),t.showOutfitPicker&&"custom"===t.outfitMode&&(0,n.jsx)(em,{settings:l,updateSetting:r,studioNsfwEnabled:o,onClose:()=>{t.setShowOutfitPicker(!1),t.setOutfitMode(null)}}),t.showObjectPicker&&"editing"===i&&(0,n.jsx)(eb,{settings:l,updateSetting:r,selectedImage:u,availableImages:h,hasUploadConsent:m,onAcceptConsent:x,onUploadImage:p,onClose:()=>t.setShowObjectPicker(!1)}),t.showMobileSettingsMenu&&(0,n.jsx)(eS,{onShowPosePicker:()=>t.setShowPosePicker(!0),onShowOutfitPicker:()=>t.setShowOutfitModeSelector(!0),onShowStylePicker:()=>t.setShowStylePicker(!0),onShowModelPicker:()=>t.setShowModelPicker(!0),onShowAspectRatioPicker:()=>t.setShowAspectRatioPicker(!0),onShowCharacterPicker:()=>t.setShowCharacterPicker(!0),onClose:()=>t.setShowMobileSettingsMenu(!1),outfitDisplayText:f,selectedPoseName:g,selectedModelName:w,selectedCharacterName:a.find(e=>e.id===l.influencerId)?.name||"None",currentAspectRatio:l.aspectRatio,studioNsfwEnabled:o,canEnableNSFW:c,setStudioNsfwEnabled:d})]})}function eI(){return(eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)({}).hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e}).apply(null,arguments)}var eM=r.useLayoutEffect,ez=function(e){var t=r.useRef(e);return eM(function(){t.current=e}),t},eR=function(e,t){if("function"==typeof e){e(t);return}e.current=t},eL=function(e,t){var l=r.useRef();return r.useCallback(function(n){e.current=n,l.current&&eR(l.current,null),l.current=t,t&&eR(t,n)},[t])},eA={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},eP=function(e){Object.keys(eA).forEach(function(t){e.style.setProperty(t,eA[t],"important")})},eE=null,eO=function(e,t){var l=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?l+t.borderSize:l-t.paddingSize},eF=function(){},eB=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],eD=!!document.documentElement.currentStyle,eU=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var l=eB.reduce(function(e,l){return e[l]=t[l],e},{}),n=l.boxSizing;if(""===n)return null;eD&&"border-box"===n&&(l.width=parseFloat(l.width)+parseFloat(l.borderRightWidth)+parseFloat(l.borderLeftWidth)+parseFloat(l.paddingRight)+parseFloat(l.paddingLeft)+"px");var r=parseFloat(l.paddingBottom)+parseFloat(l.paddingTop),a=parseFloat(l.borderBottomWidth)+parseFloat(l.borderTopWidth);return{sizingStyle:l,paddingSize:r,borderSize:a}};function eT(e,t,l){var n=ez(l);r.useLayoutEffect(function(){var l=function(e){return n.current(e)};if(e)return e.addEventListener(t,l),function(){return e.removeEventListener(t,l)}},[])}var eG=function(e,t){eT(document.body,"reset",function(l){e.current.form===l.target&&t(l)})},eQ=function(e){eT(window,"resize",e)},eq=function(e){eT(document.fonts,"loadingdone",e)},eV=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],eH=r.forwardRef(function(e,t){var l=e.cacheMeasurements,n=e.maxRows,a=e.minRows,s=e.onChange,i=void 0===s?eF:s,o=e.onHeightChange,c=void 0===o?eF:o,d=function(e,t){if(null==e)return{};var l={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;l[n]=e[n]}return l}(e,eV),u=void 0!==d.value,h=r.useRef(null),m=eL(h,t),x=r.useRef(0),p=r.useRef(),f=function(){var e,t,r,s,i,o,d,u,m,f,g,w=h.current,v=l&&p.current?p.current:eU(w);if(v){p.current=v;var b=(e=w.value||w.placeholder||"x",void 0===(t=a)&&(t=1),void 0===(r=n)&&(r=1/0),eE||((eE=document.createElement("textarea")).setAttribute("tabindex","-1"),eE.setAttribute("aria-hidden","true"),eP(eE)),null===eE.parentNode&&document.body.appendChild(eE),s=v.paddingSize,i=v.borderSize,d=(o=v.sizingStyle).boxSizing,Object.keys(o).forEach(function(e){eE.style[e]=o[e]}),eP(eE),eE.value=e,u=eO(eE,v),eE.value=e,u=eO(eE,v),eE.value="x",f=(m=eE.scrollHeight-s)*t,"border-box"===d&&(f=f+s+i),u=Math.max(f,u),g=m*r,"border-box"===d&&(g=g+s+i),[u=Math.min(g,u),m]),j=b[0],y=b[1];x.current!==j&&(x.current=j,w.style.setProperty("height",j+"px","important"),c(j,{rowHeight:y}))}};return r.useLayoutEffect(f),eG(h,function(){if(!u){var e=h.current.value;requestAnimationFrame(function(){var t=h.current;t&&e!==t.value&&f()})}}),eQ(f),eq(f),r.createElement("textarea",eI({},d,{onChange:function(e){u||f(),i(e)},ref:m}))});function eW(e){let{prompt:t,onPromptChange:l,onPromptSubmit:r,mode:s,selectedImage:i,selectedObjects:o,influencers:c,selectedInfluencerId:d,canGenerate:u,creditsCost:h,isGenerating:m=!1,onClearImage:x,onRemoveObject:p,onAddObject:f,onSelectInfluencer:g,onShowInfluencerPicker:w}=e;return(0,n.jsxs)("div",{className:"flex items-center gap-1.5 md:gap-3 px-2 md:px-5 py-2 md:py-4",children:[(0,n.jsx)("div",{className:"hidden md:flex",children:(0,n.jsx)(P,{selectedImage:i,selectedObjects:o,mode:s,onClearImage:x,onRemoveObject:p,onAddObject:f})}),(0,n.jsx)("div",{className:"flex-1 min-w-0",children:(0,n.jsx)("div",{className:(0,a.cn)("relative w-full rounded-2xl md:rounded-3xl bg-white/5 border border-white/10 px-4 py-1 transition-all focus-within:bg-white/8 focus-within:border-white/20 focus-within:ring-1 focus-within:ring-white/10","upscaling"===s&&"opacity-50 pointer-events-none"),children:(0,n.jsx)(eH,{value:t,onChange:e=>l(e.target.value),onKeyDown:e=>{"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),u&&r())},disabled:"upscaling"===s,placeholder:function(e){switch(e){case"upscaling":return"Upscaling doesn't require a prompt...";case"editing":return"Add custom details or describe changes...";case"creating":return"Upload image as a prompt or Describe the scene you imagine";default:return"Describe what you want to generate..."}}(s),maxRows:4,className:(0,a.cn)("w-full bg-transparent text-[var(--text-primary)] placeholder:text-[var(--text-muted)] text-sm focus:outline-none resize-none py-1.5 min-h-[20px] transition-all","upscaling"===s&&"cursor-not-allowed")})})}),(0,n.jsx)("div",{className:"hidden md:flex",children:(0,n.jsx)(F,{influencers:c,selectedInfluencerId:d,onSelect:g,onShowMore:w})}),(0,n.jsx)("div",{className:"hidden md:flex",children:(0,n.jsx)(E,{mode:s,canGenerate:u,creditsCost:h,isGenerating:m,onGenerate:r})})]})}function e_(e){let{influencers:t,selectedInfluencer:l,onInfluencerChange:s,onGenerate:i,isGenerating:c=!1,creditsAvailable:d=250,selectedImage:u=null,onClearSelectedImage:h,mode:m,contentType:w,onModeChange:v,onContentTypeChange:b,nsfwEnabled:j,availableImages:y=[],hasUploadConsent:N=!1,onAcceptConsent:C,onUploadImage:S,tutorialCurrentStep:k=-1,tutorialIsActive:I=!1,className:M}=e,{handleModeChange:z}=function(e){let{selectedImage:t,mode:l,onModeChange:n,onClearSelectedImage:a}=e;return r.useEffect(()=>{t&&"creating"===l&&n("editing")},[t,l,n]),{handleModeChange:r.useCallback(e=>{"creating"===e&&t&&a&&a(),n(e)},[t,a,n])}}({selectedImage:u,mode:m,onModeChange:v,onClearSelectedImage:h}),{settings:R,updateSetting:L,studioNsfwEnabled:A,setStudioNsfwEnabled:P,canEnableNSFW:E,availableModels:F,selectedModel:B,creditsCost:D,outfitDisplayText:U,hasOutfitComposition:T,clearStyles:G}=function(e){let{selectedInfluencer:t,selectedImage:l,mode:n,contentType:a,nsfwEnabled:s}=e,[i,c]=r.useState(!1),{persistedSettings:d,updatePersistedSetting:u}=function(){let[e,t]=(0,p._)("ryla-studio-generation-settings",f),l=r.useCallback((e,l)=>{t(t=>({...t,[e]:l}))},[t]);return{persistedSettings:e,setPersistedSettings:t,updatePersistedSetting:l}}(),[h,m]=r.useState(()=>({...d,prompt:"",influencerId:t?.id||null,mode:n,contentType:a,outfit:d.outfit??null,objects:[]}));r.useEffect(()=>{m(e=>{let l=t?.id||null;return e.influencerId!==l?{...e,influencerId:l}:e})},[t]);let x=r.useRef(d);r.useEffect(()=>{let e=x.current,t={};e.aspectRatio!==d.aspectRatio&&(t.aspectRatio=d.aspectRatio),e.quality!==d.quality&&(t.quality=d.quality),e.modelId!==d.modelId&&(t.modelId=d.modelId),e.styleId!==d.styleId&&(t.styleId=d.styleId),e.sceneId!==d.sceneId&&(t.sceneId=d.sceneId),e.lightingId!==d.lightingId&&(t.lightingId=d.lightingId),e.promptEnhance!==d.promptEnhance&&(t.promptEnhance=d.promptEnhance),e.batchSize!==d.batchSize&&(t.batchSize=d.batchSize),e.poseId!==d.poseId&&(t.poseId=d.poseId),e.outfit!==d.outfit&&(t.outfit=d.outfit),Object.keys(t).length>0&&m(e=>({...e,...t,prompt:e.prompt,influencerId:e.influencerId,mode:n,contentType:a,objects:e.objects})),x.current=d},[d,n,a]),r.useEffect(()=>{"editing"!==n&&h.objects.length>0&&m(e=>({...e,objects:[]}))},[n]);let{imageSettings:w,imageNsfw:v}=function(e){let{selectedImage:t,mode:l,currentSettings:n}=e,a=r.useRef(null),[s,i]=r.useState({imageSettings:null,imageNsfw:null});return r.useEffect(()=>{if(t&&("editing"===l||"upscaling"===l||"variations"===l)){if(t.id!==a.current){var e;let l=null;if(t.outfit)try{l=JSON.parse(t.outfit)}catch{l=t.outfit}let r={prompt:"",sceneId:((e=t.scene)?e.replace(/_/g,"-"):null)||null,poseId:t.poseId||null,outfit:l,aspectRatio:t.aspectRatio||n.aspectRatio},s=void 0!==t.nsfw?t.nsfw:null;a.current=t.id,i({imageSettings:r,imageNsfw:s})}}else t&&"creating"!==l||(a.current=null,i({imageSettings:null,imageNsfw:null}))},[t,l,n.aspectRatio]),s}({selectedImage:l,mode:n,currentSettings:h});r.useEffect(()=>{w?m(e=>({...e,...w})):l&&"creating"!==n||m(e=>({...e,prompt:""}))},[w,l,n]),r.useEffect(()=>{null!==v&&c(v)},[v]);let{availableModels:b,selectedModel:j,shouldResetModel:y,defaultModelId:N}=function(e){let{mode:t,studioNsfwEnabled:l,currentModelId:n}=e,a=r.useMemo(()=>(0,o.QA)(t,{nsfwEnabled:l,mvpOnly:!0}),[t,l]),s=r.useMemo(()=>a.some(e=>e.id===n),[a,n]),i=r.useMemo(()=>!s&&a.length>0,[s,a.length]),c=r.useMemo(()=>a[0]?.id||null,[a]),d=r.useMemo(()=>a.find(e=>e.id===n)||a[0]||null,[a,n]);return{availableModels:a,selectedModel:d,shouldResetModel:i,defaultModelId:c}}({mode:n,studioNsfwEnabled:i,currentModelId:h.modelId});r.useEffect(()=>{y&&N&&(m(e=>({...e,modelId:N})),u("modelId",N))},[y,N,u]);let C=(g[h.quality]||20)*h.batchSize,S=r.useCallback((e,t)=>{m(l=>{let n={...l,[e]:t};return"prompt"!==e&&"influencerId"!==e&&"mode"!==e&&"contentType"!==e&&"objects"!==e&&u(e,t),n})},[u]),k=r.useMemo(()=>!!h.influencerId&&("creating"===n||("editing"===n||"upscaling"===n)&&null!==l),[h.influencerId,n,l]),{outfitDisplayText:I,hasOutfitComposition:M}=function(e){let{outfit:t}=e,l=r.useCallback(()=>{if(!t)return"Outfit";if("string"==typeof t)return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");let e=[t.top,t.bottom,t.shoes].filter(Boolean).length;return e>0?e>2?`Custom (${e})`:"Custom":"Outfit"},[t]);return{outfitDisplayText:r.useMemo(()=>l(),[l]),hasOutfitComposition:r.useMemo(()=>null!==t&&"object"==typeof t,[t])}}({outfit:h.outfit});return{settings:h,updateSetting:S,studioNsfwEnabled:i,setStudioNsfwEnabled:c,canEnableNSFW:s,availableModels:b,selectedModel:j,creditsCost:C,canGenerate:k,outfitDisplayText:I,hasOutfitComposition:M,clearStyles:r.useCallback(()=>{m(e=>({...e,styleId:null,sceneId:null,lightingId:null})),u("styleId",null),u("sceneId",null),u("lightingId",null)},[u])}}({selectedInfluencer:l,selectedImage:u,mode:m,contentType:w,nsfwEnabled:j}),Q=function(){let[e,t]=r.useState(!1),[l,n]=r.useState(!1),[a,s]=r.useState(!1),[i,o]=r.useState(!1),[c,d]=r.useState(!1),[u,h]=r.useState(!1),[m,x]=r.useState(!1),[p,f]=r.useState(!1),[g,w]=r.useState(null),[v,b]=r.useState(!1),[j,y]=r.useState(!1);r.useCallback(()=>{t(!1),n(!1),s(!1),o(!1),d(!1),h(!1),x(!1),f(!1),w(null),b(!1),y(!1)},[]);let N=r.useCallback(()=>{t(e=>!e)},[]),C=r.useCallback(()=>{n(e=>!e)},[]),S=r.useCallback(()=>{s(e=>!e)},[]),k=r.useCallback(e=>{w(e),x(!1),f(!0)},[]),I=r.useCallback(()=>{f(!1),w(null)},[]);return{showModelPicker:e,setShowModelPicker:t,toggleModel:N,showAspectRatioPicker:l,setShowAspectRatioPicker:n,toggleAspectRatio:C,showQualityPicker:a,setShowQualityPicker:s,toggleQuality:S,showCharacterPicker:i,setShowCharacterPicker:o,showStylePicker:c,setShowStylePicker:d,showPosePicker:u,setShowPosePicker:h,showOutfitModeSelector:m,setShowOutfitModeSelector:x,showOutfitPicker:p,setShowOutfitPicker:f,outfitMode:g,setOutfitMode:w,selectOutfitMode:k,closeOutfitPicker:I,showObjectPicker:v,setShowObjectPicker:b,showMobileSettingsMenu:j,setShowMobileSettingsMenu:y}}(),q=r.useRef(null),V=r.useRef(null),H=r.useRef(null),W=R.poseId?o.pK.find(e=>e.id===R.poseId):null,_=()=>{("editing"!==m&&"upscaling"!==m||u)&&R.influencerId&&i({...R,nsfw:A})},{canGenerate:Z}=function(e){let{settings:t,mode:l,selectedImage:n,creditsAvailable:a,creditsCost:s}=e;return{canGenerate:r.useMemo(()=>!!t.influencerId&&!(a<s)&&("creating"===l||("editing"===l||"upscaling"===l)&&null!==n),[t.influencerId,l,n,a,s])}}({settings:R,mode:m,selectedImage:u,creditsAvailable:d,creditsCost:D}),{showCreativeControls:$,showAspectRatio:X,showPromptEnhance:K}={showCreativeControls:"creating"===m||"editing"===m,showAspectRatio:"creating"===m||"editing"===m,showPromptEnhance:"creating"===m||"editing"===m};return(0,n.jsx)("div",{className:(0,a.cn)("mx-3 md:mx-4 mb-4 md:mb-1 lg:mx-6 lg:mb-2 pointer-events-auto",M),children:(0,n.jsxs)("div",{className:"flex flex-col rounded-2xl md:rounded-3xl bg-[var(--bg-elevated)]/95 backdrop-blur-xl border-2 shadow-xl md:shadow-2xl shadow-black/40 overflow-hidden transition-all duration-300",style:{borderColor:"creating"===m?"#3b82f6":"editing"===m?"#a855f7":"upscaling"===m?"#22c55e":"#f97316"},children:[(0,n.jsx)(x,{mode:m,contentType:w,onModeChange:z,onContentTypeChange:b,hasSelectedImage:!!u,creditsAvailable:d,className:"bg-transparent"}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)(eW,{prompt:R.prompt,onPromptChange:e=>L("prompt",e),onPromptSubmit:_,mode:m,selectedImage:u,selectedObjects:R.objects,influencers:t,selectedInfluencerId:R.influencerId,canGenerate:Z,creditsCost:D,isGenerating:c,onClearImage:h,onRemoveObject:e=>L("objects",R.objects.filter(t=>t.id!==e)),onAddObject:()=>Q.setShowObjectPicker(!0),onSelectInfluencer:e=>{L("influencerId",e),Q.setShowCharacterPicker(!1),s&&s(e)},onShowInfluencerPicker:()=>Q.setShowCharacterPicker(!0)}),(0,n.jsx)(O,{settings:R,updateSetting:L,availableModels:F,selectedModel:B,pickers:Q,modelButtonRef:q,aspectRatioButtonRef:V,qualityButtonRef:H,showAspectRatio:X,showPromptEnhance:K,showCreativeControls:$,selectedPose:W,outfitDisplayText:U,hasOutfitComposition:T,studioNsfwEnabled:A,canEnableNSFW:E,setStudioNsfwEnabled:P,clearStyles:G,selectedImage:u,selectedObjects:R.objects,onAddObject:()=>Q.setShowObjectPicker(!0),onRemoveObject:e=>L("objects",R.objects.filter(t=>t.id!==e)),onClearImage:h,mode:m,influencers:t,selectedInfluencerId:R.influencerId,onShowInfluencerPicker:()=>Q.setShowCharacterPicker(!0),onPromptSubmit:_,canGenerate:Z,creditsCost:D,isGenerating:c,tutorialCurrentStep:k,tutorialIsActive:I})]}),(0,n.jsx)(ek,{pickers:Q,settings:R,updateSetting:L,influencers:t,onInfluencerChange:s,mode:m,studioNsfwEnabled:A,canEnableNSFW:E,setStudioNsfwEnabled:P,selectedImage:u,availableImages:y,hasUploadConsent:N,onAcceptConsent:C,onUploadImage:S,outfitDisplayText:U,selectedPoseName:W?.name,selectedModelName:B?.name})]})})}l(47155),l(31537),l(45665),l(96299);var eZ=l(93646);function e$(e){let{onResetTutorial:t}=e,[l,s]=r.useState(!1),[i,o]=r.useState(!1);if(r.useEffect(()=>{o(!0)},[]),r.useEffect(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&e.shiftKey&&"D"===e.key&&(e.preventDefault(),s(e=>!e))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),!("localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname)||!i)return null;let c=e=>{try{localStorage.removeItem(`tutorial_${e}_completed`),t?.(e),s(!1)}catch(e){console.error("Failed to reset tutorial:",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>s(!0),className:(0,a.cn)("fixed bottom-6 right-6 z-50","h-12 w-12 rounded-full","bg-gradient-to-br from-purple-500 to-pink-500","hover:from-purple-400 hover:to-pink-400","text-white shadow-lg shadow-purple-500/30","flex items-center justify-center","transition-all duration-200 hover:scale-110","border border-white/20"),"aria-label":"Open dev panel (Ctrl+Shift+D)",title:"Dev Panel (Ctrl+Shift+D)",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-6 w-6",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM8.94 6.94a.75.75 0 11-1.061-1.061 3 3 0 112.871 5.026v.345a.75.75 0 01-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 108.94 6.94zM10 15a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),l&&(0,eZ.createPortal)((0,n.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",style:{backgroundColor:"rgba(0, 0, 0, 0.8)"},onClick:()=>s(!1),children:(0,n.jsxs)("div",{className:"bg-[#18181b] border border-white/10 rounded-2xl shadow-2xl p-6 max-w-sm w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4 text-white",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M14.5 10a4.5 4.5 0 004.284-5.882c-.105-.324-.51-.391-.752-.15L15.34 6.66a.454.454 0 01-.493.101 3.482 3.482 0 01-1.608-1.607.454.454 0 01.1-.493l2.69-2.69c.243-.243.175-.647-.149-.752a4.5 4.5 0 00-5.873 4.575c.055.873-.128 1.808-.8 2.368l-7.23 6.024a2.724 2.724 0 103.837 3.837l6.024-7.23c.56-.672 1.495-.855 2.368-.8.096.007.193.01.291.01zM5 16a1 1 0 11-2 0 1 1 0 012 0z",clipRule:"evenodd"})})}),(0,n.jsx)("h2",{className:"text-lg font-bold text-white",children:"Dev Panel"})]}),(0,n.jsx)("button",{onClick:()=>s(!1),className:"text-white/40 hover:text-white transition-colors p-1 rounded-lg hover:bg-white/10","aria-label":"Close dev panel",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5",children:(0,n.jsx)("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})})})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xs font-semibold text-white/50 mb-2 uppercase tracking-wider",children:"Reset Tutorials"}),(0,n.jsx)("div",{className:"space-y-2",children:(0,n.jsxs)("button",{onClick:()=>c("studio"),className:(0,a.cn)("w-full text-left px-4 py-3 rounded-xl","bg-white/5 hover:bg-white/10","text-white text-sm font-medium","transition-colors","flex items-center gap-3"),children:[(0,n.jsx)("span",{className:"text-purple-400",children:"\uD83C\uDFA8"}),"Reset Studio Tutorial"]})})]}),(0,n.jsx)("div",{className:"pt-2 border-t border-white/5",children:(0,n.jsxs)("button",{onClick:()=>{try{Object.keys(localStorage).filter(e=>e.startsWith("tutorial_")).forEach(e=>localStorage.removeItem(e)),s(!1)}catch(e){console.error("Failed to clear tutorials:",e)}},className:(0,a.cn)("w-full px-4 py-3 rounded-xl","bg-red-500/10 hover:bg-red-500/20","text-red-400 text-sm font-medium","transition-colors","flex items-center justify-center gap-2"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5z",clipRule:"evenodd"})}),"Clear All Tutorial States"]})}),(0,n.jsx)("div",{className:"pt-2 border-t border-white/5",children:(0,n.jsxs)("div",{className:"px-3 py-2 rounded-lg text-white/40 text-xs",children:[(0,n.jsx)("span",{className:"text-white/60",children:"Page:"})," ",window.location.pathname,(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"text-white/60",children:"Shortcut:"})," Ctrl+Shift+D"]})})]})]})}),document.body)]})}let eX=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i,eK=[{id:"character-selection",target:'[data-tutorial-target="character-selector"]',message:"Select an AI Influencer to generate images for",position:"bottom",pointerDirection:"up"},{id:"mode-tabs",target:'[data-tutorial-target="mode-tabs"]',message:"Switch between Creating new images, Editing existing ones, or Upscaling for higher resolution",position:"bottom",pointerDirection:"up"},{id:"content-type",target:'[data-tutorial-target="content-type-selector"]',message:"Choose to generate Images or Videos (Video coming soon!)",position:"bottom",pointerDirection:"up"},{id:"generation-controls",target:'[data-tutorial-target="generation-controls"]',message:"Choose a scene, environment, and outfit for your images",position:"top",pointerDirection:"down"},{id:"generation-settings",target:'[data-tutorial-target="generation-settings"]',message:"Adjust settings: aspect ratio, quality, and batch size",position:"top",pointerDirection:"down"},{id:"generate-button",target:'[data-tutorial-target="generate-button"]',message:"Click Generate to create your images. Each image costs credits.",position:"top",pointerDirection:"down"},{id:"gallery",target:'[data-tutorial-target="gallery"]',message:"View your generated images here. Like, download, or delete them.",position:"top",pointerDirection:"down"}],eJ=new Set(["1:1","9:16","2:3"]);function eY(e){return eX.test(e)}var e0=l(65759);function e1(e){let{jobs:t,influencerId:l,influencerName:n,influencerAvatar:r,aspectRatio:a,prompt:s,scene:i="candid-lifestyle",environment:o="studio",outfit:c,poseId:d,nsfw:u=!1,promptEnhance:h,originalPrompt:m,enhancedPrompt:x}=e;return t.map(e=>({id:`placeholder-${e.promptId}`,imageUrl:"",influencerId:l,influencerName:n||"Unknown",influencerAvatar:r||void 0,prompt:s,scene:i,environment:o,outfit:c,poseId:d,aspectRatio:a,status:"generating",createdAt:new Date().toISOString(),isLiked:!1,nsfw:u,promptEnhance:h,originalPrompt:m,enhancedPrompt:x,progress:0}))}async function e5(e){return new Promise((t,l)=>{let n=new FileReader;n.onload=()=>t(n.result),n.onerror=l,n.readAsDataURL(e)})}var e2=l(9060);let e7=["creating","editing","upscaling","variations"];var e3=l(63609),e4=l(96066);function e6(){return(0,n.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute -top-40 right-0 h-[500px] w-[500px] opacity-30",style:{background:"radial-gradient(circle, rgba(168, 85, 247, 0.15) 0%, transparent 70%)",filter:"blur(60px)"}}),(0,n.jsx)("div",{className:"absolute -bottom-40 left-0 h-[400px] w-[400px] opacity-20",style:{background:"radial-gradient(circle, rgba(236, 72, 153, 0.12) 0%, transparent 70%)",filter:"blur(60px)"}})]})}function e8(e){let{showPanel:t,selectedImage:l,onClose:r,onLike:s,onDelete:o,onDownload:c,onRetry:d}=e,u=t&&l;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:(0,a.cn)("hidden lg:block transition-all duration-300 ease-in-out relative flex-shrink-0 border-l border-[var(--border-default)] bg-[var(--bg-elevated)] h-full",u?"w-[420px]":"w-0 overflow-hidden border-none"),children:u&&(0,n.jsx)("div",{className:"absolute inset-0 flex flex-col h-full bg-transparent overflow-hidden",children:(0,n.jsx)(i.mb,{image:l,onClose:r,onLike:s,onDelete:o,onDownload:c,onRetry:d,className:"flex-1 border-none shadow-none",variant:"panel"})})}),u&&(0,n.jsx)(i.mb,{image:l,onClose:r,onLike:s,onDelete:o,onDownload:c,onRetry:d,className:"lg:hidden",variant:"modal"})]})}function e9(e){let{filteredImages:t,selectedImage:l,showPanel:r,viewMode:s,isLoading:o=!1,onSelectImage:c,onOpenDetails:d,onLike:u,onDownload:h,onClosePanel:m,onDelete:x,onRetry:p}=e;return(0,n.jsx)("div",{className:"relative flex flex-1 h-full overflow-hidden",children:(0,n.jsx)("div",{className:"flex-1 overflow-y-auto p-3 lg:p-4 transition-all duration-300 ease-in-out",children:(0,n.jsx)(a.ay,{delay:100,children:(0,n.jsx)(i.s2,{images:t,selectedImage:l,onSelectImage:c,onOpenDetails:d,onQuickLike:u,onQuickDownload:h,viewMode:s,isLoading:o})})})})}function te(e){let{tutorial:t}=e;return t.isActive?(0,n.jsx)(a.ow,{steps:eK,currentStep:t.currentStep,onNext:t.next,onSkip:t.skip,onComplete:t.complete,isVisible:t.isActive}):null}var tt=l(52058);function tl(){return(0,n.jsx)(s.i,{children:(0,n.jsx)(tn,{})})}function tn(){let e=(0,a.oG)("studio",eK,{autoStart:!0}),t=function(){let e=(0,e2.useRouter)(),t=e3.SX.useUtils(),{hasConsent:l,acceptConsent:n}=function(){let e=e3.SX.useUtils(),{data:t}=e3.SX.user.hasUploadConsent.useQuery(),l=e3.SX.user.acceptUploadConsent.useMutation({onSuccess:()=>{e.user.hasUploadConsent.invalidate()}});return{hasConsent:t?.hasConsent??!1,acceptConsent:async()=>{await l.mutateAsync()}}}(),a=e3.SX.user.uploadObjectImage.useMutation(),{balance:s,refetch:i}=(0,e4.Bg)(),{data:o}=e3.SX.character.list.useQuery(),c=r.useMemo(()=>o?.items?o.items.map(e=>({id:e.id,name:e.name,handle:e.handle||`@${e.name.toLowerCase().replace(/\s+/g,".")}`,bio:e.config?.bio||"New AI influencer ",avatar:e.baseImageUrl||null,gender:e.config?.gender||"female",style:e.config?.style||"realistic",ethnicity:e.config?.ethnicity||"caucasian",age:e.config?.age||25,hairStyle:e.config?.hairStyle||"long-straight",hairColor:e.config?.hairColor||"brown",eyeColor:e.config?.eyeColor||"brown",bodyType:e.config?.bodyType||"slim",breastSize:e.config?.breastSize,archetype:e.config?.archetype||"girl-next-door",personalityTraits:e.config?.personalityTraits||[],outfit:e.config?.defaultOutfit||"casual",nsfwEnabled:e.config?.nsfwEnabled||!1,profilePictureSetId:e.config?.profilePictureSetId||void 0,postCount:parseInt(e.postCount||"0",10),imageCount:e.imageCount??0,likedCount:parseInt(e.likedCount||"0",10),createdAt:e.createdAt instanceof Date?e.createdAt.toISOString():e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt instanceof Date?e.updatedAt.toISOString():e.updatedAt||new Date().toISOString()})):[],[o]),d=function(){let e=(0,e2.useSearchParams)();return r.useMemo(()=>{var t;let l=e.get("influencer");return{influencerFromQuery:l,imageIdFromQuery:e.get("imageId"),modeFromQuery:(t=e.get("mode"))&&e7.includes(t)?t:"creating",templateIdFromQuery:e.get("template")}},[e])}(),[u,h]=r.useState(null),{viewMode:m,setViewMode:x,aspectRatios:f,setAspectRatios:g,status:w,setStatus:v,liked:b,setLiked:j,adult:y,setAdult:N,sortBy:C,setSortBy:S,searchQuery:k,setSearchQuery:I,showPanel:M,setShowPanel:z}=(0,e4.RV)(),[R,L]=r.useState(null),[A,P]=(0,p._)("ryla-studio-mode","creating"),[E,O]=(0,p._)("ryla-studio-content-type","image"),F=r.useMemo(()=>c.filter(e=>eY(e.id)).map(e=>({id:e.id,name:e.name,avatar:e.avatar||void 0})),[c]),{images:B,isLoading:D,refreshImages:U,addPlaceholders:T,updateImage:G,replaceImage:Q,removeImage:q,activeGenerations:V,setActiveGenerations:H}=(0,e4.M0)({selectedInfluencerId:u,influencers:F}),{validInfluencers:W,influencerTabs:_,totalImageCount:Z,influencerList:$,selectedInfluencerForGeneration:X,nsfwEnabled:K,filteredImages:J}=function(e){let{influencers:t,allImages:l,selectedInfluencerId:n,status:a,aspectRatios:s,liked:i,adult:o,searchQuery:c,sortBy:d}=e,u=r.useMemo(()=>t.filter(e=>eY(e.id)),[t]),h=r.useMemo(()=>{if(!Array.isArray(u)||0===u.length)return[];let e=u.map(e=>{let t=l.filter(t=>t.influencerId===e.id),n=t.length>0?t.reduce((e,t)=>new Date(t.createdAt).getTime()>new Date(e.createdAt).getTime()?t:e):null;return{id:e.id,name:e.name,avatar:e.avatar||void 0,imageCount:e.imageCount??0,_lastImageDate:n?new Date(n.createdAt).getTime():0}});return e.sort((e,t)=>t._lastImageDate!==e._lastImageDate?t._lastImageDate-e._lastImageDate:e.name.localeCompare(t.name)),e.map(e=>({id:e.id,name:e.name,avatar:e.avatar,imageCount:e.imageCount}))},[u,l]),m=r.useMemo(()=>h.reduce((e,t)=>e+t.imageCount,0),[h]),x=r.useMemo(()=>Array.isArray(u)&&0!==u.length?u.map(e=>({id:e.id,name:e.name,avatar:e.avatar||void 0})):[],[u]),p=r.useMemo(()=>n&&x.find(e=>e.id===n)||null,[n,x]),f=r.useMemo(()=>{if(!n)return!1;let e=u.find(e=>e.id===n);return e?.nsfwEnabled||!1},[n,u]);return{validInfluencers:u,influencerTabs:h,totalImageCount:m,influencerList:x,selectedInfluencerForGeneration:p,nsfwEnabled:f,filteredImages:r.useMemo(()=>{let e=[...l];if(n&&(e=e.filter(e=>e.influencerId===n)),e="all"!==a?e.filter(e=>e.status===a):e.filter(e=>"failed"!==e.status),s.length>0&&(e=e.filter(e=>s.includes(e.aspectRatio))),"all"!==i&&("liked"===i?e=e.filter(e=>!0===e.isLiked):"not-liked"===i&&(e=e.filter(e=>!1===e.isLiked))),"all"!==o&&("adult"===o?e=e.filter(e=>!0===e.nsfw):"not-adult"===o&&(e=e.filter(e=>!0!==e.nsfw))),c.trim()){let t=c.toLowerCase();e=e.filter(e=>e.prompt?.toLowerCase().includes(t)||e.influencerName.toLowerCase().includes(t)||e.scene?.toLowerCase().includes(t)||e.environment?.toLowerCase().includes(t))}return e.sort((e,t)=>{let l=new Date(e.createdAt).getTime(),n=new Date(t.createdAt).getTime();return"newest"===d?n-l:l-n}),e},[l,n,a,s,i,o,c,d])}}({influencers:c,allImages:B,selectedInfluencerId:u,status:w,aspectRatios:f,liked:b,adult:y,searchQuery:k,sortBy:C}),Y=r.useCallback(async l=>{try{await t.templates.applyTemplate.fetch({id:l});let n=new URLSearchParams(window.location.search);n.delete("template");let r=n.toString(),a=r?`${window.location.pathname}?${r}`:window.location.pathname;e.replace(a,{scroll:!1})}catch(e){console.error("Failed to apply template:",e)}},[e,t.templates.applyTemplate]);!function(e){let{validInfluencers:t,influencerFromQuery:l,imageIdFromQuery:n,modeFromQuery:a,templateIdFromQuery:s,selectedInfluencerId:i,allImages:o,mode:c,setSelectedInfluencerId:d,setSelectedImage:u,setShowPanel:h,setMode:m,onTemplateApply:x}=e,p=r.useRef(null),f=r.useRef(null),g=r.useRef(!1);r.useEffect(()=>{"variations"===c&&m("creating")},[c,m]),r.useEffect(()=>{if(!g.current&&0!==t.length){if(l&&eY(l)&&t.some(e=>e.id===l)){d(l),g.current=!0;return}!i&&t[0]?.id&&d(t[0].id),g.current=!0}},[t,l,i,d]),r.useEffect(()=>{if(!n){p.current=null;return}if(p.current===n||0===o.length)return;let e=o.find(e=>e.id===n);e&&(p.current=n,u(e),h(!0),e.influencerId&&e.influencerId!==i&&d(e.influencerId),"creating"!==a&&m(a))},[n,o,a,i,u,h,d,m]),r.useEffect(()=>{if(!s){f.current=null;return}f.current!==s&&x&&(f.current=s,x(s))},[s,x])}({validInfluencers:W,influencerFromQuery:d.influencerFromQuery,imageIdFromQuery:d.imageIdFromQuery,modeFromQuery:d.modeFromQuery,templateIdFromQuery:d.templateIdFromQuery,selectedInfluencerId:u,allImages:B,mode:A,setSelectedInfluencerId:h,setSelectedImage:L,setShowPanel:z,setMode:P,onTemplateApply:Y}),function(e){let{selectedInfluencerId:t,selectedImageId:l,showPanel:n,mode:a}=e,s=(0,e2.useRouter)(),i=(0,e2.usePathname)(),o=(0,e2.useSearchParams)(),c=r.useRef(""),d=r.useRef(!0),u=r.useMemo(()=>({influencer:t,imageId:l,mode:a,showPanel:n}),[t,l,a,n]),h=r.useMemo(()=>(function(e){let t=new URLSearchParams;return e.influencer&&t.set("influencer",e.influencer),e.imageId&&e.showPanel&&t.set("imageId",e.imageId),"creating"!==e.mode&&e.showPanel&&e.imageId&&t.set("mode",e.mode),t.toString()})(u),[u]);r.useEffect(()=>{if(d.current){d.current=!1,c.current=o.toString();return}if(h===c.current)return;let e=h?`${i}?${h}`:i;s.replace(e,{scroll:!1}),c.current=h},[h,i,s,o])}({selectedInfluencerId:u,selectedImageId:R?.id??null,showPanel:M,mode:A});let ee=function(e){let{influencers:t,selectedInfluencerId:l,refreshImages:n,updateImage:a,replaceImage:s,removeImage:i,addPlaceholders:o,setActiveGenerations:c,setSelectedImage:d,setShowPanel:u,setSelectedInfluencerId:h,setMode:m,utils:x,refetchCredits:p,uploadImageMutation:f}=e,g=function(e){let{updateImage:t,removeImage:l,setSelectedImage:n,refreshImages:a,selectedInfluencerId:s}=e,i=r.useCallback(async e=>{try{let l=await (0,e0.HA)(e);t(e,{isLiked:l.liked}),n(t=>t?.id===e?{...t,isLiked:l.liked}:t)}catch(e){console.error("Like failed:",e)}},[t,n]);return{handleLike:i,handleDelete:r.useCallback(async e=>{try{await (0,e0.ao)(e),n(t=>t?.id===e?null:t),s?await a(s):l(e)}catch(e){console.error("Delete failed:",e)}},[s,a,l,n]),handleDownload:r.useCallback(async e=>{if(e.imageUrl)try{let t=await fetch(e.imageUrl),l=await t.blob(),n=window.URL.createObjectURL(l),r=document.createElement("a");r.href=n,r.download=`ryla-${e.influencerName.toLowerCase().replace(/\s+/g,"-")}-${e.id.slice(0,8)}.png`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r)}catch(e){console.error("Download failed:",e)}},[]),handleSelectImage:r.useCallback((e,t,l)=>{if(e){let r={id:e.id,imageUrl:e.imageUrl||"",thumbnailUrl:e.thumbnailUrl,influencerId:e.influencerId,influencerName:e.influencerName,influencerAvatar:e.influencerAvatar,prompt:e.prompt,scene:e.scene,environment:e.environment,outfit:e.outfit,poseId:e.poseId,aspectRatio:e.aspectRatio,status:e.status,createdAt:e.createdAt,isLiked:e.isLiked,nsfw:e.nsfw,promptEnhance:e.promptEnhance,originalPrompt:e.originalPrompt,enhancedPrompt:e.enhancedPrompt};n(r),r.influencerId&&r.influencerId!==l&&t(r.influencerId)}else n(null)},[n])}}({updateImage:a,removeImage:i,setSelectedImage:d,refreshImages:n,selectedInfluencerId:l}),w=function(e){let{influencers:t,addPlaceholders:l,removeImage:n,updateImage:a,replaceImage:s,setActiveGenerations:i,setSelectedImage:o,refreshImages:c,utils:d,refetchCredits:u}=e,{pollGenerationResults:h}=function(e){let{setActiveGenerations:t,updateImage:l,replaceImage:n,utils:a}=e,s=r.useRef(new Map),i=r.useRef(new Map),o=r.useRef(new Map);return{pollGenerationResults:r.useCallback(async(e,r,c)=>{let d=Date.now(),u=new Set;for(e.forEach(e=>{i.current.has(e)||i.current.set(e,Date.now())}),c&&c.forEach((e,t)=>{o.current.set(t,e)});Date.now()-d<18e4&&u.size<e.length;)try{let c=e.filter(e=>!u.has(e));if((await Promise.all(c.map(e=>(0,e0.hE)(e)))).forEach((e,t)=>{let a=c[t],d=`placeholder-${a}`,h=s.current.get(a),m=h?.status;"processing"===e.status&&"processing"!==m&&(h={status:"processing",startedAt:Date.now(),progress:15},s.current.set(a,h));let x=function(e,t,l){if("completed"===e)return 100;if("failed"===e)return 0;let n=Date.now();return"queued"===e?l?Math.max(1,Math.min(15,(n-l)/5e3*15)):5:"processing"===e?Math.min(95,15+80*(1-Math.exp(-((n-(t||n))/45e3*2)))):0}(e.status,h?.startedAt,i.current.get(a));if("completed"===e.status&&e.images&&e.images.length>0){if(!u.has(a)){u.add(a);let t=e.images[0],l=o.current.get(a)||{},c={id:t.id,imageUrl:t.url,thumbnailUrl:t.thumbnailUrl,influencerId:r,influencerName:l.influencerName||"Unknown",influencerAvatar:l.influencerAvatar,prompt:l.prompt,scene:l.scene,environment:l.environment,outfit:l.outfit,poseId:l.poseId,aspectRatio:l.aspectRatio||"9:16",status:"completed",createdAt:new Date().toISOString(),isLiked:!1,nsfw:l.nsfw,promptEnhance:l.promptEnhance,originalPrompt:l.originalPrompt,enhancedPrompt:l.enhancedPrompt,progress:100};n(d,c),s.current.delete(a),i.current.delete(a),o.current.delete(a)}}else"failed"===e.status?u.has(a)||(u.add(a),l(d,{status:"failed",progress:0}),s.current.delete(a),i.current.delete(a),o.current.delete(a)):l(d,{progress:x})}),u.size===e.length){t(t=>{let l=new Set(t);return e.forEach(e=>l.delete(e)),l}),a.notifications.list.invalidate();break}await new Promise(e=>setTimeout(e,2e3))}catch(e){console.error("Polling error:",e),await new Promise(e=>setTimeout(e,2e3))}t(t=>{let l=new Set(t);return e.forEach(e=>l.delete(e)),l}),e.forEach(e=>{s.current.delete(e),i.current.delete(e),o.current.delete(e)})},[t,l,n,a])}}({setActiveGenerations:i,updateImage:a,replaceImage:s,utils:d});return{handleGenerate:r.useCallback(async e=>{if(!e.influencerId)return;let n=t.find(t=>t.id===e.influencerId);if(!n)return;let r=eJ.has(e.aspectRatio)?e.aspectRatio:"9:16";try{let t=!e.nsfw||e.outfit||n.outfit?e.outfit||n.outfit||"casual":"",a=await (0,e0.uQ)({characterId:e.influencerId,additionalDetails:e.prompt?.trim()||void 0,scene:e.sceneId||"candid-lifestyle",environment:"studio",outfit:t,poseId:e.poseId||void 0,lighting:e.lightingId||void 0,aspectRatio:r,count:Math.max(1,Math.min(10,e.batchSize)),nsfw:e.nsfw??!1,promptEnhance:e.promptEnhance??!0}),s="string"==typeof t?t:JSON.stringify(t),o=e1({jobs:a.jobs,influencerId:e.influencerId,influencerName:n.name||"Unknown",influencerAvatar:n.avatar,aspectRatio:r,prompt:e.prompt,scene:e.sceneId||"candid-lifestyle",environment:"studio",outfit:s,poseId:e.poseId||void 0,nsfw:e.nsfw??!1,promptEnhance:e.promptEnhance??!0});l(o);let c=a.jobs.map(e=>e.promptId);i(e=>{let t=new Set(e);return c.forEach(e=>t.add(e)),t});let m=new Map;a.jobs.forEach(t=>{m.set(t.promptId,{influencerName:n.name||"Unknown",influencerAvatar:n.avatar||void 0,prompt:e.prompt,scene:e.sceneId||"candid-lifestyle",environment:"studio",outfit:s,poseId:e.poseId||void 0,aspectRatio:r,nsfw:e.nsfw??!1,promptEnhance:e.promptEnhance??!0})}),h(c,e.influencerId,m),d.activity.list.invalidate(),d.activity.summary.invalidate(),u()}catch(e){console.error("Generation failed:",e)}},[t,l,i,h,d,u]),handleRetry:r.useCallback(async e=>{if("failed"!==e.status)return;let r=t.find(t=>t.id===e.influencerId);if(!r)return;let a=e.enhancedPrompt?e.enhancedPrompt.replace(e.originalPrompt||"","").trim():e.prompt||void 0;try{let t=e.outfit||r.outfit||"casual";try{"string"==typeof e.outfit&&e.outfit.startsWith("{")&&(t=JSON.parse(e.outfit))}catch{}let s=await (0,e0.uQ)({characterId:e.influencerId,additionalDetails:a,scene:e.scene||"candid-lifestyle",environment:e.environment||"studio",outfit:t,poseId:e.poseId,aspectRatio:e.aspectRatio,count:1,nsfw:e.nsfw??!1,promptEnhance:e.promptEnhance??!0,isRetry:!0,retryImageId:e.id});n(e.id);let c=e1({jobs:s.jobs,influencerId:e.influencerId,influencerName:r.name||"Unknown",influencerAvatar:r.avatar,aspectRatio:e.aspectRatio,prompt:e.prompt||a,scene:e.scene,environment:e.environment,outfit:e.outfit,poseId:e.poseId,nsfw:e.nsfw??!1,promptEnhance:e.promptEnhance,originalPrompt:e.originalPrompt,enhancedPrompt:e.enhancedPrompt});l(c);let m=s.jobs.map(e=>e.promptId);i(e=>{let t=new Set(e);return m.forEach(e=>t.add(e)),t});let x=new Map;s.jobs.forEach(t=>{x.set(t.promptId,{influencerName:r.name||"Unknown",influencerAvatar:r.avatar||void 0,prompt:e.prompt||a,scene:e.scene,environment:e.environment,outfit:e.outfit,poseId:e.poseId,aspectRatio:e.aspectRatio,nsfw:e.nsfw??!1,promptEnhance:e.promptEnhance,originalPrompt:e.originalPrompt,enhancedPrompt:e.enhancedPrompt})}),h(m,e.influencerId,x),o(null),d.activity.list.invalidate(),d.activity.summary.invalidate(),u()}catch(e){console.error("Retry failed:",e)}},[t,n,l,i,o,d,u,h])}}({influencers:t,addPlaceholders:o,removeImage:i,updateImage:a,replaceImage:s,setActiveGenerations:c,setSelectedImage:d,refreshImages:n,utils:x,refetchCredits:p}),v=function(e){let{uploadImageMutation:t}=e;return{handleUploadImage:r.useCallback(async e=>{try{var l;let n=await e5(e);return{id:(l=await t.mutateAsync({imageBase64:n,name:e.name})).id,imageUrl:l.imageUrl,thumbnailUrl:l.thumbnailUrl||void 0,influencerId:"",influencerName:l.name||"Uploaded Image",prompt:l.name||"Uploaded Image",aspectRatio:"1:1",status:"completed",createdAt:l.createdAt,nsfw:!1}}catch(e){return console.error("Upload failed:",e),null}},[t])}}({uploadImageMutation:f}),b=r.useCallback(e=>{g.handleSelectImage(e,h,l),e?m("editing"):m("creating")},[g,h,l,m]),j=r.useCallback(e=>{g.handleSelectImage(e,h,l),u(!0),m("editing")},[g,h,l,u,m]),y=r.useCallback(()=>{d(null),u(!1),m("creating")},[d,u,m]),N=r.useCallback(e=>{d(null),u(!1),"creating"!==e&&m("creating")},[d,u,m]);return{handleLike:g.handleLike,handleDelete:g.handleDelete,handleDownload:g.handleDownload,handleSelectImage:b,handleOpenDetails:j,handleGenerate:w.handleGenerate,handleRetry:w.handleRetry,handleUploadImage:v.handleUploadImage,handleClosePanel:y,handleClearSelectedImage:N}}({influencers:c,selectedInfluencerId:u,refreshImages:U,updateImage:G,replaceImage:Q,removeImage:q,addPlaceholders:T,setActiveGenerations:H,setSelectedImage:L,setShowPanel:z,setSelectedInfluencerId:h,setMode:P,utils:t,refetchCredits:i,uploadImageMutation:a});return{selectedInfluencerId:u,setSelectedInfluencerId:h,selectedImage:R,setSelectedImage:L,mode:A,setMode:P,contentType:E,setContentType:O,viewMode:m,setViewMode:x,aspectRatios:f,setAspectRatios:g,status:w,setStatus:v,liked:b,setLiked:j,adult:y,setAdult:N,sortBy:C,setSortBy:S,searchQuery:k,setSearchQuery:I,showPanel:M,setShowPanel:z,influencerTabs:_,totalImageCount:Z,influencerList:$,selectedInfluencerForGeneration:X,nsfwEnabled:K,filteredImages:J,allImages:B,isLoadingImages:D,creditsBalance:s,activeGenerations:V,...ee,hasConsent:l,acceptConsent:n}}();return t.influencerList.length>0?(0,n.jsxs)("div",{className:"flex flex-col h-[calc(100vh-56px)] md:h-[calc(100vh-64px)] overflow-hidden bg-[var(--bg-base)] relative",children:[(0,n.jsx)(e6,{}),(0,n.jsx)(a.ay,{children:(0,n.jsx)(i.Nh,{influencers:t.influencerTabs,selectedInfluencerId:t.selectedInfluencerId,onSelectInfluencer:t.setSelectedInfluencerId,searchQuery:t.searchQuery,onSearchChange:t.setSearchQuery,totalCount:t.totalImageCount,mode:t.mode})}),(0,n.jsx)(a.ay,{delay:50,children:(0,n.jsx)(i.kU,{viewMode:t.viewMode,onViewModeChange:t.setViewMode,aspectRatios:t.aspectRatios,onAspectRatioChange:t.setAspectRatios,status:t.status,onStatusChange:t.setStatus,liked:t.liked,onLikedChange:t.setLiked,adult:t.adult,onAdultChange:t.setAdult,sortBy:t.sortBy,onSortByChange:t.setSortBy,selectedCount:t.selectedImage?1:0,onClearSelection:()=>t.setSelectedImage(null)})}),(0,n.jsxs)("div",{className:"flex flex-1 w-full overflow-hidden relative",children:[(0,n.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden relative",children:[(0,n.jsx)("div",{className:"flex-1 overflow-hidden relative",children:(0,n.jsx)(e9,{filteredImages:t.filteredImages,selectedImage:t.selectedImage,showPanel:t.showPanel,viewMode:t.viewMode,isLoading:t.isLoadingImages,onSelectImage:t.handleSelectImage,onOpenDetails:t.handleOpenDetails,onLike:t.handleLike,onDownload:t.handleDownload,onClosePanel:t.handleClosePanel,onDelete:t.handleDelete,onRetry:t.handleRetry})}),(0,n.jsx)("div",{className:"sticky bottom-0 z-40 flex-shrink-0 pb-[64px] md:pb-1 bg-[var(--bg-base)] border-t border-[var(--border-default)]/50 backdrop-blur-sm",children:(0,n.jsx)(a.ay,{delay:150,children:(0,n.jsx)(e_,{influencers:t.influencerList,selectedInfluencer:t.selectedInfluencerForGeneration,onInfluencerChange:e=>{t.setSelectedInfluencerId(e)},onGenerate:t.handleGenerate,isGenerating:t.activeGenerations.size>0,creditsAvailable:t.creditsBalance,selectedImage:t.selectedImage,onClearSelectedImage:()=>t.handleClearSelectedImage(t.mode),mode:t.mode,contentType:t.contentType,onModeChange:t.setMode,onContentTypeChange:t.setContentType,nsfwEnabled:t.nsfwEnabled,availableImages:t.allImages,hasUploadConsent:t.hasConsent,onAcceptConsent:t.acceptConsent,onUploadImage:t.handleUploadImage,tutorialCurrentStep:e.currentStep,tutorialIsActive:e.isActive})})})]}),(0,n.jsx)(e8,{showPanel:t.showPanel,selectedImage:t.selectedImage,onClose:t.handleClosePanel,onLike:t.handleLike,onDelete:t.handleDelete,onDownload:t.handleDownload,onRetry:t.handleRetry})]}),(0,n.jsx)(te,{tutorial:e}),(0,n.jsx)(e$,{onResetTutorial:t=>{"studio"===t&&e.reset()}})]}):(0,n.jsx)("div",{className:"flex flex-1 flex-col overflow-hidden bg-[var(--bg-base)] h-full",children:(0,n.jsx)(tt.q,{title:"Studio Locked",description:"Create your first AI influencer to unlock the Studio and start generating amazing content.",createButtonText:"Create Influencer",createButtonHref:"/wizard/step-0"})})}},52058:function(e,t,l){"use strict";l.d(t,{q:function(){return o}});var n=l(43264);l(27905);var r=l(27062),a=l(99210),s=l(81778),i=l(54055);function o(e){let{title:t,description:l,createButtonText:o="Create Influencer",createButtonHref:c="/wizard/step-0",className:d}=e;return(0,n.jsxs)("div",{className:(0,i.cn)("flex flex-col items-center justify-center min-h-[60vh] text-center px-4",d),children:[(0,n.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute -top-[10%] -right-[5%] h-[600px] w-[600px] opacity-40 shrink-0",style:{background:"radial-gradient(circle, rgba(168, 85, 247, 0.2) 0%, transparent 70%)",filter:"blur(100px)"}}),(0,n.jsx)("div",{className:"absolute -bottom-[10%] -left-[5%] h-[600px] w-[600px] opacity-30 shrink-0",style:{background:"radial-gradient(circle, rgba(236, 72, 153, 0.15) 0%, transparent 70%)",filter:"blur(100px)"}})]}),(0,n.jsx)(i.ay,{children:(0,n.jsxs)("div",{className:"relative z-10 flex flex-col items-center max-w-md",children:[(0,n.jsx)("div",{className:"mb-6 flex h-20 w-20 items-center justify-center rounded-2xl bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20 border border-[var(--purple-500)]/20 shadow-lg",children:(0,n.jsx)(a.Z,{className:"h-10 w-10 text-[var(--purple-400)]"})}),(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-extrabold text-[var(--text-primary)] mb-3",children:t}),(0,n.jsx)("p",{className:"text-lg text-[var(--text-secondary)] mb-8 max-w-md",children:l}),(0,n.jsxs)(r.default,{href:c,className:"group relative inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-[var(--purple-600)] to-[var(--pink-600)] text-white font-semibold text-sm transition-all duration-300 hover:shadow-lg hover:shadow-purple-500/30 hover:scale-105 active:scale-95",children:[(0,n.jsx)(s.Z,{className:"h-5 w-5"}),o]})]})})]})}},237:function(e,t,l){"use strict";l.d(t,{m:function(){return r}});var n=l(63609);function r(){let{data:e,isLoading:t,error:l,refetch:r}=n.SX.subscription.getCurrent.useQuery(void 0,{refetchInterval:6e4,placeholderData:e=>e}),a=e?.tier??"free";return{tier:a,status:e?.status??"active",currentPeriodStart:e?.currentPeriodStart,currentPeriodEnd:e?.currentPeriodEnd,cancelAtPeriodEnd:e?.cancelAtPeriodEnd??!1,isPro:"pro"===a||"unlimited"===a,isStarter:"starter"===a,isFree:"free"===a,isPaid:"free"!==a,isLoading:t,error:l,refetch:r}}},75991:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});let n=(0,l(82790).Z)("circle-user-round",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},949:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});let n=(0,l(82790).Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},99210:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});let n=(0,l(82790).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},94483:function(e,t,l){"use strict";l.d(t,{Z:function(){return n}});let n=(0,l(82790).Z)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])}},function(e){e.O(0,[8979,1370,2370,7067,1776,6250,5635,8339,9877,5894,5071,4055,1960,9682,865,6066,8527,1699,9985,6560,1744],function(){return e(e.s=38433)}),_N_E=e.O()}]);