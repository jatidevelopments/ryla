(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6938],{60430:function(e,t,s){Promise.resolve().then(s.bind(s,67194))},67194:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(43264),l=s(27905),r=s(54055),n=s(31531),i=s(9060),c=s(40865),d=s(56491),o=s(237),h=s(42063),x=s(64582),u=s(63609);function m(e){let{profileName:t,profilePublicName:s,onNameChange:l,onPublicNameChange:n,onSave:i,isSaving:c}=e,{user:o}=(0,d.a)();return(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Account"}),(0,a.jsxs)("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.__,{className:"text-white",children:"Name"}),(0,a.jsx)(r.II,{value:t,onChange:e=>l(e.target.value),placeholder:"Your name"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.__,{className:"text-white",children:"Username"}),(0,a.jsx)(r.II,{value:s,onChange:e=>n(e.target.value),placeholder:"public-name"}),(0,a.jsx)("p",{className:"text-xs text-white/50",children:"This is public. Avoid spaces and special characters."})]})]}),(0,a.jsxs)("div",{className:"border-t border-white/10 pt-4",children:[(0,a.jsx)(r.__,{className:"text-white",children:"Email"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-white/60",children:o?.email||"Not set"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-white/40",children:"Email changes aren't supported yet."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3 border-t border-white/10 pt-4 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.__,{className:"text-white",children:"Profile"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Update your name and username"})]}),(0,a.jsx)(r.zx,{variant:"outline",size:"sm",onClick:i,disabled:c,children:c?"Saving...":"Save"})]})]})]})}var f=s(27062),w=s(29289);function p(){let{balance:e,isLoading:t}=(0,w.Bg)(),{tier:s,status:l,isLoading:n}=(0,o.m)();return(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Subscription"}),(0,a.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.__,{className:"text-white",children:n?"Loading...":`${s} plan`}),(0,a.jsx)("span",{className:"rounded-full bg-[var(--text-muted)]/20 px-2 py-0.5 text-xs font-medium text-[var(--text-muted)]",children:n?"...":l})]}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Upgrade for more features"})]}),(0,a.jsx)(f.default,{href:x._j.pricing,children:(0,a.jsx)(r.zx,{variant:"outline",size:"sm",children:"Upgrade"})})]}),(0,a.jsxs)("div",{className:"mt-4 border-t border-white/10 pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-white/60",children:"Credits remaining"}),(0,a.jsx)("span",{className:"font-semibold text-white",children:t?"...":e.toLocaleString()})]}),(0,a.jsx)("div",{className:"mt-2 h-2 overflow-hidden rounded-full bg-white/10",children:(0,a.jsx)("div",{className:"h-full w-full rounded-full bg-gradient-to-r from-[#d5b9ff] to-[#b99cff] opacity-30"})}),(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)(f.default,{href:x._j.buyCredits,children:(0,a.jsx)(r.zx,{variant:"outline",size:"sm",children:"Buy credits"})})})]})]})]})}var b=s(80413);function j(e){let{error:t,success:s}=e;return t||s?(0,a.jsx)("div",{className:["mb-6 rounded-lg border p-4 text-sm",t?"border-red-500/30 bg-red-500/10 text-red-200":"border-white/10 bg-white/5 text-white/80"].join(" "),children:t??s}):null}function g(e){let{onLogoutAll:t}=e,{user:s}=(0,d.a)(),[n,i]=l.useState(!1),[c,o]=l.useState(""),[x,u]=l.useState(""),[m,f]=l.useState(""),[w,p]=l.useState(!1),[g,v]=l.useState(null),[N,y]=l.useState(null),C=x&&m&&x===m,_=m&&x!==m,E=async e=>{if(e.preventDefault(),v(null),y(null),!(0,b.isPasswordValid)(x)){v("New password does not meet requirements");return}if(x!==m){v("Passwords do not match");return}p(!0);try{await (0,h.Cp)({currentPassword:c,newPassword:x}),y("Password updated successfully"),o(""),u(""),f(""),i(!1)}catch(e){v(e instanceof Error?e.message:"Failed to update password")}finally{p(!1)}};return(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Security"}),(0,a.jsxs)("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between pb-4 border-b border-white/5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.__,{className:"text-white",children:"Logout all devices"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Ends all active sessions (including this one)"})]}),(0,a.jsx)(r.zx,{variant:"outline",size:"sm",onClick:t,children:"Logout all"})]}),s?.hasPassword!==!1&&(0,a.jsx)("div",{className:"pt-2",children:n?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.__,{className:"text-base font-medium text-white",children:"Change Password"}),(0,a.jsx)(r.zx,{variant:"ghost",size:"sm",className:"h-auto p-0 text-white/40 hover:text-white",onClick:()=>{i(!1),v(null),y(null)},children:"Cancel"})]}),(0,a.jsx)(j,{error:g,success:N}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.__,{htmlFor:"current-password",children:"Current Password"}),(0,a.jsx)(r.II,{id:"current-password",type:"password",value:c,onChange:e=>o(e.target.value),placeholder:"••••••••",autoComplete:"current-password",required:!0})]})}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.__,{htmlFor:"new-password",children:"New Password"}),(0,a.jsx)(r.II,{id:"new-password",type:"password",value:x,onChange:e=>u(e.target.value),placeholder:"••••••••",autoComplete:"new-password",required:!0}),(0,a.jsx)(b.Y,{password:x,className:"mt-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(r.__,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),(0,a.jsx)(r.II,{id:"confirm-new-password",type:"password",value:m,onChange:e=>f(e.target.value),placeholder:"••••••••",autoComplete:"new-password",required:!0}),m&&(0,a.jsx)("p",{className:`text-xs mt-1 ${_?"text-red-400":"text-emerald-400"}`,children:_?"Passwords do not match":"Passwords match"})]})]}),(0,a.jsx)("div",{className:"flex justify-end pt-4 border-t border-white/5",children:(0,a.jsx)(r.zx,{type:"submit",variant:"outline",size:"sm",disabled:w||!C||!(0,b.isPasswordValid)(x),children:w?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.$j,{size:"sm"}),"Updating..."]}):"Update Password"})})]})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(r.__,{className:"text-white",children:"Password"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Change your account password"})]}),(0,a.jsx)(r.zx,{variant:"outline",size:"sm",onClick:()=>i(!0),children:"Change password"})]})})]})]})}function v(){return(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Legal"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(f.default,{href:"/legal",className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-4 transition-colors hover:bg-white/10",children:[(0,a.jsx)("span",{className:"text-white",children:"Terms of Service"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 text-white/40",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z",clipRule:"evenodd"})})]}),(0,a.jsxs)(f.default,{href:"/legal",className:"flex items-center justify-between rounded-lg border border-white/10 bg-white/5 p-4 transition-colors hover:bg-white/10",children:[(0,a.jsx)("span",{className:"text-white",children:"Privacy Policy"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-5 w-5 text-white/40",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z",clipRule:"evenodd"})})]})]})]})}function N(e){let{onContinue:t,onOfferClick:s}=e;return(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-[#9333EA] to-[#EC4899] shadow-lg shadow-purple-500/25",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDC9C"})}),(0,a.jsx)(r.$N,{className:"text-xl font-semibold",children:"Before you go..."}),(0,a.jsx)(r.Be,{className:"mt-2 text-white/50",children:"We'd love to keep you around!"})]}),(0,a.jsxs)("div",{className:"rounded-2xl border border-[#9333EA]/30 bg-gradient-to-b from-[#9333EA]/10 to-transparent p-5 text-center",children:[(0,a.jsx)("p",{className:"text-base font-semibold text-white",children:"Get 50% off your next month"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-white/50",children:"Stay with us at half the price"}),(0,a.jsx)(f.default,{href:(0,x.UM)(x._j.pricing,{offer:"retention50"}),onClick:s,children:(0,a.jsx)(r.zx,{className:"mt-4 w-full h-11 bg-gradient-to-r from-[#9333EA] to-[#EC4899] text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-purple-500/25 transition-all",children:"Claim 50% Off"})})]}),(0,a.jsx)("button",{onClick:t,className:"w-full text-center text-sm text-white/40 hover:text-white/60 transition-colors py-2",children:"No thanks, continue to delete"})]})}let y=[{value:"too_expensive",label:"Too expensive",icon:"\uD83D\uDCB0"},{value:"missing_features",label:"Missing features",icon:"\uD83D\uDD27"},{value:"bugs",label:"Technical issues",icon:"\uD83D\uDC1B"},{value:"not_using",label:"Not using enough",icon:"\uD83D\uDCC9"},{value:"privacy_concerns",label:"Privacy concerns",icon:"\uD83D\uDD12"},{value:"other",label:"Other reason",icon:"\uD83D\uDCAD"}];function C(e){let{onSelectReason:t,onBack:s}=e;return(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(r.$N,{className:"text-xl font-semibold",children:"Why are you leaving?"}),(0,a.jsx)(r.Be,{className:"mt-2 text-white/50",children:"Your feedback helps us improve"})]}),(0,a.jsx)("div",{className:"space-y-2",children:y.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>t(e.value),className:"flex w-full items-center gap-3 rounded-xl border border-white/[0.08] bg-white/[0.03] p-3.5 text-left text-sm text-white/80 transition-all hover:border-white/15 hover:bg-white/[0.06] hover:text-white",children:[(0,a.jsx)("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white/[0.05] text-base",children:e.icon}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.value))}),(0,a.jsx)("button",{onClick:s,className:"w-full text-center text-sm text-white/40 hover:text-white/60 transition-colors py-2",children:"← Go back"})]})}function _(e){let{feedback:t,onFeedbackChange:s,onContinue:l,onBack:n}=e;return(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(r.$N,{className:"text-xl font-semibold",children:"Any feedback?"}),(0,a.jsx)(r.Be,{className:"mt-2 text-white/50",children:"Optional – help us do better"})]}),(0,a.jsx)(r.gx,{value:t,onChange:e=>s(e.target.value),placeholder:"What could we have done better?",className:"min-h-[120px] resize-none rounded-xl bg-white/[0.03] border-white/[0.08] placeholder:text-white/30 focus:border-white/20"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(r.zx,{variant:"outline",className:"flex-1 h-11 rounded-xl border-white/[0.08] bg-white/[0.03] hover:bg-white/[0.06]",onClick:n,children:"Back"}),(0,a.jsx)(r.zx,{className:"flex-1 h-11 rounded-xl bg-gradient-to-r from-[#9333EA] to-[#EC4899] text-white font-semibold hover:shadow-lg hover:shadow-purple-500/25 transition-all",onClick:l,children:"Continue"})]})]})}function E(e){let{confirmText:t,onConfirmTextChange:s,isDeleting:l,onDelete:n,onBack:i}=e,c="DELETE"===t.trim().toUpperCase();return(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-2xl bg-red-500/15 border border-red-500/20",children:(0,a.jsx)("span",{className:"text-2xl",children:"⚠️"})}),(0,a.jsx)(r.$N,{className:"text-xl font-semibold text-red-400",children:"Delete your account?"}),(0,a.jsx)(r.Be,{className:"mt-2 text-white/50",children:"This action cannot be undone"})]}),(0,a.jsx)("div",{className:"rounded-xl border border-red-500/20 bg-red-500/10 p-4",children:(0,a.jsx)("p",{className:"text-sm text-red-200/80 text-center leading-relaxed",children:"All your data, influencers, and generated images will be permanently deleted."})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(r.__,{className:"text-xs text-white/50",children:["Type ",(0,a.jsx)("span",{className:"font-semibold text-white",children:"DELETE"})," to confirm"]}),(0,a.jsx)(r.II,{value:t,onChange:e=>s(e.target.value),placeholder:"DELETE",className:"h-11 rounded-xl bg-white/[0.03] border-white/[0.08] text-center uppercase tracking-[0.2em] font-medium placeholder:text-white/20 focus:border-red-500/30"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(r.zx,{variant:"outline",className:"flex-1 h-11 rounded-xl border-white/[0.08] bg-white/[0.03] hover:bg-white/[0.06]",onClick:i,disabled:l,children:"Back"}),(0,a.jsx)(r.zx,{className:"flex-1 h-11 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700 disabled:opacity-40 transition-all",disabled:!c||l,onClick:n,children:l?"Deleting...":"Delete Forever"})]})]})}function k(e){let{onDeleteConfirmed:t,subscriptionTier:s}=e,[i,c]=l.useState(!1),{step:d,setStep:o,feedback:h,setFeedback:x,confirmText:u,setConfirmText:m,isDeleting:f,handleOfferClick:w,handleSelectReason:p,handleFeedbackContinue:b,handleDelete:j,handleOpenChange:g}=function(e){let{subscriptionTier:t,onDeleteConfirmed:s}=e,[a,r]=l.useState("offer"),[i,c]=l.useState(null),[d,o]=l.useState(""),[h,x]=l.useState(""),[u,m]=l.useState(!1),f=l.useCallback(()=>{r("offer"),c(null),o(""),x(""),m(!1)},[]),w=l.useCallback(()=>{(0,n.IE)("retention_offer_clicked",{subscriptionTier:t})},[t]),p=l.useCallback(e=>{c(e),(0,n.IE)("account_deletion_reason_selected",{reason:e}),r("feedback")},[]),b=l.useCallback(()=>{(0,n.IE)("account_deletion_feedback_submitted",{reason:i,has_feedback:d.trim().length>0,subscriptionTier:t}),r("confirm")},[i,d,t]),j=l.useCallback(async()=>{if("DELETE"===h.trim().toUpperCase()){m(!0);try{await s(),f()}catch{m(!1)}}},[h,s,f]),g=l.useCallback(e=>{e?(0,n.IE)("account_deletion_modal_opened",{subscriptionTier:t}):((0,n.IE)("account_deletion_cancelled",{step:a}),f())},[a,t,f]);return{step:a,setStep:r,reason:i,feedback:d,setFeedback:o,confirmText:h,setConfirmText:x,isDeleting:u,reset:f,handleOfferClick:w,handleSelectReason:p,handleFeedbackContinue:b,handleDelete:j,handleOpenChange:g}}({subscriptionTier:s,onDeleteConfirmed:async()=>{await t(),c(!1)}}),v={offer:1,reason:2,feedback:3,confirm:4}[d];return(0,a.jsxs)("div",{className:"rounded-xl border border-red-500/20 bg-red-500/5 p-4",children:[(0,a.jsx)(r.__,{className:"text-red-200",children:"Delete account"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-white/60",children:"This action is permanent. Before we delete your account, we'll ask a few quick questions."}),(0,a.jsxs)(r.Vq,{open:i,onOpenChange:e=>{c(e),g(e)},children:[(0,a.jsx)(r.hg,{asChild:!0,children:(0,a.jsx)(r.zx,{variant:"outline",className:"mt-4 border-red-500/50 text-red-400 hover:bg-red-500/10",children:"Delete account"})}),(0,a.jsxs)(r.cZ,{className:"max-w-[360px] p-5",children:[(0,a.jsx)("div",{className:"flex items-center justify-center gap-1.5 mb-4",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:["h-1 rounded-full transition-all duration-300",e<=v?"w-10 bg-gradient-to-r from-[#9333EA] to-[#EC4899]":"w-6 bg-white/10"].join(" ")},e))}),"offer"===d&&(0,a.jsx)(N,{onContinue:()=>o("reason"),onOfferClick:()=>{w(),c(!1)}}),"reason"===d&&(0,a.jsx)(C,{onSelectReason:p,onBack:()=>o("offer")}),"feedback"===d&&(0,a.jsx)(_,{feedback:h,onFeedbackChange:x,onContinue:b,onBack:()=>o("reason")}),"confirm"===d&&(0,a.jsx)(E,{confirmText:u,onConfirmTextChange:m,isDeleting:f,onDelete:j,onBack:()=>o("feedback")})]})]})]})}function S(){return(0,a.jsx)(c.i,{children:(0,a.jsx)(D,{})})}function D(){let e=(0,i.useRouter)(),{logout:t}=(0,d.a)(),{tier:s}=(0,o.m)(),{profileName:c,setProfileName:f,profilePublicName:w,setProfilePublicName:b,actionError:N,actionSuccess:y,isSaving:C,handleSaveProfile:_}=function(){let{user:e,refreshUser:t}=(0,d.a)(),[s,a]=l.useState(e?.name??""),[r,i]=l.useState(e?.publicName??""),[c,o]=l.useState(null),[h,x]=l.useState(null),m=u.SX.user.updateProfile.useMutation();l.useEffect(()=>{a(e?.name??""),i(e?.publicName??"")},[e?.name,e?.publicName]);let f=l.useCallback(async()=>{o(null),x(null);try{await m.mutateAsync({name:s.trim(),publicName:r.trim()}),await t(),(0,n.IE)("settings_profile_updated"),x("Profile updated.")}catch(e){o(e instanceof Error?e.message:"Failed to update profile")}},[s,r,m,t]);return{profileName:s,setProfileName:a,profilePublicName:r,setProfilePublicName:i,actionError:c,actionSuccess:h,isSaving:m.isPending,handleSaveProfile:f}}();l.useEffect(()=>{(0,n.IE)("settings_viewed")},[]);let E=async()=>{await t()},S=async()=>{try{await (0,h.Y)(),(0,n.IE)("auth_logout_all"),e.push(x._j.login)}catch(e){console.error("Failed to logout all devices:",e)}},D=async()=>{(0,n.IE)("account_deletion_started");try{await (0,h.tm)(),(0,n.IE)("account_deleted"),e.push(x._j.register)}catch(e){console.error("Failed to delete account:",e)}};return(0,a.jsxs)(r._z,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),(0,a.jsx)("p",{className:"text-sm text-white/60",children:"Manage your account and preferences"})]}),(0,a.jsx)(j,{error:N,success:y}),(0,a.jsx)(m,{profileName:c,profilePublicName:w,onNameChange:f,onPublicNameChange:b,onSave:_,isSaving:C}),(0,a.jsx)(p,{}),(0,a.jsx)(g,{onLogoutAll:S}),(0,a.jsx)(v,{}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"mb-4 text-lg font-semibold text-white",children:"Danger zone"}),(0,a.jsx)(k,{onDeleteConfirmed:D,subscriptionTier:s})]}),(0,a.jsx)(r.zx,{variant:"outline",className:"w-full border-red-500/50 text-red-400 hover:bg-red-500/10",onClick:E,children:"Log Out"})]})}},29289:function(e,t,s){"use strict";s.d(t,{Bg:function(){return r}});var a=s(63609),l=s(42063);function r(){let e=(0,l.hP)(),{data:t,isLoading:s,error:r,refetch:n}=a.SX.credits.getBalance.useQuery(void 0,{enabled:!!e,refetchInterval:!!e&&3e4,placeholderData:e=>e,retry:(e,t)=>{if(e>=3)return!1;let s=t?.data?.httpStatus;return 401!==s&&403!==s}}),i=a.SX.credits.dismissLowBalanceWarning.useMutation({onSuccess:()=>{n()}});return{balance:t?.balance??0,totalEarned:t?.totalEarned??0,totalSpent:t?.totalSpent??0,isLowBalance:t?.isLowBalance??!1,isZeroBalance:t?.isZeroBalance??!1,lowBalanceThreshold:t?.lowBalanceThreshold??10,lowBalanceWarningShown:t?.lowBalanceWarningShown??null,isLoading:s,error:r,refetch:n,dismissLowBalanceWarning:()=>i.mutate(),isDismissing:i.isPending}}},237:function(e,t,s){"use strict";s.d(t,{m:function(){return l}});var a=s(63609);function l(){let{data:e,isLoading:t,error:s,refetch:l}=a.SX.subscription.getCurrent.useQuery(void 0,{refetchInterval:6e4,placeholderData:e=>e}),r=e?.tier??"free";return{tier:r,status:e?.status??"active",currentPeriodStart:e?.currentPeriodStart,currentPeriodEnd:e?.currentPeriodEnd,cancelAtPeriodEnd:e?.cancelAtPeriodEnd??!1,isPro:"pro"===r||"unlimited"===r,isStarter:"starter"===r,isFree:"free"===r,isPaid:"free"!==r,isLoading:t,error:s,refetch:l}}}},function(e){e.O(0,[8979,1370,2370,7067,1776,6250,5635,8339,9877,5894,5071,4055,1960,9682,865,9985,6560,1744],function(){return e(e.s=60430)}),_N_E=e.O()}]);