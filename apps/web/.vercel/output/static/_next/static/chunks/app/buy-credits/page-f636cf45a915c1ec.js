(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1686],{65073:function(e,t,r){Promise.resolve().then(r.bind(r,87553))},87553:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return _}});var a=r(43264),s=r(27905),l=r(9060),i=r(15689),n=r(81778),d=r(40601),c=r(99210),o=r(27827),x=r(54055),m=r(63609),u=r(40865),h=r(35071),p=r(42063),b=r(36613),v=r(37948),f=r(25400);function g(e){let{package_:t,isProcessing:r,onConfirm:s,onCancel:l}=e;return(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:(0,x.cn)("relative w-full max-w-md overflow-hidden rounded-[2rem]","bg-[#0C0C0E]/80 backdrop-blur-2xl border border-white/10","p-8 sm:p-10 shadow-[0_32px_64px_-12px_rgba(0,0,0,0.6)]","animate-in fade-in zoom-in-95 slide-in-from-bottom-4 duration-300"),children:[(0,a.jsx)("div",{className:"absolute -top-24 -left-24 h-48 w-48 bg-[var(--purple-500)]/10 blur-[80px]"}),(0,a.jsx)("div",{className:"absolute -bottom-24 -right-24 h-48 w-48 bg-[var(--pink-500)]/10 blur-[80px]"}),(0,a.jsx)("button",{onClick:l,className:"absolute top-6 right-6 p-2 rounded-full text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-white/5 transition-all duration-200 active:scale-90",children:(0,a.jsx)(v.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"relative text-center",children:[(0,a.jsxs)("div",{className:"relative mx-auto mb-6 flex h-16 w-16 items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-[var(--purple-500)] to-[var(--pink-500)] opacity-20 blur-xl animate-pulse"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-full border border-white/10 bg-white/5 backdrop-blur-sm"}),(0,a.jsx)("div",{className:"relative flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[var(--purple-600)] to-[var(--pink-600)] shadow-lg",children:(0,a.jsx)(n.Z,{className:"h-6 w-6 text-white"})})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight text-[var(--text-primary)] mb-2",children:"Confirm Purchase"}),(0,a.jsx)("p",{className:"text-[var(--text-secondary)] text-sm mb-8",children:"Review your order details below"}),(0,a.jsxs)("div",{className:"relative group mb-8",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent rounded-2xl border border-white/5 -m-0.5 pointer-events-none"}),(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-[#141416]/50 border border-white/10 p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-[var(--text-muted)]",children:"Credits to add"}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-[var(--text-primary)] tracking-tight",children:t.credits.toLocaleString()}),(0,a.jsx)("span",{className:"text-[10px] uppercase tracking-wider text-[var(--purple-400)] font-bold",children:"Instant Delivery"})]})]}),(0,a.jsx)("div",{className:"h-px w-full border-t border-dashed border-white/10"}),(0,a.jsxs)("div",{className:"flex items-end justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-[var(--text-muted)] pb-1",children:"Total Amount"}),(0,a.jsxs)("span",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-br from-white to-white/70 tracking-tighter",children:["$",t.price]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 rounded-xl bg-indigo-500/5 border border-indigo-500/10 mb-8",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-indigo-400 shrink-0"}),(0,a.jsx)("p",{className:"text-[11px] text-indigo-300/70 text-left leading-relaxed",children:"Payments are handled securely. You will be redirected to complete your transaction."})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(x.br,{onClick:s,disabled:r,loading:r,variant:"glassy",size:"lg",className:"w-full bg-gradient-to-r from-[var(--purple-600)] to-[var(--pink-600)] border-none text-white h-12 text-base font-semibold shadow-lg shadow-purple-500/20 hover:shadow-purple-500/40 transition-all duration-300",children:"Continue to Payment"}),(0,a.jsx)("button",{onClick:l,className:"w-full py-2 text-sm font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] transition-colors duration-200",children:"Cancel Transaction"})]})]})]})})}var j=r(12989);function N(e){let{selectedPackageId:t,isProcessing:r,onPurchase:s}=e;return(0,a.jsx)(x.ay,{delay:100,children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-8",children:h.CREDIT_PACKAGES.map((e,l)=>(0,a.jsx)("div",{style:{animationDelay:`${50*l}ms`},className:"animate-in fade-in slide-in-from-bottom-2",children:(0,a.jsx)(j.I,{package_:e,onPurchase:s,isLoading:r&&t===e.id})},e.id))})})}var y=r(27062),w=r(64323),k=r(64582);function C(){return(0,a.jsx)(x.ay,{delay:200,children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,a.jsx)("div",{className:"p-6 rounded-xl bg-[var(--bg-elevated)] border border-[var(--border-default)] hover:border-[var(--purple-500)]/30 transition-all",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 text-center sm:text-left",children:[(0,a.jsx)("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-[var(--purple-600)]/20 to-[var(--pink-500)]/20",children:(0,a.jsx)(w.Z,{className:"h-6 w-6 text-[var(--purple-400)]"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-[var(--text-primary)] mb-1",children:"Want monthly credits?"}),(0,a.jsx)("p",{className:"text-sm text-[var(--text-secondary)]",children:"Subscribe and get credits every month at a better price."})]}),(0,a.jsx)(x.br,{asChild:!0,variant:"glassy-outline",size:"default",children:(0,a.jsx)(y.default,{href:k._j.pricing,className:"flex items-center gap-2",children:"View Plans"})})]})})})})}function P(){let[e,t]=(0,s.useState)(!1),[r,u]=(0,s.useState)(null),[v,f]=(0,s.useState)(null),{data:j}=m.SX.credits.getBalance.useQuery(),{purchase:y,isProcessing:w}=function(){let{onSuccess:e,onError:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[r,a]=(0,s.useState)(!1);return{purchase:(0,s.useCallback)(async r=>{a(!0);try{if(!(0,p.hP)())throw Error("You must be logged in to purchase credits");await b.Z.createCreditSession(r),e?.()}catch(r){console.error("Purchase error:",r);let e=r instanceof Error?r:Error(r.message||"Failed to start payment. Please try again.");throw t?.(e),a(!1),e}},[e,t]),isProcessing:r}}({onError:e=>{alert(e.message||"Failed to start payment. Please try again.")}}),k=(0,l.useSearchParams)();(0,s.useEffect)(()=>{"true"===k.get("success")&&(setTimeout(()=>{f("Payment successful! Your credits have been added.")},0),window.history.replaceState({},"",window.location.pathname))},[k]);let P=async()=>{if(r)try{await y(r.id)}catch{}};return(0,a.jsxs)(x._z,{className:"relative",children:[(0,a.jsxs)("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-40 right-0 h-[500px] w-[500px] opacity-30",style:{background:"radial-gradient(circle, rgba(168, 85, 247, 0.15) 0%, transparent 70%)",filter:"blur(60px)"}}),(0,a.jsx)("div",{className:"absolute -bottom-40 left-0 h-[400px] w-[400px] opacity-20",style:{background:"radial-gradient(circle, rgba(236, 72, 153, 0.15) 0%, transparent 70%)",filter:"blur(60px)"}})]}),v&&(0,a.jsx)(x.ay,{children:(0,a.jsx)("div",{className:"mb-6 p-4 rounded-xl bg-emerald-500/10 border border-emerald-500/20",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-emerald-500/20",children:(0,a.jsx)(i.Z,{className:"h-5 w-5 text-emerald-400"})}),(0,a.jsx)("p",{className:"text-emerald-300 font-medium",children:v})]})})}),(0,a.jsx)(x.ay,{children:(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-[var(--purple-600)]/20 to-[var(--pink-500)]/20 border border-[var(--purple-500)]/20",children:(0,a.jsx)(n.Z,{className:"h-5 w-5 text-[var(--purple-400)]"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-[var(--text-primary)]",children:"Buy Credits"})]}),(0,a.jsx)("p",{className:"text-[var(--text-secondary)]",children:"Purchase one-time credit packs to power your AI creations"}),j&&(0,a.jsxs)("div",{className:"mt-3 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[var(--bg-elevated)] border border-[var(--border-default)]",children:[(0,a.jsx)("span",{className:"text-sm text-[var(--text-secondary)]",children:"Current balance:"}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-[var(--purple-400)]",children:[j.balance," credits"]})]})]})}),(0,a.jsx)(N,{selectedPackageId:r?.id??null,isProcessing:w,onPurchase:e=>{let r=h.CREDIT_PACKAGES.find(t=>t.id===e);r&&(u(r),t(!0))}}),(0,a.jsx)(C,{}),(0,a.jsx)(x.ay,{delay:300,children:(0,a.jsx)("div",{className:"p-5 rounded-xl bg-[var(--bg-elevated)] border border-[var(--border-default)] max-w-3xl mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5 text-emerald-400"}),(0,a.jsx)("span",{className:"text-sm text-[var(--text-secondary)]",children:"Secure Payment"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"h-5 w-5 text-blue-400"}),(0,a.jsx)("span",{className:"text-sm text-[var(--text-secondary)]",children:"Data Protected"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-[var(--purple-400)]"}),(0,a.jsx)("span",{className:"text-sm text-[var(--text-secondary)]",children:"Discreet Billing"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex items-center gap-2 pl-4 border-l border-[var(--border-default)]",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-md bg-white/5 text-xs text-[var(--text-muted)]",children:"Visa"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-md bg-white/5 text-xs text-[var(--text-muted)]",children:"Mastercard"})]})]})})}),e&&r&&(0,a.jsx)(g,{package_:r,isProcessing:w,onConfirm:P,onCancel:()=>t(!1)})]})}function _(){return(0,a.jsx)(u.i,{children:(0,a.jsx)(P,{})})}},25400:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(82790).Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])}},function(e){e.O(0,[8979,1370,2370,7067,1776,6250,5635,8339,9877,5894,5071,4055,1960,9682,865,5072,9985,6560,1744],function(){return e(e.s=65073)}),_N_E=e.O()}]);