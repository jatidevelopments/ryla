"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9176],{16557:function(e,t,r){r.d(t,{i:function(){return n}});var s=r(43264);r(27905);var a=r(8339),i=r(37948),l=r(54055);function n(e){let{image:t,isOpen:r,onClose:n}=e,o=(0,l.dD)();return r&&t&&"skeleton"!==t.url&&"loading"!==t.url?(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-md animate-in fade-in duration-300",onClick:n,children:[(0,s.jsx)("button",{onClick:n,className:"absolute top-6 right-6 z-[110] flex h-12 w-12 items-center justify-center rounded-full bg-white/10 text-white/80 transition-all hover:bg-white/20 hover:text-white active:scale-95","aria-label":"Close lightbox",children:(0,s.jsx)(i.Z,{className:"h-6 w-6"})}),(0,s.jsx)("div",{className:(0,l.cn)("relative flex items-center justify-center transition-all duration-500",o?"w-full h-full p-4":"max-w-[90vw] max-h-[85vh] w-full h-[85vh]"),onClick:e=>e.stopPropagation(),children:(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(a.default,{src:t.url,alt:`Base image ${t.model?`- ${t.model}`:""}`,fill:!0,className:"object-contain animate-in zoom-in-95 duration-300",priority:!0})})}),!o&&t.model&&(0,s.jsx)("div",{className:"absolute bottom-10 left-0 right-0 px-10 flex justify-center pointer-events-none",children:(0,s.jsx)("div",{className:"max-w-2xl bg-black/40 backdrop-blur-sm rounded-2xl p-4 text-center pointer-events-auto border border-white/10",children:(0,s.jsx)("p",{className:"text-sm text-white/70",children:t.model})})})]}):null}},66093:function(e,t,r){r.d(t,{i:function(){return x}});var s=r(43264),a=r(27905),i=r(97720);function l(){return(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center",children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-4 h-4 text-purple-400",children:(0,s.jsx)("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsx)("h3",{className:"text-white text-lg font-semibold",children:"Profile Picture Set"})]}),(0,s.jsx)("p",{className:"text-white/50 text-sm",children:"Choose a style theme for your character's profile pictures. Each set generates 7-10 unique shots in different scenes."})]})}var n=r(54055);function o(e){let{isSelected:t,onSelect:r}=e;return(0,s.jsxs)("label",{className:(0,n.cn)("relative flex items-center gap-4 p-4 rounded-xl border-2 transition-all cursor-pointer mb-4 group",t?"border-purple-400 bg-gradient-to-r from-purple-500/15 to-pink-500/10 shadow-lg shadow-purple-500/10":"border-white/10 bg-white/[0.03] hover:border-white/20 hover:bg-white/[0.05]"),children:[(0,s.jsx)("input",{type:"radio",name:"profilePictureSet",value:"",checked:t,onChange:r,className:"sr-only"}),(0,s.jsx)("div",{className:(0,n.cn)("w-12 h-12 rounded-xl flex items-center justify-center shrink-0 transition-all",t?"bg-purple-500/20":"bg-white/5 group-hover:bg-white/10"),children:(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:(0,n.cn)("w-6 h-6 transition-colors",t?"text-purple-400":"text-white/40 group-hover:text-white/60"),children:(0,s.jsx)("path",{d:"M12 6v6l4 2M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:(0,n.cn)("font-semibold",t?"text-white":"text-white/80"),children:"Generate Later"}),(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-400",children:"Free"})]}),(0,s.jsx)("p",{className:"text-white/40 text-sm mt-0.5",children:"Skip for now and generate profile pictures anytime from your character page"})]}),t&&(0,s.jsx)("div",{className:"absolute top-3 right-3 w-2.5 h-2.5 rounded-full bg-purple-400 ring-4 ring-purple-400/20"})]})}let d={"classic-influencer":{positions:["beach-full-body","cafe-cross-legged","gym-stretching","rooftop-back-view","park-dancing","street-leaning","home-lounging","pool-sitting-edge"],gradient:"from-orange-500 to-pink-500",bgGradient:"from-orange-500/20 to-pink-500/10",borderColor:"border-orange-400",shadowColor:"shadow-orange-500/20",iconBg:"bg-gradient-to-br from-orange-500/30 to-pink-500/30",badgeColor:"bg-orange-500/20 text-orange-300",emoji:"✨",shortDesc:"Beach • Caf\xe9 • Gym • Rooftop • Pool • Street • Home"},"professional-model":{positions:["runway-walk","studio-pose","gallery-side","rooftop-dramatic","sitting-elegant","street-strut","boutique-leaning","studio-dynamic","close-up-beauty"],gradient:"from-blue-500 to-indigo-500",bgGradient:"from-blue-500/20 to-indigo-500/10",borderColor:"border-blue-400",shadowColor:"shadow-blue-500/20",iconBg:"bg-gradient-to-br from-blue-500/30 to-indigo-500/30",badgeColor:"bg-blue-500/20 text-blue-300",emoji:"\uD83D\uDC57",shortDesc:"Runway • Studio • Gallery • Street • Boutique"},"natural-beauty":{positions:["yoga-pose","forest-stretching","lake-lying","mountain-arms-up","beach-walking-water","garden-sitting-floor","reading-lying","sunrise-stretch"],gradient:"from-emerald-500 to-teal-500",bgGradient:"from-emerald-500/20 to-teal-500/10",borderColor:"border-emerald-400",shadowColor:"shadow-emerald-500/20",iconBg:"bg-gradient-to-br from-emerald-500/30 to-teal-500/30",badgeColor:"bg-emerald-500/20 text-emerald-300",emoji:"\uD83E\uDDD8",shortDesc:"Yoga • Nature • Garden • Beach • Reading"}};var c=r(8339);function u(e){let{positions:t,setId:r,isVisible:a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("relative overflow-hidden transition-all duration-300",a?"opacity-100":"max-h-0 opacity-0"),children:(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-4 lg:grid-cols-5 gap-2 px-4 pb-4",children:t.map((e,t)=>{let i=`/profile-sets/${r}/${e}.webp`,l=e.replace(/-/g," ");return(0,s.jsxs)("div",{className:(0,n.cn)("relative aspect-square rounded-lg overflow-hidden transition-all duration-300 ring-1 ring-white/10 hover:ring-2 hover:ring-white/30",a?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),style:{transitionDelay:`${40*Math.min(t,4)}ms`},children:[(0,s.jsx)(c.default,{src:i,alt:l,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 22vw, (max-width: 1024px) 18vw, 100px"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-end bg-gradient-to-t from-black/70 via-black/20 to-transparent",children:(0,s.jsx)("span",{className:"text-white text-[9px] sm:text-[10px] font-medium w-full text-center pb-1 capitalize leading-tight px-0.5 truncate",children:l})})]},e)})})})}function h(e){let{set:t,isSelected:r,isHovered:a,creditCost:i,onSelect:l,onMouseEnter:o,onMouseLeave:c}=e,h=d[t.id];return(0,s.jsxs)("label",{className:(0,n.cn)("relative block rounded-xl border-2 transition-all cursor-pointer overflow-hidden group",r?`${h.borderColor} bg-gradient-to-r ${h.bgGradient} shadow-lg ${h.shadowColor}`:"border-white/10 bg-white/[0.03] hover:border-white/20 hover:bg-white/[0.05]"),onMouseEnter:o,onMouseLeave:c,children:[(0,s.jsx)("input",{type:"radio",name:"profilePictureSet",value:t.id,checked:r,onChange:l,className:"sr-only"}),(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:(0,n.cn)("w-12 h-12 rounded-xl flex items-center justify-center shrink-0 transition-all text-2xl",r?h.iconBg:"bg-white/5 group-hover:bg-white/10"),children:h.emoji}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:(0,n.cn)("font-semibold",r?"text-white":"text-white/80"),children:t.name}),(0,s.jsxs)("span",{className:(0,n.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium transition-colors",r?h.badgeColor:"bg-white/10 text-white/50"),children:["+",i]})]}),r&&(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white ring-4 ring-white/20"})]}),(0,s.jsx)("p",{className:"text-white/50 text-sm mt-1",children:h.shortDesc}),(0,s.jsxs)("p",{className:"text-white/30 text-xs mt-1",children:[t.positions.length," unique photos in different locations"]})]})]})}),(0,s.jsx)(u,{positions:h.positions,setId:t.id,isVisible:r||a}),r&&(0,s.jsx)("div",{className:(0,n.cn)("absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r",h.gradient)})]})}function m(){return(0,s.jsxs)("div",{className:"mt-4 flex items-start gap-2 p-3 rounded-lg bg-white/[0.02] border border-white/5",children:[(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-4 h-4 text-purple-400/60 shrink-0 mt-0.5",children:(0,s.jsx)("path",{d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("p",{className:"text-white/40 text-xs leading-relaxed",children:"Profile pictures are generated in the background after character creation. You'll see them appear on your character's profile within a few minutes."})]})}function x(e){let{selectedSetId:t,onSelect:r,creditCost:n}=e,[d,c]=a.useState(null);return(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(l,{}),(0,s.jsx)(o,{isSelected:null===t,onSelect:()=>r(null)}),(0,s.jsx)("div",{className:"space-y-3",children:i.profilePictureSets.map(e=>{let a=t===e.id,i=d===e.id;return(0,s.jsx)(h,{set:e,isSelected:a,isHovered:i,creditCost:n,onSelect:()=>r(e.id),onMouseEnter:()=>c(e.id),onMouseLeave:()=>c(null)},e.id)})}),(0,s.jsx)(m,{})]})}},81315:function(e,t,r){r.d(t,{f:function(){return P}});var s=r(43264),a=r(27905),i=r(97720),l=r(29289),n=r(43739),o=r(66093),d=r(35071);let c=d.FEATURE_CREDITS.base_images.credits,u=d.FEATURE_CREDITS.profile_set_fast.credits;var h=r(9060),m=r(63609),x=r(34195),p=r(8339),g=r(94483),f=r(54055),b=r(16557);function w(e){let{imageUrl:t}=e,r=(0,f.dD)(),[i,l]=a.useState(!1),n=a.useCallback(()=>{l(!0)},[]),o=a.useCallback(()=>{l(!1)},[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-full mb-6",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-white/8 to-white/4 border border-white/10 rounded-2xl p-5 shadow-lg backdrop-blur-sm relative group",children:[(0,s.jsx)("p",{className:"text-white/70 text-sm mb-3",children:"Selected Base Image"}),(0,s.jsxs)("div",{className:"relative aspect-square max-w-xs mx-auto rounded-xl overflow-hidden",children:[(0,s.jsx)(p.default,{src:t,alt:"Selected base image",fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105"}),r&&(0,s.jsxs)("button",{onClick:n,className:"absolute bottom-2 right-2 flex items-center gap-1.5 rounded-lg bg-purple-500/90 hover:bg-purple-500 px-3 py-1.5 text-white text-xs font-medium shadow-lg transition-all active:scale-95 backdrop-blur-sm border border-purple-400/30","aria-label":"View full size",children:[(0,s.jsx)(g.Z,{className:"h-3.5 w-3.5"}),(0,s.jsx)("span",{children:"View Full"})]}),!r&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer",onClick:n,children:(0,s.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-white/20 backdrop-blur-sm px-4 py-2 text-white text-sm font-medium",children:[(0,s.jsx)(g.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Click to view full width"})]})})]})]})}),(0,s.jsx)(b.i,{image:t?{id:"preview",url:t,thumbnailUrl:t}:null,isOpen:i,onClose:o})]})}var v=r(237);function j(e){let{enabled:t,onToggle:r,extraCredits:a}=e,{isPro:i}=(0,v.m)();return i?(0,s.jsx)("div",{className:"w-full mb-5",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-white/8 to-white/4 border border-white/10 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:[(0,s.jsx)("p",{className:"text-white/70 text-sm mb-4 font-medium",children:"18+ Content"}),(0,s.jsx)("button",{onClick:r,className:(0,f.cn)("w-full p-4 rounded-xl border-2 transition-all duration-200 text-left relative overflow-hidden group",t?"border-purple-400/50 bg-gradient-to-br from-purple-500/20 to-pink-500/20 shadow-lg shadow-purple-500/20":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"),children:(0,s.jsxs)("div",{className:"relative z-10 flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("p",{className:"text-base font-semibold text-white",children:"Enable 18+ Content"}),(0,s.jsxs)("span",{className:(0,f.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",t?"bg-pink-500/30 text-pink-300":"bg-white/10 text-white/40"),children:["+",a," credits"]})]}),(0,s.jsxs)("p",{className:"text-sm text-white/60",children:["Allow generation of NSFW content",t&&(0,s.jsx)("span",{className:"block mt-1 text-pink-300/70",children:"3 extra 18+ profile images will be generated automatically"})]})]}),(0,s.jsx)("div",{className:(0,f.cn)("w-12 h-6 rounded-full transition-all duration-200 flex items-center flex-shrink-0",t?"bg-gradient-to-r from-purple-500 to-pink-500":"bg-white/20"),children:(0,s.jsx)("div",{className:(0,f.cn)("w-5 h-5 rounded-full bg-white transition-transform duration-200 shadow-md",t?"translate-x-6":"translate-x-0.5")})})]})})]})}):null}var y=r(81778),N=r(64323);function C(e){let{enabled:t,onToggle:r,creditCost:a,imageCount:i,hasEnoughCredits:l}=e,n=!l&&!t;return(0,s.jsx)("div",{className:"w-full mb-5",children:(0,s.jsxs)("div",{className:"bg-gradient-to-br from-white/8 to-white/4 border border-white/10 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 text-amber-400"}),(0,s.jsx)("p",{className:"text-white/70 text-sm font-medium",children:"AI Consistency Training"}),(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-500/20 text-amber-300",children:"Premium"})]}),(0,s.jsx)("button",{onClick:n?void 0:r,disabled:n,className:(0,f.cn)("w-full p-4 rounded-xl border-2 transition-all duration-200 text-left relative overflow-hidden group",n&&"opacity-50 cursor-not-allowed",t?"border-amber-400/50 bg-gradient-to-br from-amber-500/20 to-orange-500/20 shadow-lg shadow-amber-500/20":"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"),children:(0,s.jsxs)("div",{className:"relative z-10 flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("p",{className:"text-base font-semibold text-white",children:"Train Character LoRA"}),(0,s.jsxs)("span",{className:(0,f.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",t?"bg-amber-500/30 text-amber-300":"bg-white/10 text-white/40"),children:[a.toLocaleString()," credits"]})]}),(0,s.jsxs)("p",{className:"text-sm text-white/60",children:["Train AI to perfectly replicate your character's face",t&&(0,s.jsxs)("span",{className:"block mt-1 text-amber-300/70",children:[(0,s.jsx)(N.Z,{className:"w-3 h-3 inline mr-1"}),"Training uses ",i," images • Takes ~5-10 minutes"]})]}),!t&&(0,s.jsx)("p",{className:"text-xs text-white/40 mt-2",children:"Recommended for 95%+ face consistency in all generated images"})]}),(0,s.jsx)("div",{className:(0,f.cn)("w-12 h-6 rounded-full transition-all duration-200 flex items-center flex-shrink-0",t?"bg-gradient-to-r from-amber-500 to-orange-500":"bg-white/20"),children:(0,s.jsx)("div",{className:(0,f.cn)("w-5 h-5 rounded-full bg-white transition-transform duration-200 shadow-md",t?"translate-x-6":"translate-x-0.5")})})]})}),t&&(0,s.jsx)("div",{className:"mt-3 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:(0,s.jsxs)("p",{className:"text-xs text-amber-200/80",children:[(0,s.jsx)("strong",{children:"What this does:"})," Creates a personalized AI model specifically trained on your character's face. All future generations will use this model for near-perfect consistency."]})}),n&&(0,s.jsx)("div",{className:"mt-3 p-3 rounded-lg bg-red-500/10 border border-red-500/20",children:(0,s.jsxs)("p",{className:"text-xs text-red-300/80",children:["Insufficient credits for LoRA training. You need"," ",a.toLocaleString()," credits."]})})]})})}function k(e){let{totalCost:t,baseImagesCost:r,profileSetCost:a,nsfwExtraCost:i,loraTrainingCost:l=0,balance:n,isLoadingCredits:o,hasEnoughCredits:d}=e,c=[];return r>0&&c.push({label:"Base Images",cost:r}),a>0&&c.push({label:"Profile Set",cost:a}),i>0&&c.push({label:"Adult Content",cost:i}),l>0&&c.push({label:"LoRA Training",cost:l}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-white/[0.06] to-white/[0.02] border border-white/10 rounded-xl p-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-purple-400",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12.577 4.878a.75.75 0 01.919-.53 4.5 4.5 0 012.156 2.156.75.75 0 11-1.39.388 3 3 0 00-1.437-1.437.75.75 0 01-.53-.919zM5.5 8.5a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zm4.5-3a3 3 0 100 6 3 3 0 000-6z",clipRule:"evenodd"})}),(0,s.jsx)("span",{className:"text-white/80 text-sm font-medium",children:"Credit Summary"})]}),c.length>0&&(0,s.jsx)("div",{className:"space-y-1.5 mb-3 pb-3 border-b border-white/10",children:c.map(e=>(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-white/60",children:e.label}),(0,s.jsxs)("span",{className:"text-white/80",children:[e.cost," credits"]})]},e.label))}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-white/60 text-xs",children:"Total Cost"}),(0,s.jsx)("span",{className:(0,f.cn)("font-bold text-lg",0===t?"text-green-400":d?"text-white":"text-red-400"),children:0===t?"Free":`${t} credits`})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end",children:[(0,s.jsx)("span",{className:"text-white/60 text-xs",children:"Your Balance"}),(0,s.jsx)("span",{className:(0,f.cn)("font-bold text-lg",d?"text-green-400":"text-red-400"),children:o?"...":`${n} credits`})]})]}),!d&&!o&&(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-red-500/20",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),(0,s.jsxs)("span",{children:["Need ",t-n," more credits"]})]})})]})}function S(e){let{onClick:t,disabled:r,hasEnoughCredits:a,hasSelectedBaseImage:i,creditCost:l,balance:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-[#121214]/90 backdrop-blur-md border-t border-white/5 md:relative md:p-0 md:bg-transparent md:border-none md:mt-0 z-30",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("button",{onClick:t,disabled:r,className:(0,f.cn)("w-full h-12 md:h-14 rounded-xl font-bold text-base md:text-lg shadow-lg transition-all relative overflow-hidden group",a&&i?"bg-gradient-to-r from-purple-500 to-violet-600 text-white shadow-purple-500/30 hover:shadow-purple-500/50":"bg-gradient-to-r from-red-500/80 to-red-600/80 text-white shadow-red-500/30 hover:shadow-red-500/50"),children:[(0,s.jsx)("div",{className:"absolute inset-0 w-[200%] -translate-x-full group-hover:translate-x-0 bg-gradient-to-r from-transparent via-white/20 to-transparent transition-transform duration-700 pointer-events-none"}),(0,s.jsx)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:a&&i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-5 h-5",children:(0,s.jsx)("path",{d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),"Create Character"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-5 h-5",children:(0,s.jsx)("path",{d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),i?"Insufficient Credits":"Select Base Image First"]})})]}),!a&&(0,s.jsxs)("p",{className:"text-red-400/80 text-xs text-center mt-3",children:["You need ",l-n," more credits to create"]})]})}),(0,s.jsx)("div",{className:"h-24 md:hidden"})]})}var z=r(53341);function I(){return(0,s.jsx)(z.G,{title:"Creating Your Character",message:"This may take a moment...",fullPage:!0})}function P(){let e=(0,i.useCharacterWizardStore)(e=>e.form),t=(0,i.useCharacterWizardStore)(e=>e.setField),{isPro:r}=(0,v.m)(),{balance:p,isLoading:g,refetch:f}=(0,l.Bg)(),[b,y]=a.useState(!1),{totalCost:N,baseImagesCost:z,profileSetCost:P,nsfwExtraCost:E,hasEnoughCredits:T,PROFILE_SET_CREDITS:L,NSFW_EXTRA_CREDITS:B}=function(e){let t=(0,i.useCharacterWizardStore)(e=>e.form),r=(0,i.useCharacterWizardStore)(e=>e.baseImages),s=Array.isArray(r)&&r.some(e=>e.url&&"skeleton"!==e.url&&"loading"!==e.url&&(e.url.startsWith("http")||e.url.startsWith("data:")))?c:0,a=null!==t.selectedProfilePictureSetId,l=a?u:0,n=a&&t.nsfwEnabled?50:0,o=s+l+n,d=e>=o;return{baseImagesCost:s,profileSetCost:l,nsfwExtraCost:n,totalCost:o,hasEnoughCredits:d,creditsNeeded:d?0:o-e,BASE_IMAGES_CREDITS:c,PROFILE_SET_CREDITS:u,NSFW_EXTRA_CREDITS:50}}(p),M=e.loraTrainingEnabled?(0,d.calculateLoraTrainingCost)("flux",8):0,W=N+M,A=p>=W,{create:R,isCreating:F,error:D,selectedBaseImage:$}=function(e){let t=(0,h.useRouter)(),r=(0,i.useCharacterWizardStore)(e=>e.form),s=(0,i.useCharacterWizardStore)(e=>e.setStatus),l=(0,i.useCharacterWizardStore)(e=>e.setCharacterId),n=(0,i.useCharacterWizardStore)(e=>e.resetForm),o=(0,i.useInfluencerStore)(e=>e.addInfluencer),d=(0,i.useCharacterWizardStore)(e=>e.selectedBaseImageId),c=(0,i.useCharacterWizardStore)(e=>e.baseImages),u=m.SX.useUtils(),p=m.SX.character.create.useMutation(),g=m.SX.credits.deductForWizard.useMutation(),[f,b]=a.useState(!1),[w,v]=a.useState(null),j=c.find(e=>e.id===d);return{create:a.useCallback(async(a,d,c)=>{if(!a){d();return}if(!j){v("Please select a base image");return}b(!0),s("generating"),v(null);try{let a=`@${(r.name||"unnamed").toLowerCase().replace(/\s+/g,".")}`,d=await p.mutateAsync({name:r.name||"Unnamed",baseImageUrl:j.url,config:{gender:r.gender||"female",style:r.style||"realistic",ethnicity:r.ethnicity||"caucasian",age:r.age,ageRange:r.ageRange||void 0,skinColor:r.skinColor||void 0,eyeColor:r.eyeColor||"brown",faceShape:r.faceShape||void 0,hairStyle:r.hairStyle||"long-straight",hairColor:r.hairColor||"brown",bodyType:r.bodyType||"slim",assSize:r.assSize||void 0,breastSize:r.breastSize||void 0,breastType:r.breastType||void 0,freckles:r.freckles||void 0,scars:r.scars||void 0,beautyMarks:r.beautyMarks||void 0,piercings:r.piercings||void 0,tattoos:r.tattoos||void 0,defaultOutfit:r.outfit||"casual",archetype:r.archetype||"girl-next-door",personalityTraits:r.personalityTraits.length>0?r.personalityTraits:["friendly"],bio:r.bio,handle:a,nsfwEnabled:"existing-person"!==r.creationMethod&&r.nsfwEnabled,profilePictureSetId:r.selectedProfilePictureSetId||void 0},loraEnabled:r.loraTrainingEnabled});if(e?.creditBreakdown&&e.creditBreakdown.totalCost>0){let t=await g.mutateAsync({characterId:d.id,characterName:r.name||"Unnamed",baseImagesCost:e.creditBreakdown.baseImagesCost,profileSetCost:e.creditBreakdown.profileSetCost,nsfwExtraCost:e.creditBreakdown.nsfwExtraCost,loraTrainingCost:e.creditBreakdown.loraTrainingCost||0});if(!t.success&&"error"in t)throw Error(t.error||"Failed to deduct credits")}let h={id:d.id,name:r.name||"Unnamed",handle:a,bio:r.bio||"New AI influencer ✨",avatar:j.url,gender:r.gender||"female",style:r.style||"realistic",ethnicity:r.ethnicity||"caucasian",age:r.age,hairStyle:r.hairStyle||"long-straight",hairColor:r.hairColor||"brown",eyeColor:r.eyeColor||"brown",bodyType:r.bodyType||"slim",breastSize:r.breastSize||void 0,archetype:r.archetype||"girl-next-door",personalityTraits:r.personalityTraits.length>0?r.personalityTraits:["friendly"],outfit:r.outfit||"casual",nsfwEnabled:"existing-person"!==r.creationMethod&&r.nsfwEnabled,profilePictureSetId:r.selectedProfilePictureSetId||void 0,postCount:0,imageCount:0,likedCount:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(o(h),l(d.id),s("completed"),n(),c(),u.activity.list.invalidate(),u.activity.summary.invalidate(),u.credits.getBalance.invalidate(),u.credits.getTransactions.invalidate(),u.notifications.list.invalidate(),r.selectedProfilePictureSetId&&j){let e=(0,i.getProfilePictureSet)(r.selectedProfilePictureSetId),t=e?.positions.length||7,s=r.nsfwEnabled?3:0,a=t+s,{start:l,complete:n,fail:o,upsertImage:c}=i.useProfilePicturesStore.getState(),u=[],h=r.loraTrainingEnabled,m=r.name||"Unnamed";(0,x.Jx)({baseImageUrl:j.url,characterId:d.id,setId:r.selectedProfilePictureSetId,nsfwEnabled:r.nsfwEnabled,generationMode:"fast"},(e,t)=>{if("completed"===e){if(n(d.id),h&&u.length>=3){let e=[j.url,...u];(0,x._L)({characterId:d.id,triggerWord:m.toLowerCase().replace(/\s+/g,""),imageUrls:e.slice(0,10)}).then(()=>{}).catch(e=>{console.error("Failed to start LoRA training:",e)})}}else"failed"===e&&o(d.id,t||"Generation failed")},(e,t,r)=>{c(d.id,{id:e.id,url:e.url,thumbnailUrl:e.thumbnailUrl,positionId:t,positionName:r,prompt:e.prompt,negativePrompt:e.negativePrompt,isNSFW:e.isNSFW}),e.url&&u.push(e.url)}).then(e=>{let{jobIds:t}=e;l(d.id,{setId:r.selectedProfilePictureSetId,jobIds:t,totalCount:a})}).catch(e=>{console.error("Failed to start profile picture generation:",e),o(d.id,e instanceof Error?e.message:"Failed to start generation")})}else r.loraTrainingEnabled&&j&&console.warn("LoRA training enabled but not enough images (need profile set)");t.push(`/influencer/${d.id}`)}catch(e){console.error("Character creation failed:",e),v(e instanceof Error?e.message:"Character creation failed"),b(!1),s("error")}},[j,r,p,g,e?.creditBreakdown,s,l,n,o,t,u]),isCreating:f,error:w,selectedBaseImage:j}}({creditBreakdown:{baseImagesCost:z,profileSetCost:P,nsfwExtraCost:E,loraTrainingCost:M,totalCost:W}});return F?(0,s.jsx)(I,{}):(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("p",{className:"text-white/60 text-sm font-medium mb-2",children:"Final Step"}),(0,s.jsx)("h1",{className:"text-white text-2xl font-bold",children:"Review & Create Your Character"})]}),$&&(0,s.jsx)(w,{imageUrl:$.url}),(0,s.jsx)("div",{className:"w-full mb-6",children:(0,s.jsx)("div",{className:"bg-gradient-to-br from-white/[0.06] to-white/[0.02] border border-white/10 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:(0,s.jsx)(o.i,{selectedSetId:e.selectedProfilePictureSetId,onSelect:e=>t("selectedProfilePictureSetId",e),creditCost:L})})}),r&&(0,s.jsx)(j,{enabled:e.nsfwEnabled,onToggle:()=>t("nsfwEnabled",!e.nsfwEnabled),extraCredits:B}),(0,s.jsx)(C,{enabled:e.loraTrainingEnabled,onToggle:()=>t("loraTrainingEnabled",!e.loraTrainingEnabled),creditCost:(0,d.calculateLoraTrainingCost)("flux",8),imageCount:8,hasEnoughCredits:p>=N+(0,d.calculateLoraTrainingCost)("flux",8)}),(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)(k,{totalCost:W,baseImagesCost:z,profileSetCost:P,nsfwExtraCost:E,loraTrainingCost:M,balance:p,isLoadingCredits:g,hasEnoughCredits:A}),(0,s.jsx)(S,{onClick:()=>{R(A,()=>y(!0),f)},disabled:g||!$,hasEnoughCredits:A,hasSelectedBaseImage:!!$,creditCost:W,balance:p})]}),D&&(0,s.jsx)("div",{className:"w-full mt-4 p-4 rounded-xl bg-red-500/10 border border-red-500/20",children:(0,s.jsx)("p",{className:"text-red-400 text-sm",children:D})}),(0,s.jsx)(n.hk,{isOpen:b,onClose:()=>y(!1),creditsNeeded:W,currentBalance:p,breakdown:{baseImages:z,profileSet:P,nsfwExtra:E,loraTraining:M}})]})}},64582:function(e,t,r){r.d(t,{UM:function(){return a},_j:function(){return s},z5:function(){return i}});let s={home:"/",login:"/login",register:"/register",auth:"/auth",forgotPassword:"/forgot-password",resetPassword:"/reset-password",legal:"/legal",terms:"/terms",privacy:"/privacy",dashboard:"/dashboard",pricing:"/pricing",buyCredits:"/buy-credits",wizard:{root:"/wizard",step0:"/wizard/step-0",step1:"/wizard/step-1",step2:"/wizard/step-2",step3:"/wizard/step-3",step4:"/wizard/step-4",step5:"/wizard/step-5",step6:"/wizard/step-6",step7:"/wizard/step-7",step8:"/wizard/step-8",step9:"/wizard/step-9",step10:"/wizard/step-10",step11:"/wizard/step-11",step12:"/wizard/step-12",step13:"/wizard/step-13",step14:"/wizard/step-14",step15:"/wizard/step-15",step16:"/wizard/step-16",step17:"/wizard/step-17",step18:"/wizard/step-18",step19:"/wizard/step-19",step20:"/wizard/step-20",step21:"/wizard/step-21",step22:"/wizard/step-22",baseImage:"/wizard/step-base-image",profilePictures:"/wizard/step-profile-pictures",step:e=>`/wizard/step-${e}`},studio:"/studio",templates:"/templates",activity:"/activity",influencer:{root:"/influencer",detail:e=>`/influencer/${e}`},settings:"/settings",onboarding:{root:"/onboarding",step:e=>`/onboarding/${e}`,complete:"/onboarding/complete"},payment:{success:"/payment/success",cancel:"/payment/cancel",error:"/payment/error"},preview:{root:"/preview",outfitPicker:"/preview/outfit-picker",outfitCompositionPicker:"/preview/outfit-composition-picker"}};function a(e,t){if(!t||0===Object.keys(t).length)return e;let r=new URLSearchParams;for(let[e,s]of Object.entries(t))null!=s&&r.append(e,String(s));let s=r.toString();return s?`${e}?${s}`:e}function i(e,t){return"function"==typeof t?t(e):!!(e===t||e.startsWith(`${t}/`))}s.home,s.login,s.register,s.auth,s.forgotPassword,s.resetPassword,s.legal,s.terms,s.privacy},81778:function(e,t,r){r.d(t,{Z:function(){return s}});let s=(0,r(82790).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},64323:function(e,t,r){r.d(t,{Z:function(){return s}});let s=(0,r(82790).Z)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},94483:function(e,t,r){r.d(t,{Z:function(){return s}});let s=(0,r(82790).Z)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]])}}]);