(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{44337:function(e,t,r){Promise.resolve().then(r.t.bind(r,53123,23)),Promise.resolve().then(r.bind(r,69105)),Promise.resolve().then(r.bind(r,34196)),Promise.resolve().then(r.bind(r,56491)),Promise.resolve().then(r.bind(r,59321)),Promise.resolve().then(r.t.bind(r,78809,23)),Promise.resolve().then(r.t.bind(r,61950,23))},69105:function(e,t,r){"use strict";r.d(t,{AppShell:function(){return J}});var s=r(43264),i=r(27905),n=r(9060),a=r(54055),l=r(67005),o=r(96066),c=r(56491),d=r(75532),u=r(26325),h=r(11942),m=r(31531),x=r(35071);function p(){return{userAgent:navigator.userAgent,url:window.location.href,viewport:{width:window.innerWidth,height:window.innerHeight},platform:navigator.platform,language:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}var f=r(63609);function w(e){let{isOpen:t,onClose:r,userEmail:n}=e,l=function(){let{initialEmail:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=i.useState(""),[s,n]=i.useState(e),a=t.length>=10,l=i.useCallback(()=>{r(""),n(e)},[e]);return{description:t,email:s,setDescription:r,setEmail:n,isDescriptionValid:a,canSubmit:a,reset:l}}({initialEmail:n}),o=function(){let[e,t]=i.useState(null),[r,s]=i.useState(null),[n,a]=i.useState(null),l=i.useCallback(async e=>{if(!e.type.startsWith("image/")){a("Please upload an image file");return}if(e.size>5242880){a("Image file must be less than 5MB");return}return s(e),a(null),new Promise((r,s)=>{let i=new FileReader;i.onloadend=()=>{t(i.result),r()},i.onerror=()=>{a("Failed to read image file"),s(Error("Failed to read image file"))},i.readAsDataURL(e)})},[]),o=i.useCallback(()=>{t(null),s(null),a(null)},[]),c=i.useCallback(()=>{t(null),s(null),a(null)},[]);return{screenshot:e,screenshotFile:r,uploadScreenshot:l,removeScreenshot:o,error:n,setError:a,reset:c}}(),c=function(e){let{enabled:t}=e,[r,s]=i.useState([]),[n,a]=i.useState(null);return i.useEffect(()=>{if(t){try{let e=(0,x.getConsoleLogBuffer)().getLogs();s(e),(0,m.IE)("bug_report_logs_captured",{log_count:e.length,has_errors:e.some(e=>"error"===e.level),has_warnings:e.some(e=>"warn"===e.level)})}catch(e){console.error("Console log capture failed:",e),(0,m.IE)("bug_report_logs_captured",{log_count:0,has_errors:!1,success:!1})}a(p())}},[t]),{consoleLogs:r,browserMetadata:n}}({enabled:t}),w=function(e){let{description:t,email:r,screenshot:s,consoleLogs:n,browserMetadata:a}=e,[l,o]=i.useState(!1),[c,d]=i.useState(null),[u,h]=i.useState(!1),x=f.SX.bugReport.submit.useMutation({onSuccess:e=>{o(!1),h(!0),(0,m.IE)("bug_report_submitted",{bug_report_id:e.bugReportId,has_screenshot:!!s,has_logs:n.length>0,description_length:t.length,success:!0})},onError:e=>{d(e.message),o(!1),(0,m.IE)("bug_report_submitted",{has_screenshot:!!s,has_logs:n.length>0,description_length:t.length,success:!1,error:e.message})}});return{isSubmitting:l,submitError:c,submitSuccess:u,submit:i.useCallback(async()=>{o(!0),d(null);try{await x.mutateAsync({description:t,email:r||void 0,includeScreenshot:!!s,includeLogs:!0,screenshot:s||void 0,consoleLogs:n.length>0?n:void 0,browserMetadata:a||p()})}catch(e){}},[t,r,s,n,a,x]),reset:i.useCallback(()=>{o(!1),d(null),h(!1)},[])}}({description:l.description,email:l.email,screenshot:o.screenshot,consoleLogs:c.consoleLogs,browserMetadata:c.browserMetadata}),g=i.useRef(r);i.useEffect(()=>{g.current=r},[r]);let v=function(e){let{enabled:t,duration:r,onComplete:s}=e,[n,a]=i.useState(r),l=i.useRef(null),o=i.useRef(null),c=i.useRef(s);return i.useEffect(()=>{c.current=s},[s]),i.useEffect(()=>{if(t){a(r);let e=setInterval(()=>{a(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return l.current=e,o.current=setTimeout(()=>{c.current()},1e3*r),()=>{clearInterval(e),o.current&&clearTimeout(o.current)}}},[t,r]),{countdown:n,reset:i.useCallback(()=>{l.current&&clearInterval(l.current),o.current&&clearTimeout(o.current),a(r)},[r])}}({enabled:w.submitSuccess,duration:5,onComplete:()=>{(!w.isSubmitting||w.submitSuccess)&&(l.reset(),o.reset(),w.reset(),g.current())}}),b=i.useCallback(()=>{(!w.isSubmitting||w.submitSuccess)&&(l.reset(),o.reset(),w.reset(),v.reset(),g.current())},[l,o,w,v]),j=i.useCallback(e=>{let t=e.target.files?.[0];t&&o.uploadScreenshot(t).catch(()=>{})},[o]),N=i.useCallback(async()=>{l.isDescriptionValid&&await w.submit()},[l.isDescriptionValid,w]),k=i.useCallback(()=>{b()},[b]),y=o.error||w.submitError;i.useEffect(()=>{t&&(0,m.IE)("bug_report_modal_opened",{page_url:window.location.href,is_authenticated:!!n})},[t,n]);let C=l.canSubmit&&!w.isSubmitting;return t?(0,s.jsx)(a.Vq,{open:t,onOpenChange:k,children:(0,s.jsxs)(a.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-[#121214] border-white/10","data-bug-report-modal":!0,children:[(0,s.jsxs)(a.fK,{children:[(0,s.jsxs)(a.$N,{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"h-5 w-5 text-[var(--purple-500)]"}),"Report a Bug"]}),(0,s.jsx)(a.Be,{children:"Help us improve by reporting issues you encounter."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[w.submitSuccess&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-green-500/30 bg-green-500/10 p-4",children:[(0,s.jsx)(u.Z,{className:"h-5 w-5 text-green-400 shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-green-400",children:"Thank you!"}),(0,s.jsx)("p",{className:"text-xs text-green-400/70",children:"Your bug report has been submitted successfully. We'll review it and get back to you if needed."})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(a.zx,{onClick:k,className:"bg-gradient-to-r from-[var(--purple-600)] to-[var(--pink-500)] hover:opacity-90",children:["Close",v.countdown>0?` (${v.countdown})`:""]})})]}),y&&(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-red-500/30 bg-red-500/10 p-4",children:[(0,s.jsx)(h.Z,{className:"h-5 w-5 text-red-400 shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-red-400",children:w.submitError?"Failed to submit bug report":"Error"}),(0,s.jsx)("p",{className:"text-xs text-red-400/70",children:y})]})]}),!w.submitSuccess&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(a.__,{htmlFor:"description",children:["Describe the issue ",(0,s.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,s.jsx)(a.gx,{id:"description",value:l.description,onChange:e=>l.setDescription(e.target.value),placeholder:"Please describe the bug or issue you encountered...",rows:4,error:l.description.length>0&&!l.isDescriptionValid,disabled:w.isSubmitting,className:"resize-none"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[l.description.length>0&&!l.isDescriptionValid&&(0,s.jsx)("p",{className:"text-xs text-red-400",children:"Description must be at least 10 characters"}),(0,s.jsxs)("p",{className:"text-xs text-white/40 ml-auto",children:[l.description.length," / 10 minimum"]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a.__,{htmlFor:"email",children:"Email (optional, for follow-up)"}),(0,s.jsx)(a.II,{id:"email",type:"email",value:l.email,onChange:e=>l.setEmail(e.target.value),placeholder:"your@email.com",disabled:w.isSubmitting})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(a.__,{htmlFor:"screenshot",children:"Screenshot (optional)"}),o.screenshot?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"relative rounded-lg border border-white/10 overflow-hidden",children:(0,s.jsx)("img",{src:o.screenshot,alt:"Screenshot preview",className:"w-full h-auto max-h-64 object-contain bg-[#0f0f11]"})}),(0,s.jsx)(a.zx,{type:"button",variant:"outline",size:"sm",onClick:o.removeScreenshot,disabled:w.isSubmitting,className:"w-full",children:"Remove Screenshot"})]}):(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(a.II,{id:"screenshot",type:"file",accept:"image/*",onChange:j,disabled:w.isSubmitting,className:"text-sm"})}),(0,s.jsx)("p",{className:"text-xs text-white/40",children:"Upload a screenshot to help us understand the issue better"})]})]})]}),!w.submitSuccess&&(0,s.jsxs)(a.cN,{className:"flex flex-row justify-end gap-3",children:[(0,s.jsx)(a.zx,{variant:"outline",onClick:k,disabled:w.isSubmitting,children:"Cancel"}),(0,s.jsx)(a.zx,{onClick:N,disabled:!C||w.isSubmitting,className:"bg-gradient-to-r from-[var(--purple-600)] to-[var(--pink-500)] hover:opacity-90 disabled:opacity-50",children:w.isSubmitting?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Submitting..."]}):"Submit Report"})]})]})}):null}var g=r(61448),v=r(99210);let b=e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:(0,a.cn)("h-5 w-5 shrink-0",t),children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5zM18 1.5a.75.75 0 01.728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 010 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 01-1.456 0l-.258-1.036a2.625 2.625 0 00-1.91-1.91l-1.036-.258a.75.75 0 010-1.456l1.036-.258a2.625 2.625 0 001.91-1.91l.258-1.036A.75.75 0 0118 1.5zM16.5 15a.75.75 0 01.712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 010 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 01-1.422 0l-.395-1.183a1.5 1.5 0 00-.948-.948l-1.183-.395a.75.75 0 010-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0116.5 15z",clipRule:"evenodd"})})},j=e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:(0,a.cn)("h-4 w-4 shrink-0",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})},N=e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,className:(0,a.cn)("h-4 w-4 shrink-0",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})},k=e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:(0,a.cn)("h-5 w-5 shrink-0",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 12.75c1.148 0 2.278.08 3.383.237 1.037.146 1.866.966 1.866 2.013 0 3.728-2.35 6.75-5.25 6.75S6.75 18.728 6.75 15c0-1.046.83-1.867 1.866-2.013A24.204 24.204 0 0112 12.75zm0 0c2.883 0 5.647.508 8.207 1.44a23.91 23.91 0 01-1.152 6.06M12 12.75c-2.883 0-5.647.508-8.208 1.44.125 2.104.52 4.136 1.153 6.06M12 12.75a2.25 2.25 0 002.248-2.354M12 12.75a2.25 2.25 0 01-2.248-2.354M12 8.25c.995 0 1.971-.08 2.922-.236.403-.066.74-.358.795-.762a3.778 3.778 0 00-.399-2.25M12 8.25c-.995 0-1.97-.08-2.922-.236-.402-.066-.74-.358-.795-.762a3.734 3.734 0 01.4-2.253M12 8.25a2.25 2.25 0 00-2.248 2.146M12 8.25a2.25 2.25 0 012.248 2.146M8.683 5a6.032 6.032 0 01-1.155-1.002c.07-.63.27-1.222.574-1.747m.581 2.749A3.75 3.75 0 0112 3.75a3.75 3.75 0 013.317 1.998m-.581-2.749A4.49 4.49 0 0116.472 2.2M9.268 5.249c.256.424.564.815.918 1.163m5.647-.412a6.032 6.032 0 001.155-1.002 4.49 4.49 0 00-.574-1.747M14.732 5.25a5.99 5.99 0 01-.918 1.163"})})},y=e=>{let{className:t}=e;return(0,s.jsx)(v.Z,{className:(0,a.cn)("h-5 w-5 shrink-0",t)})};var C=r(27062),_=r(66047),E=r(64582);let S=[{title:"My Influencers",url:E._j.dashboard,icon:e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:(0,a.cn)("h-5 w-5 shrink-0",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})})},isActive:e=>(0,E.z5)(e,E._j.dashboard)},{title:"Create",url:E._j.wizard.step0,icon:e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:(0,a.cn)("h-5 w-5 shrink-0",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})},isActive:e=>(0,E.z5)(e,E._j.wizard.root),highlight:!0},{title:"Studio",url:E._j.studio,icon:e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:(0,a.cn)("h-5 w-5 shrink-0",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})},isActive:e=>(0,E.z5)(e,E._j.studio)},{title:"Templates",url:E._j.templates,icon:e=>{let{className:t}=e;return(0,s.jsx)(g.Z,{className:(0,a.cn)("h-5 w-5 shrink-0",t)})},isActive:e=>(0,E.z5)(e,E._j.templates)},{title:"Activity",url:E._j.activity,icon:e=>{let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:(0,a.cn)("h-5 w-5 shrink-0",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})},isActive:e=>(0,E.z5)(e,E._j.activity)}];function z(e){let{items:t,pathname:r,isExpanded:i,onLinkClick:n}=e;return(0,s.jsx)("div",{className:"space-y-1",children:t.map(e=>{let t=e.isActive(r||""),o=e.icon,c=e.isLocked;return(0,s.jsxs)(C.default,{href:e.url,onClick:n,className:(0,a.cn)("group relative flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all duration-300",t?"text-white":"text-white/60 hover:text-white",e.highlight&&!t&&"text-[var(--purple-300)]",c&&"opacity-60 cursor-not-allowed",!i&&"justify-center px-0"),children:[(0,s.jsx)(_.M,{children:t&&(0,s.jsx)(l.E.div,{layoutId:"active-nav-bg",className:"absolute inset-0 bg-white/10 backdrop-blur-md rounded-xl border border-white/10 shadow-[0_0_20px_rgba(168,85,247,0.15)]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"spring",stiffness:380,damping:30}})}),e.highlight&&!t&&(0,s.jsx)("div",{className:(0,a.cn)("absolute inset-0 bg-gradient-to-r from-[var(--purple-600)]/15 to-[var(--pink-500)]/15 rounded-xl border border-white/5 opacity-100 transition-opacity duration-300 group-hover:from-[var(--purple-600)]/25 group-hover:to-[var(--pink-500)]/25",!i&&"hidden")}),!t&&(0,s.jsx)(l.E.div,{className:"absolute inset-0 bg-white/[0.03] rounded-xl opacity-0 group-hover:opacity-100",whileHover:{scale:1.02},transition:{duration:.2}}),t&&i&&(0,s.jsx)(l.E.div,{layoutId:"active-nav-indicator",className:"absolute left-0 w-1 h-5 bg-gradient-to-b from-[var(--purple-400)] to-[var(--pink-500)] rounded-full shadow-[0_0_8px_var(--purple-500)]",initial:{opacity:0,x:-4},animate:{opacity:1,x:0},transition:{duration:.3}}),(0,s.jsx)(l.E.div,{className:"relative z-10 shrink-0",whileHover:t?{}:{scale:1.1,rotate:5},children:(0,s.jsx)(o,{className:(0,a.cn)("transition-all duration-300",t?"text-[var(--purple-400)] drop-shadow-[0_0_5px_rgba(168,85,247,0.5)]":e.highlight?"text-[var(--purple-400)]":"text-white/60 group-hover:text-white")})}),i&&(0,s.jsx)("span",{className:"relative z-10 truncate transition-transform duration-300 group-hover:translate-x-0.5",children:e.title}),c&&(0,s.jsx)(l.E.div,{className:"relative z-10 shrink-0 ml-auto",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},children:(0,s.jsx)(y,{className:"h-4 w-4 text-white/40"})})]},e.title)})})}var L=r(8339);function P(e){let{isExpanded:t,isMobile:r,onLinkClick:i,onToggleSidebar:n}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between w-full h-full px-5",children:[(0,s.jsx)(C.default,{href:E._j.dashboard,onClick:i,className:"flex items-center overflow-hidden justify-center",children:t?(0,s.jsx)(L.default,{src:"/logos/Ryla_Logo_white.png",alt:"RYLA",width:100,height:32,className:"h-8 w-auto shrink-0"}):(0,s.jsx)(L.default,{src:"/logos/ryla_small_logo.png",alt:"RYLA",width:32,height:32,className:"h-8 w-8 shrink-0"})}),!r&&t&&(0,s.jsx)("button",{onClick:n,className:"flex h-9 w-9 items-center justify-center rounded-lg bg-white/5 text-[var(--text-muted)] hover:text-white hover:bg-white/10 transition-all shrink-0",children:(0,s.jsx)(j,{})})]})}var A=r(43739);let M=e=>{switch(e){case"pro":case"unlimited":return"bg-gradient-to-r from-[var(--purple-500)] to-[var(--pink-500)] text-white";case"starter":return"bg-[var(--purple-500)]/20 text-[var(--purple-400)]";default:return"bg-white/10 text-white/60"}},R=e=>{switch(e){case"pro":return"Pro";case"unlimited":return"Pro+";case"starter":return"Starter";default:return"Free"}};function T(e){let{isExpanded:t,isMobile:r,isPro:i,tier:n,isSettingsActive:l,user:o,onLinkClick:c,onToggleSidebar:d}=e;return(0,s.jsxs)(s.Fragment,{children:[!r&&!t&&(0,s.jsx)("button",{onClick:d,className:"flex h-10 w-full items-center justify-center rounded-xl bg-white/5 text-white/70 hover:text-white hover:bg-white/10 transition-all mb-3",children:(0,s.jsx)(N,{})}),!i&&(0,s.jsxs)(C.default,{href:E._j.pricing,onClick:c,className:(0,a.cn)("w-full flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200","bg-gradient-to-r from-[var(--purple-600)]/15 to-[var(--pink-500)]/15","hover:from-[var(--purple-600)]/25 hover:to-[var(--pink-500)]/25","border border-white/5 hover:border-white/10",!t&&"justify-center px-0"),children:[(0,s.jsx)(b,{className:"text-[var(--purple-400)] shrink-0"}),t&&(0,s.jsx)("span",{className:"bg-gradient-to-r from-[var(--purple-400)] to-[var(--pink-400)] bg-clip-text text-transparent font-semibold",children:"Upgrade to Pro"})]}),t&&(0,s.jsx)(A.jf,{size:"md",className:"mt-3"}),(0,s.jsxs)(C.default,{href:E._j.settings,onClick:c,className:(0,a.cn)("flex items-center gap-3 rounded-xl px-3 py-3 mt-3 transition-all duration-200",l?"bg-white/10 shadow-sm":"hover:bg-white/5",!t&&"justify-center px-0"),children:[(0,s.jsx)("div",{className:"relative shrink-0",children:(0,s.jsx)("div",{className:(0,a.cn)("rounded-full overflow-hidden bg-gradient-to-br from-[var(--purple-500)] to-[var(--pink-500)] flex items-center justify-center",t?"h-10 w-10":"h-8 w-8"),children:(0,s.jsx)("span",{className:(0,a.cn)("font-bold text-white",t?"text-sm":"text-xs"),children:o?.publicName?.charAt(0).toUpperCase()||o?.name?.charAt(0).toUpperCase()||"U"})})}),t&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-white truncate max-w-[120px]",children:o?.publicName||o?.name||"User"}),(0,s.jsx)("span",{className:(0,a.cn)("px-1.5 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide shrink-0",M(n)),children:R(n)})]}),(0,s.jsx)("span",{className:"text-xs text-white/50",children:"Settings"})]}),t&&(0,s.jsx)(N,{className:"text-white/30 shrink-0"})]}),t&&(0,s.jsx)("div",{className:"mt-4 border-t border-white/5"}),t&&(0,s.jsxs)("div",{className:"mt-4 flex justify-center gap-3 text-[11px] text-white/50",children:[(0,s.jsx)(C.default,{href:E._j.legal,className:"hover:text-white/70 transition-colors",children:"Terms"}),(0,s.jsx)("span",{className:"text-white/20",children:"•"}),(0,s.jsx)(C.default,{href:E._j.privacy,className:"hover:text-white/70 transition-colors",children:"Privacy"})]})]})}function I(e){let{isOpen:t,onClose:r}=e,l=(0,n.usePathname)(),{user:d}=(0,c.a)(),{tier:u}=(0,o.mU)(),[h,m]=i.useState(!1),{data:x}=f.SX.character.list.useQuery(),p=(x?.items?.length??0)>0,g=S.map(e=>"/studio"===e.url||"/templates"===e.url?{...e,isLocked:!p}:e),v=i.useRef(l);return i.useEffect(()=>{v.current!==l&&(r(),v.current=l)},[l,r]),(0,s.jsxs)(s.Fragment,{children:[t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-[60] bg-black/70 backdrop-blur-sm lg:hidden animate-in fade-in duration-500",onClick:r}),(0,s.jsx)("div",{className:"fixed inset-0 z-[70] pointer-events-none flex flex-col justify-end lg:hidden",children:(0,s.jsxs)("div",{className:(0,a.cn)("pointer-events-auto w-full flex flex-col","bg-[#121214] rounded-t-[32px] border-t border-white/10","max-h-[82vh] overflow-hidden","animate-in slide-in-from-bottom duration-700 cubic-bezier(0.32, 0.72, 0, 1)","shadow-[0_-8px_40px_rgba(0,0,0,0.5)]"),children:[(0,s.jsx)("div",{className:"flex justify-center pt-3 pb-2 shrink-0",onClick:r,children:(0,s.jsx)("div",{className:"h-1.5 w-12 rounded-full bg-white/10"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/5 shrink-0",children:[(0,s.jsx)(C.default,{href:E._j.dashboard,className:"flex items-center",children:(0,s.jsx)(L.default,{src:"/logos/Ryla_Logo_white.png",alt:"RYLA",width:80,height:28,className:"h-7 w-auto"})}),(0,s.jsx)("button",{onClick:r,className:"p-2 rounded-full bg-white/5 text-white/70 hover:text-white",children:(0,s.jsx)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-1.5",children:[g.map((e,t)=>{let r=e.isActive(l||""),i=e.icon,n=e.isLocked;return(0,s.jsxs)(C.default,{href:e.url,className:(0,a.cn)("group flex items-center gap-3 rounded-xl px-4 py-2.5 text-sm font-semibold transition-all duration-300",r?"bg-gradient-to-r from-[var(--purple-600)] to-[var(--pink-600)] text-white shadow-lg shadow-purple-500/20":"text-white/70 hover:bg-white/5 hover:text-white",e.highlight&&!r&&"bg-gradient-to-r from-[var(--purple-600)]/10 to-[var(--pink-500)]/10 text-[var(--purple-300)] border border-white/5",n&&"opacity-60"),style:{animationDelay:`${50*t}ms`},children:[(0,s.jsx)("div",{className:(0,a.cn)("w-8 h-8 rounded-lg flex items-center justify-center transition-transform group-active:scale-90",r?"bg-white/20":"bg-white/5 group-hover:bg-white/10"),children:(0,s.jsx)(i,{className:(0,a.cn)("w-5 h-5 shrink-0",r?"text-white":e.highlight?"text-[var(--purple-400)]":"text-white/70")})}),(0,s.jsx)("span",{className:"flex-1",children:e.title}),r&&(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-white animate-pulse"}),n&&(0,s.jsx)(y,{className:"h-4 w-4 text-white/40 shrink-0"})]},e.title)}),(0,s.jsxs)("button",{onClick:()=>{m(!0),r()},className:"group flex items-center gap-3 rounded-xl px-4 py-2.5 text-sm font-semibold transition-all duration-200 w-full text-white/70 hover:bg-white/5 hover:text-white",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-transform group-active:scale-90",children:(0,s.jsx)(k,{className:"w-5 h-5 shrink-0 text-white/70"})}),(0,s.jsx)("span",{className:"flex-1 text-left",children:"Report Bug"})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-[#1E1E20] to-[#161618] rounded-2xl p-4 border border-white/5 shadow-inner",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)("span",{className:"text-[10px] text-white/40 font-bold uppercase tracking-widest",children:"Account Balance"}),(0,s.jsx)(A.jf,{size:"md",className:"!bg-transparent !border-0 !p-0 mt-1",showLabel:!0})]}),(0,s.jsx)(C.default,{href:E._j.pricing,className:"p-2 rounded-xl bg-white/5 text-white/70 hover:bg-white/10 transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),(0,s.jsx)(C.default,{href:E._j.pricing,className:"block w-full py-2 rounded-xl bg-white/5 text-center text-[10px] font-bold text-white hover:bg-white/10 transition-colors border border-white/5 uppercase tracking-wider",children:"Buy Credits"})]}),(0,s.jsxs)(C.default,{href:E._j.settings,className:"flex items-center gap-4 rounded-2xl p-4 bg-[#1E1E20] border border-white/5 hover:bg-[#252528] transition-all group active:scale-[0.98]",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"rounded-xl h-12 w-12 bg-gradient-to-br from-[var(--purple-500)] to-[var(--pink-500)] flex items-center justify-center shrink-0 shadow-lg shadow-purple-500/20",children:(0,s.jsx)("span",{className:"font-black text-white text-lg",children:d?.publicName?.charAt(0).toUpperCase()||d?.name?.charAt(0).toUpperCase()||"U"})}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 border-[3px] border-[#1E1E20] rounded-full"})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:"text-base font-bold text-white truncate",children:d?.publicName||d?.name||"User"})}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)("span",{className:(0,a.cn)("px-1.5 py-0.5 rounded text-[9px] font-black uppercase tracking-wider","pro"===u||"unlimited"===u?"bg-gradient-to-r from-[var(--purple-500)] to-[var(--pink-500)] text-white":"starter"===u?"bg-[var(--purple-500)]/20 text-[var(--purple-400)]":"bg-white/10 text-white/60"),children:"unlimited"===u?"Pro+":"pro"===u?"Pro":"starter"===u?"Starter":"Free"})})]}),(0,s.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white/5 flex items-center justify-center group-hover:bg-white/10 transition-colors",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-white/40 group-hover:text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3 pb-8 pt-2",children:[(0,s.jsxs)("div",{className:"flex justify-center gap-6 text-[10px] font-bold uppercase tracking-widest text-white/30",children:[(0,s.jsx)(C.default,{href:E._j.legal,className:"hover:text-white/60 transition-colors",children:"Terms"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)(C.default,{href:E._j.privacy,className:"hover:text-white/60 transition-colors",children:"Privacy"})]}),(0,s.jsx)("p",{className:"text-[9px] text-white/20 font-medium",children:"\xa9 2026 Ryla.ai - All rights reserved"})]})]})]})})]}),(0,s.jsx)(w,{isOpen:h,onClose:()=>m(!1),userEmail:d?.email})]})}function B(){let e=(0,n.usePathname)(),{open:t,setOpen:r,openMobile:d,isMobile:u,setOpenMobile:h}=(0,a.Ap)(),{isPro:m,tier:x}=(0,o.mU)(),{user:p}=(0,c.a)(),g=u?d:t,[v,b]=i.useState(!1),{data:j}=f.SX.character.list.useQuery(),N=(j?.items?.length??0)>0,y=S.map(e=>"/studio"===e.url||"/templates"===e.url?{...e,isLocked:!N}:e),C=()=>{u&&h(!1)},_=()=>{u||r(!t)},E=i.useCallback(()=>{h(!1)},[h]);return u?(0,s.jsx)(I,{isOpen:d,onClose:E}):(0,s.jsxs)(a.YE,{children:[(0,s.jsx)(a.$l,{className:"!p-0 h-16 border-b border-white/5 overflow-hidden",children:(0,s.jsx)(P,{isExpanded:g,isMobile:u,onLinkClick:C,onToggleSidebar:_})}),(0,s.jsxs)(a.TZ,{className:"px-4 py-4 flex flex-col",children:[(0,s.jsx)(z,{items:y,pathname:e||"",isExpanded:g,onLinkClick:C}),(0,s.jsx)("div",{className:"mt-auto pt-4",children:(0,s.jsxs)("button",{onClick:()=>b(!0),className:(0,a.cn)("group relative flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-medium transition-all duration-300 w-full","text-white/60 hover:text-white focus:outline-none",!g&&"justify-center px-0"),children:[(0,s.jsx)(l.E.div,{className:"absolute inset-0 bg-white/[0.03] rounded-xl opacity-0 group-hover:opacity-100",whileHover:{scale:1.02},transition:{duration:.2}}),(0,s.jsx)(l.E.div,{className:"relative z-10 shrink-0",whileHover:{scale:1.1,rotate:-5},children:(0,s.jsx)(k,{className:"text-white/60 group-hover:text-white transition-colors duration-300"})}),g&&(0,s.jsx)("span",{className:"relative z-10 truncate transition-transform duration-300 group-hover:translate-x-0.5",children:"Report Bug"})]})})]}),(0,s.jsx)(a.ZW,{className:"px-4 pb-5 border-t border-white/5",children:(0,s.jsx)(T,{isExpanded:g,isMobile:u,isPro:m,tier:x,isSettingsActive:"/settings"===e,user:p,onLinkClick:C,onToggleSidebar:_})}),(0,s.jsx)(w,{isOpen:v,onClose:()=>b(!1),userEmail:p?.email})]})}var F=r(23599);function $(e){let{className:t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,className:(0,a.cn)("h-5 w-5",t),children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}var O=r(83811);function U(e){let{unreadCount:t,onMarkAllRead:r}=e;return(0,s.jsxs)("div",{className:"flex items-center justify-between border-b border-white/10 px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-white",children:"Notifications"}),(0,s.jsx)("div",{className:"text-xs text-white/50",children:t>0?`You have ${t} unread`:"All caught up"})]}),t>0&&(0,s.jsx)("button",{type:"button",onClick:r,className:"rounded-lg bg-white/5 px-3 py-1.5 text-xs text-white/80 hover:bg-white/10",children:"Mark all read"})]})}function W(e){let{notification:t,onMarkRead:r,onClose:i}=e,n=t.metadata,l=n?.thumbnailUrl,o=n?.baseImageUrl,c=n?.imageCount,d=n?.characterId,u="generation.completed"===t.type,h="character.created"===t.type,p=u?x.FEATURE_CREDITS.studio_standard.credits*(c??1):null,f=h?o:l,w=!!t.href,g=(0,s.jsxs)("div",{className:"flex gap-3",children:[f&&(0,s.jsx)("div",{className:"shrink-0",children:(0,s.jsx)("div",{className:"relative h-12 w-12 rounded-lg overflow-hidden border border-white/10",children:(0,s.jsx)(L.default,{src:f,alt:"",fill:!0,className:"object-cover",sizes:"48px"})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col gap-0.5",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsx)("div",{className:(0,a.cn)("text-sm truncate",t.isRead?"text-white/70":"text-white"),children:t.title}),(0,s.jsx)("div",{className:"text-[11px] text-white/40 whitespace-nowrap shrink-0",children:t.createdAt?function(e){let t=Math.round((e.getTime()-Date.now())/1e3),r=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});if(60>Math.abs(t))return r.format(t,"second");let s=Math.round(t/60);if(60>Math.abs(s))return r.format(s,"minute");let i=Math.round(s/60);return 24>Math.abs(i)?r.format(i,"hour"):r.format(Math.round(i/24),"day")}(new Date(t.createdAt)):""})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[t.body&&(0,s.jsx)("span",{className:"text-xs text-white/50 line-clamp-1",children:t.body}),null!==p&&(0,s.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-orange-500/10 text-orange-400 font-medium shrink-0",children:["-",p]})]}),w&&(0,s.jsx)("div",{className:"text-[10px] text-purple-400/60 mt-0.5",children:d?u?"Tap to open in Studio →":"Tap to view character →":"Tap to view →"})]})]}),v=(0,a.cn)("block rounded-lg px-3 py-2.5 transition-colors",t.isRead?"bg-white/5 hover:bg-white/7":"bg-white/8 hover:bg-white/10",w&&"hover:border-purple-500/30 border border-transparent cursor-pointer"),b=()=>{(0,m.IE)("notifications.notification_clicked",{notification_id:t.id,type:t.type,has_href:!!t.href}),t.isRead||(r(t.id),(0,m.IE)("notifications.notification_marked_read",{notification_id:t.id,type:t.type,source:"menu_click"})),i()};return t.href?(0,s.jsx)(C.default,{href:t.href,className:v,onClick:b,children:g},t.id):(0,s.jsx)("button",{className:v,onClick:b,type:"button",children:g},t.id)}function D(e){let{notifications:t,unreadNotifications:r,readNotifications:i,isLoading:n,onMarkRead:a,onClose:l}=e;return n&&0===t.length?(0,s.jsx)("div",{className:"p-4 text-sm text-white/60",children:"Loading…"}):0===t.length?(0,s.jsx)("div",{className:"p-4 text-sm text-white/60",children:"No notifications yet."}):(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[r.length>0&&(0,s.jsx)("div",{className:"px-2 pt-1 text-[11px] font-semibold text-white/50",children:"New"}),r.map(e=>(0,s.jsx)(W,{notification:e,onMarkRead:a,onClose:l},e.id)),i.length>0&&(0,s.jsx)("div",{className:"px-2 pt-2 text-[11px] font-semibold text-white/50",children:"Earlier"}),i.map(e=>(0,s.jsx)(W,{notification:e,onMarkRead:a,onClose:l},e.id))]})}function H(){let{items:e,unreadCount:t,isLoading:r,markAllRead:n,markRead:a}=(0,F.z)({limit:25,offset:0,refetchIntervalMs:3e4}),[l,o]=(0,i.useState)(!1),c=(0,i.useRef)(null),{unread:d,read:u}=(0,i.useMemo)(()=>({unread:e.filter(e=>!e.isRead),read:e.filter(e=>e.isRead)}),[e]);return(0,s.jsxs)("div",{className:"relative",ref:c,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{let e=!l;o(e),e&&(0,m.IE)("notifications.menu_opened",{unread_count:t})},className:"relative flex min-h-[44px] min-w-[44px] items-center justify-center rounded-full text-[var(--text-secondary)] transition-all hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)]","aria-label":"Notifications","aria-expanded":l,children:[(0,s.jsx)($,{}),t>0&&(0,s.jsx)("span",{className:"absolute -right-0.5 -top-0.5 inline-flex h-5 min-w-5 items-center justify-center rounded-full bg-red-500 px-1 text-[10px] font-bold text-white",children:t>99?"99+":t})]}),(0,s.jsxs)(O.F,{isOpen:l,onClose:()=>o(!1),anchorRef:c,desktopPosition:"bottom",align:"right",className:"w-[360px] max-w-[95vw]",children:[(0,s.jsx)(U,{unreadCount:t,onMarkAllRead:()=>{(0,m.IE)("notifications.mark_all_read_clicked",{unread_count_before:t}),n()}}),(0,s.jsx)("div",{className:"max-h-[420px] overflow-y-auto p-2",children:(0,s.jsx)(D,{notifications:e,unreadNotifications:d,readNotifications:u,isLoading:r,onMarkRead:a,onClose:()=>o(!1)})})]})]})}var Z=r(37655);let Y=["/login","/register","/auth","/forgot-password","/reset-password"];function X(e){let{children:t}=e,{open:r,isMobile:n}=(0,a.Ap)(),{user:l}=(0,c.a)(),[o,d]=i.useState(!1),[u,h]=i.useState(!0),m=i.useRef(0),x=i.useRef(!1),p=n?0:r?256:80;return i.useEffect(()=>{if(!n)return;let e=()=>{x.current||(x.current=!0,requestAnimationFrame(()=>{let e=window.scrollY;e>m.current&&e>50?h(!1):h(!0),m.current=e,x.current=!1}))};return window.addEventListener("scroll",e,{passive:!0}),m.current=window.scrollY,()=>{window.removeEventListener("scroll",e)}},[n]),(0,s.jsxs)("div",{className:"min-h-screen bg-[#121214] overflow-x-hidden",children:[(0,s.jsx)(Z.x7,{richColors:!0,position:"top-right"}),(0,s.jsx)(B,{}),(0,s.jsx)(a.LJ,{}),(0,s.jsxs)("div",{className:"flex flex-col min-h-screen transition-all duration-200",style:{marginLeft:p,width:n?"100%":`calc(100% - ${p}px)`},children:[(0,s.jsxs)("header",{className:"sticky top-0 z-30 hidden md:flex h-16 items-center justify-between border-b border-white/5 bg-[#121214]/90 backdrop-blur-md px-6",children:[(0,s.jsx)("div",{}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(A.jf,{size:"md"}),(0,s.jsx)(H,{}),(0,s.jsx)(C.default,{href:E._j.settings,className:"flex min-h-[44px] min-w-[44px] items-center justify-center rounded-full text-[var(--text-secondary)] transition-all hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)]",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-5 w-5",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 00-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 00-2.282.819l-.922 1.597a1.875 1.875 0 00.432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 000 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 00-.432 2.385l.922 1.597a1.875 1.875 0 002.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 002.28-.819l.923-1.597a1.875 1.875 0 00-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 000-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 00-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 00-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 00-1.85-1.567h-1.843zM12 15.75a3.75 3.75 0 100-7.5 3.75 3.75 0 000 7.5z",clipRule:"evenodd"})})})]})]}),(0,s.jsx)("header",{className:(0,a.cn)("fixed top-0 left-0 right-0 z-30 md:hidden transition-transform duration-300",u?"translate-y-0":"-translate-y-full"),children:(0,s.jsxs)("div",{className:"relative h-14",children:[(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,s.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"absolute inset-0 h-full w-full",children:[(0,s.jsx)("path",{d:"M 0,100 C 8,98 20,97 30,97.2 C 40,97 45,97.3 50,97.3 C 55,97.3 60,97 70,97.2 C 80,97 92,98 100,100 L 100,0 L 60,0 C 56,0 55,0 54,6 C 53,12 52,18 50,18 C 48,18 47,12 46,6 C 45,0 44,0 40,0 L 0,0 Z",fill:"var(--bg-elevated)",className:"transition-all duration-500 ease-in-out"}),(0,s.jsx)("path",{d:"M 0,0 L 40,0 C 44,0 45,0 46,6 C 47,12 48,18 50,18 C 52,18 53,12 54,6 C 55,0 56,0 60,0 L 100,0",fill:"none",stroke:"var(--border-default)",strokeWidth:"0.5",className:"transition-all duration-500 ease-in-out"}),(0,s.jsx)("path",{d:"M 0,100 C 8,98 20,97 30,97.2 C 40,97 45,97.3 50,97.3 C 55,97.3 60,97 70,97.2 C 80,97 92,98 100,100",fill:"none",stroke:"var(--border-default)",strokeWidth:"0.5",className:"transition-all duration-500 ease-in-out"})]})}),(0,s.jsxs)("div",{className:"relative h-full flex items-center justify-between px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(a.AP,{}),(0,s.jsx)(C.default,{href:E._j.dashboard,className:"flex items-center",children:(0,s.jsx)(L.default,{src:"/logos/ryla_small_logo.png",alt:"RYLA",width:32,height:32,className:"h-7 w-7"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(H,{}),(0,s.jsx)(A.jf,{size:"sm",showLabel:!1})]})]})]})}),(0,s.jsx)("div",{className:"h-14 md:hidden"}),(0,s.jsx)(A.vK,{className:"mx-4 mt-4 md:mx-6"}),(0,s.jsx)("main",{className:"flex-1 pb-20 md:pb-0",children:(0,s.jsx)(a.n1,{children:t})}),(0,s.jsx)(w,{isOpen:o,onClose:()=>d(!1),userEmail:l?.email})]})]})}function J(e){let{children:t}=e,r=(0,n.usePathname)();return Y.some(e=>r===e||r.startsWith(e+"/"))?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)(a.Hn,{defaultOpen:!0,children:(0,s.jsx)(X,{children:t})})}},34196:function(e,t,r){"use strict";r.d(t,{ConsoleLogBufferInit:function(){return n}});var s=r(27905),i=r(35071);function n(){return(0,s.useEffect)(()=>{(0,i.initConsoleLogBuffer)()},[]),null}},83811:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var s=r(43264),i=r(27905),n=r(93646),a=r(54055);function l(e){let{children:t,isOpen:r,onClose:l,title:o,className:c,anchorRef:d,desktopPosition:u="top",align:h="left",tabletBreakpoint:m=768}=e,x=(0,a.dD)(m),[p,f]=i.useState(!1),[w,g]=i.useState({top:0,left:0,right:0}),v=i.useRef(null);if(i.useEffect(()=>{f(!0)},[]),i.useEffect(()=>{if(x||!r||!d?.current)return;let e=()=>{if(d.current){let e=d.current.getBoundingClientRect();g({top:"top"===u?e.top-8:e.bottom+8,left:e.left,right:window.innerWidth-e.right})}};return e(),window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)}},[r,x,d,u]),i.useEffect(()=>{if(r)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){v.current&&!v.current.contains(e.target)&&l()}},[r,l]),!p||!r)return null;let b=x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-[9998] bg-black/70 backdrop-blur-sm animate-in fade-in duration-300",onClick:l}),(0,s.jsxs)("div",{ref:v,className:(0,a.cn)("fixed inset-x-0 bottom-0 z-[9999] flex flex-col","bg-[var(--bg-elevated)] rounded-t-[32px] border-t border-white/10","max-h-[92vh] shadow-2xl overflow-hidden","animate-in slide-in-from-bottom-full duration-300 ease-out","w-full rounded-b-none"),children:[(0,s.jsx)("div",{className:"flex justify-center pt-3 pb-1",children:(0,s.jsx)("div",{className:"h-1.5 w-12 rounded-full bg-white/20"})}),o&&(0,s.jsxs)("div",{className:"px-5 py-3 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-white",children:o}),(0,s.jsx)("button",{onClick:l,className:"p-2 rounded-full hover:bg-white/5 text-white/40 hover:text-white transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-1",children:t})]})]}):(0,s.jsxs)(s.Fragment,{children:[!d&&(0,s.jsx)("div",{className:"fixed inset-0 z-[9998] bg-black/70 backdrop-blur-sm animate-in fade-in duration-300",onClick:l}),(0,s.jsxs)("div",{ref:v,style:d?{position:"fixed",top:w.top,..."right"===h?{right:w.right}:{left:w.left},transform:"top"===u?"translateY(-100%)":"none"}:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},className:(0,a.cn)("z-[9999] bg-[var(--bg-elevated)] border border-white/10 shadow-2xl rounded-2xl overflow-hidden",!d&&"animate-in zoom-in-95 duration-200",c),children:[o&&(0,s.jsxs)("div",{className:"p-4 border-b border-white/5 flex items-center justify-between",children:[(0,s.jsx)("div",{className:"text-lg font-bold text-white",children:o}),!d&&(0,s.jsx)("button",{onClick:l,className:"p-1 rounded-lg text-white/50 hover:text-white hover:bg-white/5 transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:(0,a.cn)(!d&&"p-4"),children:t})]})]});return(0,n.createPortal)(b,document.body)}},56491:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return c},a:function(){return d}});var s=r(43264),i=r(27905),n=r(9060),a=r(42063),l=r(64582);let o=(0,i.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!0),h=(0,n.useRouter)();(0,n.usePathname)();let m=(0,i.useCallback)(async()=>{try{if(!(0,a.hP)()){c(null);return}let e=await (0,a.ts)();c(e)}catch(e){console.error("Failed to fetch user:",e),c(null),(0,a.yE)()}},[]),x=(0,i.useCallback)(async()=>{try{await (0,a.kS)()}finally{c(null),h.push(l._j.login)}},[h]);return(0,i.useEffect)(()=>{(async()=>{u(!0),await m(),u(!1)})()},[m]),(0,s.jsx)(o.Provider,{value:{user:r,isLoading:d,isAuthenticated:!!r,logout:x,refreshUser:m},children:t})}function d(){let e=(0,i.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},42063:function(e,t,r){"use strict";r.d(t,{Cp:function(){return f},SH:function(){return j},Y:function(){return x},Zu:function(){return h},c0:function(){return g},d0:function(){return o},dU:function(){return v},f8:function(){return w},hP:function(){return l},kS:function(){return m},tm:function(){return p},ts:function(){return b},x4:function(){return d},yE:function(){return c},z2:function(){return u}});var s=r(72164);let i="ryla_access_token",n="ryla_refresh_token",a=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3001";function l(){return localStorage.getItem(i)}function o(e){localStorage.setItem(i,e.accessToken),localStorage.setItem(n,e.refreshToken)}function c(){localStorage.removeItem(i),localStorage.removeItem(n)}async function d(e){let t=new AbortController,r=setTimeout(()=>t.abort(),3e4);try{let s=await fetch(`${a}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:t.signal});if(clearTimeout(r),!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.message||"Login failed")}let i=await s.json();return o(i.tokens),i}catch(e){if(clearTimeout(r),e instanceof Error&&"AbortError"===e.name)throw Error("Login request timed out. Please try again.");throw e}}async function u(e){let t=await fetch(`${a}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"Registration failed");let r=await t.json();return o(r.tokens),r}async function h(){let e=localStorage.getItem(n);if(!e)return null;try{let t=await fetch(`${a}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!t.ok)return c(),null;let r=await t.json();return o(r.tokens),r}catch{return c(),null}}async function m(){let e=l();if(e)try{await fetch(`${a}/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch{}c()}async function x(){let e=l();if(e)try{await fetch(`${a}/auth/logout-all`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch{}c()}async function p(){let e=await j(`${a}/user/account`,{method:"DELETE"});if(!(204===e.status||e.ok))throw Error((await e.json().catch(()=>({}))).message||"Account deletion failed");c()}async function f(e){let t=await j(`${a}/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"Failed to change password")}async function w(e){let t=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",r=await fetch(`${t}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!r.ok){if(429===r.status)throw Error("Too many requests. Please try again later.");throw Error((await r.json().catch(()=>({}))).message||"Failed to send reset email")}}async function g(e){let t=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",r=await fetch(`${t}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){if(401===r.status)throw Error((await r.json().catch(()=>({}))).message||"Invalid or expired reset token");throw Error((await r.json().catch(()=>({}))).message||"Failed to reset password")}}async function v(e){try{let t=await fetch(`${a}/auth/check-email?email=${encodeURIComponent(e)}`);if(!t.ok){if(400===t.status){let e=await t.json().catch(()=>({}));throw Error(e.message||"Invalid email format")}throw Error("Failed to check email")}return(await t.json()).exists}catch(e){if(e instanceof Error)throw e;throw Error("Failed to check email")}}async function b(){let e=l();if(!e)return null;try{let t=await fetch(`${a}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok){if(401===t.status){let e=await h();if(e)return e.user;c()}return null}return(await t.json()).user}catch{return null}}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=l(),s=new Headers(t.headers);r&&s.set("Authorization",`Bearer ${r}`);let i=await fetch(e,{...t,headers:s});if(401===i.status){let r=await h();if(r)return s.set("Authorization",`Bearer ${r.tokens.accessToken}`),fetch(e,{...t,headers:s})}return i}},237:function(e,t,r){"use strict";r.d(t,{m:function(){return i}});var s=r(63609);function i(){let{data:e,isLoading:t,error:r,refetch:i}=s.SX.subscription.getCurrent.useQuery(void 0,{refetchInterval:6e4,placeholderData:e=>e}),n=e?.tier??"free";return{tier:n,status:e?.status??"active",currentPeriodStart:e?.currentPeriodStart,currentPeriodEnd:e?.currentPeriodEnd,cancelAtPeriodEnd:e?.cancelAtPeriodEnd??!1,isPro:"pro"===n||"unlimited"===n,isStarter:"starter"===n,isFree:"free"===n,isPaid:"free"!==n,isLoading:t,error:r,refetch:i}}},64582:function(e,t,r){"use strict";r.d(t,{UM:function(){return i},_j:function(){return s},z5:function(){return n}});let s={home:"/",login:"/login",register:"/register",auth:"/auth",forgotPassword:"/forgot-password",resetPassword:"/reset-password",legal:"/legal",terms:"/terms",privacy:"/privacy",dashboard:"/dashboard",pricing:"/pricing",buyCredits:"/buy-credits",wizard:{root:"/wizard",step0:"/wizard/step-0",step1:"/wizard/step-1",step2:"/wizard/step-2",step3:"/wizard/step-3",step4:"/wizard/step-4",step5:"/wizard/step-5",step6:"/wizard/step-6",step7:"/wizard/step-7",step8:"/wizard/step-8",step9:"/wizard/step-9",step10:"/wizard/step-10",step11:"/wizard/step-11",step12:"/wizard/step-12",step13:"/wizard/step-13",step14:"/wizard/step-14",step15:"/wizard/step-15",step16:"/wizard/step-16",step17:"/wizard/step-17",step18:"/wizard/step-18",step19:"/wizard/step-19",step20:"/wizard/step-20",step21:"/wizard/step-21",step22:"/wizard/step-22",baseImage:"/wizard/step-base-image",profilePictures:"/wizard/step-profile-pictures",step:e=>`/wizard/step-${e}`},studio:"/studio",templates:"/templates",activity:"/activity",influencer:{root:"/influencer",detail:e=>`/influencer/${e}`},settings:"/settings",onboarding:{root:"/onboarding",step:e=>`/onboarding/${e}`,complete:"/onboarding/complete"},payment:{success:"/payment/success",cancel:"/payment/cancel",error:"/payment/error"},preview:{root:"/preview",outfitPicker:"/preview/outfit-picker",outfitCompositionPicker:"/preview/outfit-composition-picker"}};function i(e,t){if(!t||0===Object.keys(t).length)return e;let r=new URLSearchParams;for(let[e,s]of Object.entries(t))null!=s&&r.append(e,String(s));let s=r.toString();return s?`${e}?${s}`:e}function n(e,t){return"function"==typeof t?t(e):!!(e===t||e.startsWith(`${t}/`))}s.home,s.login,s.register,s.auth,s.forgotPassword,s.resetPassword,s.legal,s.terms,s.privacy},59321:function(e,t,r){"use strict";let s;r.d(t,{TRPCProvider:function(){return b},clearAuthToken:function(){return f},getAuthToken:function(){return x},setAuthToken:function(){return p},trpc:function(){return h}});var i=r(43264),n=r(27905),a=r(61126),l=r(25640),o=r(58433),c=r(94059),d=r(60946),u=r(87532);r(72164);let h=(0,u.ec)();var m=r(42063);function x(){return(0,m.hP)()}function p(e){(0,m.d0)({accessToken:e,refreshToken:""})}function f(){(0,m.yE)()}r(72164);let w=!1,g=null,v=()=>e=>{let{next:t,op:r}=e;return(0,c.LO)(e=>{let s=t(r).subscribe({next(t){e.next(t)},error(s){if(401===(s?.data?.httpStatus||s?.meta?.response?.status||s?.status||s?.cause?.status)){if(w&&g){g.then(i=>{if(i){let s=t(r).subscribe(e);return()=>s.unsubscribe()}e.error(s)}).catch(()=>e.error(s));return}w=!0,(g=(0,m.Zu)()).then(i=>{if(w=!1,g=null,i){let s=t(r).subscribe(e);return()=>s.unsubscribe()}(0,m.yE)(),e.error(s)}).catch(()=>{w=!1,g=null,(0,m.yE)(),e.error(s)})}else e.error(s)},complete(){e.complete()}});return()=>s.unsubscribe()})};function b(e){let{children:t}=e,r=(s||(s=new a.S({defaultOptions:{queries:{refetchOnWindowFocus:!0,staleTime:6e4,retry:(e,t)=>{if(e>=3)return!1;let r=t?.data?.httpStatus;return 401!==r&&403!==r}}}})),s),c=(0,n.useMemo)(()=>h.createClient({links:[v,(0,o.N8)({url:"/api/trpc",transformer:d.ZP,headers(){let e=x();return e?{authorization:`Bearer ${e}`}:{}}})]}),[]);return(0,i.jsx)(h.Provider,{client:c,queryClient:r,children:(0,i.jsx)(l.aH,{client:r,children:t})})}},63609:function(e,t,r){"use strict";r.d(t,{SX:function(){return s.trpc}});var s=r(59321)},53123:function(){}},function(e){e.O(0,[1627,6470,8979,1370,2370,7067,1776,6250,5635,8339,9877,8467,5071,4055,6066,3739,9985,6560,1744],function(){return e(e.s=44337)}),_N_E=e.O()}]);