(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{32040:function(e,t,s){Promise.resolve().then(s.bind(s,59266))},59266:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return H}});var a=s(43264),r=s(27905),i=s(9060),l=s(54055),n=s(8339),o=s(27062),c=s(64582),d=s(83950),m=s(94483),x=s(81778),u=s(61448),h=s(58339),f=s(66843),p=s(51921),g=s(37948),b=s(66093),v=s(35071),j=s(29289),w=s(43739),N=s(237);let y=v.FEATURE_CREDITS.profile_set_fast.credits;function k(e){let{isOpen:t,onClose:s,influencer:i,onGenerate:n}=e,[o,c]=r.useState("classic-influencer"),[d,m]=r.useState(i.nsfwEnabled||!1),[u,f]=r.useState(!1),[p,g]=r.useState(!1),{isPro:v}=(0,N.m)(),{balance:k,isLoading:C,refetch:P}=(0,j.Bg)(),S=(o?y:0)+(o&&d?50:0),I=k>=S,L=async()=>{if(o){if(!I){g(!0);return}f(!0);try{await n(o,d),s()}catch(e){console.error("Failed to generate profile pictures:",e),alert(e instanceof Error?e.message:"Failed to generate profile pictures")}finally{f(!1)}}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Vq,{open:t,onOpenChange:()=>{u||s()},children:(0,a.jsxs)(l.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-[#121214] border-white/10",children:[(0,a.jsxs)(l.fK,{children:[(0,a.jsxs)(l.$N,{className:"flex items-center gap-2 text-white",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"h-4 w-4 text-purple-400"})}),"Generate Profile Pictures"]}),(0,a.jsx)(l.Be,{className:"text-white/60",children:"Choose a style theme for your character's profile pictures. Each set generates 7-10 unique shots in different scenes."})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"bg-gradient-to-br from-white/[0.06] to-white/[0.02] border border-white/10 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:(0,a.jsx)(b.i,{selectedSetId:o,onSelect:c,creditCost:y})}),v&&(0,a.jsx)("div",{className:"mt-4 p-4 rounded-xl border-2 border-white/10 bg-white/[0.03] transition-all",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-white font-medium",children:"Adult Content"}),(0,a.jsxs)("span",{className:"px-2 py-0.5 rounded-full bg-pink-500/20 text-pink-300 text-xs font-medium",children:["+",50," credits"]})]}),(0,a.jsx)("p",{className:"text-white/50 text-sm",children:"Include 3 additional NSFW profile pictures"})]}),(0,a.jsx)("button",{type:"button",onClick:()=>m(!d),disabled:u,className:`
                      w-12 h-6 rounded-full transition-all duration-200 flex items-center flex-shrink-0
                      ${d?"bg-pink-500":"bg-white/20"}
                      ${u?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                    `,children:(0,a.jsx)("div",{className:`
                        w-5 h-5 rounded-full bg-white transition-transform duration-200 shadow-md
                        ${d?"translate-x-6":"translate-x-0.5"}
                      `})})]})}),(0,a.jsxs)("div",{className:"mt-6 p-4 rounded-xl bg-white/[0.03] border border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-white/60 text-sm",children:"Profile Set"}),(0,a.jsx)("span",{className:"text-white font-medium",children:o?`${y} credits`:"0 credits"})]}),o&&d&&(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-white/60 text-sm",children:"NSFW Addon"}),(0,a.jsxs)("span",{className:"text-white font-medium",children:[50," credits"]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-white/10 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-white font-semibold",children:"Total Cost"}),(0,a.jsxs)("span",{className:`font-bold ${I?"text-white":"text-red-400"}`,children:[S," credits"]})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-white/60 text-sm",children:"Your Balance"}),(0,a.jsx)("span",{className:`text-sm font-medium ${I?"text-white":"text-red-400"}`,children:C?"Loading...":`${k} credits`})]})]}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(l.br,{onClick:L,disabled:!o||u||C,variant:"gradient",size:"default",className:"w-full",children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),"Generate Profile Pictures"]})})})]})]})}),(0,a.jsx)(w.hk,{isOpen:p,onClose:()=>g(!1),creditsNeeded:S,currentBalance:k})]})}function C(e){let{influencer:t,onGenerateProfilePictures:s,characterProfilePictureSetId:i}=e,[b,v]=r.useState(!1),[j,w]=r.useState(!1),[N,y]=r.useState(!1),C=(0,l.dD)();if(!t)return null;let P=t.avatar&&!b,S=t.profilePictureSetId??i,I=null!=S&&""!==S&&"string"==typeof S;return r.useEffect(()=>{},[t.profilePictureSetId,i,S,I]),(0,a.jsxs)("div",{className:"relative border-b border-[var(--border-default)] overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--purple-500)]/5 via-transparent to-[var(--pink-500)]/5"}),(0,a.jsx)("div",{className:"relative px-6 py-4",children:(0,a.jsxs)(o.default,{href:c._j.dashboard,className:"group inline-flex items-center gap-2 text-sm text-[var(--text-secondary)] transition-colors hover:text-[var(--text-primary)]",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 transition-transform group-hover:-translate-x-0.5"}),(0,a.jsx)("span",{children:"Back to Dashboard"})]})}),(0,a.jsxs)("div",{className:"relative flex flex-col px-6 pb-8 sm:flex-row sm:items-start sm:justify-between sm:gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center text-center sm:flex-row sm:items-start sm:text-left sm:flex-1",children:[(0,a.jsxs)("div",{className:"relative mb-5 sm:mb-0 sm:mr-6 shrink-0 group",children:[(0,a.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-br from-[var(--purple-500)] to-[var(--pink-500)] rounded-2xl opacity-20 blur-md"}),(0,a.jsx)("div",{className:"relative h-28 w-28 overflow-hidden rounded-2xl border border-[var(--border-default)] bg-[var(--bg-subtle)] shadow-xl cursor-pointer",children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.default,{src:t.avatar,alt:t.name,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105",unoptimized:!0,onError:()=>v(!0)}),C&&(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),y(!0)},className:"absolute bottom-2 right-2 z-30 flex items-center gap-1.5 rounded-lg bg-purple-500/90 hover:bg-purple-500 px-2 py-1 text-white text-[10px] font-medium shadow-lg transition-all active:scale-95 backdrop-blur-sm border border-purple-400/30","aria-label":"View full size",children:[(0,a.jsx)(m.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"View"})]}),!C&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer z-30",onClick:e=>{e.stopPropagation(),y(!0)},children:(0,a.jsxs)("div",{className:"flex items-center gap-2 rounded-full bg-white/20 backdrop-blur-sm px-3 py-1.5 text-white text-xs font-medium",children:[(0,a.jsx)(m.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"View Full"})]})})]}):(0,a.jsx)("div",{className:"flex h-full items-center justify-center bg-gradient-to-br from-[var(--purple-600)]/80 via-[var(--purple-500)]/60 to-[var(--pink-500)]/70",children:(0,a.jsx)("span",{className:"text-3xl font-bold text-white/90 tracking-tight",children:t.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})})})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-[var(--text-primary)] mb-1 truncate",children:t.name}),(0,a.jsx)("p",{className:"text-sm text-[var(--text-muted)] mb-4",children:t.handle}),(0,a.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 sm:justify-start mb-4",children:[(0,a.jsxs)("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-gradient-to-r from-[var(--purple-500)]/10 to-[var(--pink-500)]/10 border border-[var(--purple-500)]/20 px-3 py-1.5 text-xs font-medium text-[var(--purple-400)] capitalize",children:[(0,a.jsx)(x.Z,{className:"h-3 w-3"}),t.archetype.replace(/-/g," ")]}),t.personalityTraits.slice(0,3).map(e=>(0,a.jsx)("span",{className:"rounded-full bg-[var(--bg-subtle)] border border-[var(--border-default)] px-3 py-1.5 text-xs text-[var(--text-secondary)] capitalize transition-colors hover:border-[var(--border-hover)]",children:e},e))]}),t.bio&&(0,a.jsx)("p",{className:"text-sm text-[var(--text-secondary)] leading-relaxed max-w-xl",children:t.bio})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-center mt-6 sm:mt-0 sm:items-end sm:min-w-[280px]",children:[(0,a.jsxs)("div",{className:"flex gap-1 p-1 mb-6 bg-[var(--bg-subtle)] rounded-xl border border-[var(--border-default)]",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center px-5 py-3 rounded-lg transition-colors hover:bg-[var(--bg-surface)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-lg font-semibold text-[var(--text-primary)]",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 text-[var(--purple-400)]"}),t.postCount]}),(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-[var(--text-muted)] mt-0.5",children:"Posts"})]}),(0,a.jsx)("div",{className:"w-px bg-[var(--border-default)]"}),(0,a.jsxs)("div",{className:"flex flex-col items-center px-5 py-3 rounded-lg transition-colors hover:bg-[var(--bg-surface)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-lg font-semibold text-[var(--text-primary)]",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-[var(--purple-400)]"}),t.imageCount]}),(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-[var(--text-muted)] mt-0.5",children:"Images"})]}),(0,a.jsx)("div",{className:"w-px bg-[var(--border-default)]"}),(0,a.jsxs)("div",{className:"flex flex-col items-center px-5 py-3 rounded-lg transition-colors hover:bg-[var(--bg-surface)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-lg font-semibold text-[var(--text-primary)]",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-[var(--pink-400)] fill-[var(--pink-400)]"}),t.likedCount]}),(0,a.jsx)("div",{className:"text-[10px] uppercase tracking-wider text-[var(--text-muted)] mt-0.5",children:"Liked"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(l.br,{asChild:!0,variant:"glassy-outline",size:"sm",children:(0,a.jsxs)(o.default,{href:`/studio?influencer=${t.id}`,className:"gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),"Generate"]})}),(0,a.jsxs)(l.br,{variant:"glassy-outline",size:"sm",onClick:()=>w(!0),className:"gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),I?"Regenerate Profile":"Profile Pictures"]}),(0,a.jsx)(l.br,{asChild:!0,variant:"glassy-outline",size:"sm",children:(0,a.jsxs)(o.default,{href:`/influencer/${t.id}/settings`,className:"gap-2",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4"}),"Settings"]})})]})]})]}),s&&(0,a.jsx)(k,{isOpen:j,onClose:()=>w(!1),influencer:t,onGenerate:s}),P&&N&&(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-black/95 backdrop-blur-md animate-in fade-in duration-300",onClick:()=>y(!1),children:[(0,a.jsx)("button",{onClick:()=>y(!1),className:"absolute top-6 right-6 z-[110] flex h-12 w-12 items-center justify-center rounded-full bg-white/10 text-white/80 transition-all hover:bg-white/20 hover:text-white active:scale-95","aria-label":"Close lightbox",children:(0,a.jsx)(g.Z,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:`relative flex items-center justify-center transition-all duration-500 ${C?"w-full h-full p-4":"max-w-[90vw] max-h-[85vh] w-full h-[85vh]"}`,onClick:e=>e.stopPropagation(),children:(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)(n.default,{src:t.avatar,alt:t.name,fill:!0,className:"object-contain animate-in zoom-in-95 duration-300",priority:!0,unoptimized:!0})})})]})]})}var P=s(40865),S=s(41582),I=s.n(S),L=s(97720),Z=s(9926),E=s(26325),G=s(44498),z=s(15421),D=s(5456),R=s(45898),M=s(36731);function U(e){let{progress:t,size:s=40,strokeWidth:r=3,className:i}=e,n=(s-r)/2,o=2*n*Math.PI;return(0,a.jsxs)("div",{className:(0,l.cn)("relative",i),style:{width:s,height:s},children:[(0,a.jsxs)("svg",{className:"absolute inset-0 -rotate-90",width:s,height:s,children:[(0,a.jsx)("circle",{cx:s/2,cy:s/2,r:n,fill:"none",stroke:"currentColor",strokeWidth:r,className:"text-white/10"}),(0,a.jsx)("circle",{cx:s/2,cy:s/2,r:n,fill:"none",stroke:"url(#progressGradient)",strokeWidth:r,strokeDasharray:o,strokeDashoffset:o-t/100*o,strokeLinecap:"round",className:"transition-all duration-500 ease-out"}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"progressGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#a855f7"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"#ec4899"})]})})]}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(x.Z,{className:"h-4 w-4 text-purple-300 animate-pulse"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-purple-500/20 rounded-full blur-md animate-pulse"})]})}function F(e){let{job:t,onRetry:s,onCancel:r,isOnly:i}=e,n=t.totalCount>0?Math.round(t.completedCount/t.totalCount*100):0,o="generating"===t.status,c="failed"===t.status,d="completed"===t.status;return(0,a.jsxs)("div",{className:(0,l.cn)("group flex items-center gap-3 p-3 rounded-xl transition-all duration-200",o&&"bg-white/5 hover:bg-white/8",c&&"bg-red-500/10 hover:bg-red-500/15 border border-red-500/20",d&&"bg-emerald-500/10 hover:bg-emerald-500/15 border border-emerald-500/20"),children:[(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[o&&(0,a.jsx)(U,{progress:n,size:36,strokeWidth:3}),c&&(0,a.jsx)("div",{className:"w-9 h-9 rounded-full bg-red-500/20 flex items-center justify-center",children:(0,a.jsx)(Z.Z,{className:"h-5 w-5 text-red-400"})}),d&&(0,a.jsx)("div",{className:"w-9 h-9 rounded-full bg-emerald-500/20 flex items-center justify-center",children:(0,a.jsx)(E.Z,{className:"h-5 w-5 text-emerald-400"})})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:t.setName}),t.nsfwEnabled&&(0,a.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] font-semibold uppercase tracking-wider rounded-md bg-pink-500/20 text-pink-400 border border-pink-500/30",children:"+NSFW"})]}),o&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 rounded-full transition-all duration-500 ease-out animate-shimmer",style:{width:`${n}%`,backgroundSize:"200% 100%"}})}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-white/60",children:[(0,a.jsx)(G.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{className:"font-mono",children:[t.completedCount,(0,a.jsx)("span",{className:"text-white/30",children:"/"}),t.totalCount]})]})]}),c&&(0,a.jsxs)("p",{className:"text-xs text-red-400/80 truncate",children:[t.lastError||"Generation failed",t.retryCount&&t.retryCount>0&&(0,a.jsxs)("span",{className:"text-white/30 ml-1",children:["\xb7 retry ",t.retryCount]})]}),d&&(0,a.jsxs)("p",{className:"text-xs text-emerald-400/70 flex items-center gap-1",children:[(0,a.jsx)(G.Z,{className:"h-3 w-3"}),t.totalCount," images ready"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c&&s&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),s(t)},className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition-all hover:scale-105 active:scale-95","aria-label":"Retry generation",title:"Retry",children:(0,a.jsx)(z.Z,{className:"h-4 w-4"})}),(o||c)&&r&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),r(t.id)},className:"p-2 rounded-lg bg-white/5 hover:bg-red-500/20 text-white/40 hover:text-red-400 transition-all hover:scale-105 active:scale-95","aria-label":"Cancel",title:"Cancel",children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})})]})]})}function A(e){let{influencerId:t,className:s,onRetry:i}=e,n=(0,L.useProfilePictures)(t),o=(0,L.useProfilePicturesStore)(e=>e.cancelJob),c=(0,L.useProfilePicturesStore)(e=>e.clearCompletedJobs),[d,m]=r.useState(!0);if(!n||!n.isGenerating&&!n.hasFailed)return null;let{generatingJobs:x,failedJobs:u,completedJobs:h}=n,f=x.length+u.length,p=h.length>0,b=f>1,v=x.reduce((e,t)=>e+t.completedCount,0),j=x.reduce((e,t)=>e+t.totalCount,0),w=j>0?Math.round(v/j*100):0,N=e=>{i&&i(e.id,e.setId,e.nsfwEnabled)},y=e=>{o(t,e)};return(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc "+((0,l.cn)("rounded-2xl overflow-hidden transition-all duration-300","bg-gradient-to-br from-purple-900/40 via-purple-800/30 to-pink-900/40","border border-purple-500/20 backdrop-blur-xl","shadow-lg shadow-purple-500/10",s)||""),children:[(0,a.jsxs)("button",{onClick:()=>m(!d),className:"jsx-dd9a259807c14ffc "+((0,l.cn)("w-full flex items-center gap-4 p-4 transition-colors","hover:bg-white/5",d&&"border-b border-white/5")||""),children:[(0,a.jsx)("div",{className:"jsx-dd9a259807c14ffc relative flex-shrink-0",children:n.isGenerating?(0,a.jsx)(U,{progress:w,size:44,strokeWidth:3}):(0,a.jsx)("div",{className:"jsx-dd9a259807c14ffc w-11 h-11 rounded-full bg-red-500/20 flex items-center justify-center",children:(0,a.jsx)(Z.Z,{className:"h-6 w-6 text-red-400"})})}),(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc flex-1 min-w-0 text-left",children:[(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"jsx-dd9a259807c14ffc text-base font-semibold text-white",children:n.isGenerating?"Creating Your Profile":"Generation Failed"}),b&&(0,a.jsxs)("span",{className:"jsx-dd9a259807c14ffc px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wider rounded-full bg-white/10 text-white/60",children:[f," sets"]})]}),n.isGenerating&&(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc flex items-center gap-2 text-sm text-white/60",children:[(0,a.jsx)(D.Z,{className:"h-3 w-3 animate-spin"}),(0,a.jsxs)("span",{className:"jsx-dd9a259807c14ffc",children:[v," of ",j," images"]}),(0,a.jsx)("span",{className:"jsx-dd9a259807c14ffc text-white/30",children:"\xb7"}),(0,a.jsxs)("span",{className:"jsx-dd9a259807c14ffc text-purple-400 font-medium",children:[w,"%"]})]}),n.hasFailed&&!n.isGenerating&&(0,a.jsxs)("p",{className:"jsx-dd9a259807c14ffc text-sm text-red-400/80",children:[u.length," set",u.length>1?"s":""," need attention"]})]}),b&&(0,a.jsx)("div",{className:"jsx-dd9a259807c14ffc "+((0,l.cn)("w-8 h-8 rounded-lg flex items-center justify-center","bg-white/5 text-white/50 hover:bg-white/10 hover:text-white","transition-all duration-200")||""),children:d?(0,a.jsx)(R.Z,{className:"h-4 w-4"}):(0,a.jsx)(M.Z,{className:"h-4 w-4"})})]}),d&&b&&(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc p-3 space-y-2 animate-in slide-in-from-top-2 duration-200",children:[x.map(e=>(0,a.jsx)(F,{job:e,onCancel:y,isOnly:1===f},e.id)),u.map(e=>(0,a.jsx)(F,{job:e,onRetry:i?N:void 0,onCancel:y,isOnly:1===f},e.id)),p&&(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc flex items-center justify-between px-3 pt-2 border-t border-white/5",children:[(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc flex items-center gap-2 text-xs text-emerald-400/80",children:[(0,a.jsx)(E.Z,{className:"h-3.5 w-3.5"}),(0,a.jsxs)("span",{className:"jsx-dd9a259807c14ffc",children:[h.length," set",h.length>1?"s":""," completed"]})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),c(t)},className:"jsx-dd9a259807c14ffc text-xs text-white/40 hover:text-white transition-colors px-2 py-1 rounded hover:bg-white/5",children:"Dismiss"})]})]}),!b&&1===f&&(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc px-4 pb-4",children:[x[0]&&(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc flex items-center gap-3 pt-2",children:[(0,a.jsx)("div",{className:"jsx-dd9a259807c14ffc flex-1 h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)("div",{style:{width:`${w}%`,backgroundSize:"200% 100%",animation:"shimmer 2s ease-in-out infinite"},className:"jsx-dd9a259807c14ffc h-full bg-gradient-to-r from-purple-500 via-pink-500 to-purple-500 rounded-full transition-all duration-500 ease-out"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),y(x[0].id)},title:"Cancel",className:"jsx-dd9a259807c14ffc p-1.5 rounded-lg text-white/30 hover:text-red-400 hover:bg-red-500/10 transition-all",children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})})]}),u[0]&&(0,a.jsxs)("div",{className:"jsx-dd9a259807c14ffc flex items-center gap-2 pt-2",children:[(0,a.jsx)("p",{className:"jsx-dd9a259807c14ffc flex-1 text-sm text-red-400/80 truncate",children:u[0].lastError||"Generation failed"}),i&&(0,a.jsxs)("button",{onClick:e=>{e.stopPropagation(),N(u[0])},className:"jsx-dd9a259807c14ffc flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-white text-sm transition-all",children:[(0,a.jsx)(z.Z,{className:"h-3.5 w-3.5"}),"Retry"]})]})]}),(0,a.jsx)(I(),{id:"dd9a259807c14ffc",children:"@-webkit-keyframes shimmer{0%{background-position:200%0}100%{background-position:-200%0}}@-moz-keyframes shimmer{0%{background-position:200%0}100%{background-position:-200%0}}@-o-keyframes shimmer{0%{background-position:200%0}100%{background-position:-200%0}}@keyframes shimmer{0%{background-position:200%0}100%{background-position:-200%0}}"})]})}var $=s(81436),T=s(63609),B=s(65759),O=s(53341);function W(e){let{allImages:t,allPosts:s,likedPosts:r,likedImages:i,isLoadingImages:n,influencerId:o,onImageLike:c,onExport:d,influencerName:m,influencerAvatar:x}=e,p=e=>{navigator.clipboard.writeText(e.caption),alert(`Exported: ${e.caption.substring(0,50)}...`)};return(0,a.jsxs)(l.mQ,{defaultValue:"gallery",className:"mt-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)(l.dr,{className:"inline-flex h-auto bg-[var(--bg-subtle)] border border-[var(--border-default)] rounded-xl p-1 gap-1",children:[(0,a.jsx)(l.SP,{value:"gallery",className:"relative rounded-lg px-4 py-2.5 text-sm font-medium transition-all duration-200 data-[state=active]:bg-[var(--bg-surface)] data-[state=active]:text-[var(--text-primary)] data-[state=active]:shadow-sm data-[state=inactive]:text-[var(--text-secondary)] data-[state=inactive]:hover:text-[var(--text-primary)]",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Gallery"}),(0,a.jsx)("span",{className:"inline-flex items-center justify-center rounded-full bg-[var(--purple-500)]/10 px-2 py-0.5 text-xs font-medium text-[var(--purple-400)]",children:t.length})]})}),(0,a.jsx)(l.SP,{value:"posts",className:"relative rounded-lg px-4 py-2.5 text-sm font-medium transition-all duration-200 data-[state=active]:bg-[var(--bg-surface)] data-[state=active]:text-[var(--text-primary)] data-[state=active]:shadow-sm data-[state=inactive]:text-[var(--text-secondary)] data-[state=inactive]:hover:text-[var(--text-primary)]",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Posts"}),(0,a.jsx)("span",{className:"inline-flex items-center justify-center rounded-full bg-[var(--purple-500)]/10 px-2 py-0.5 text-xs font-medium text-[var(--purple-400)]",children:s.length})]})}),(0,a.jsx)(l.SP,{value:"liked",className:"relative rounded-lg px-4 py-2.5 text-sm font-medium transition-all duration-200 data-[state=active]:bg-[var(--bg-surface)] data-[state=active]:text-[var(--text-primary)] data-[state=active]:shadow-sm data-[state=inactive]:text-[var(--text-secondary)] data-[state=inactive]:hover:text-[var(--text-primary)]",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Liked"}),(0,a.jsx)("span",{className:"inline-flex items-center justify-center rounded-full bg-[var(--pink-500)]/10 px-2 py-0.5 text-xs font-medium text-[var(--pink-400)]",children:r.length+i.length})]})})]})}),(0,a.jsx)(l.nU,{value:"gallery",className:"mt-0",children:n?(0,a.jsx)(O.G,{title:"Loading Images",message:"Fetching gallery...",className:"py-16"}):(0,a.jsx)(_,{images:t,influencerId:o,onLike:c,influencerName:m,influencerAvatar:x})}),(0,a.jsx)(l.nU,{value:"posts",className:"mt-0",children:(0,a.jsx)(q,{posts:s,onExport:d||p})}),(0,a.jsx)(l.nU,{value:"liked",className:"mt-0",children:(0,a.jsx)(V,{likedPosts:r,likedImages:i,influencerId:o,onImageLike:c,onExport:d||p,influencerName:m,influencerAvatar:x})})]})}function _(e){let{images:t,influencerId:r,onLike:i,influencerName:l,influencerAvatar:n}=e,{ImageGallery:o}=s(29110);return(0,a.jsx)(o,{images:t,influencerId:r,emptyMessage:"No images generated yet",emptyAction:{label:"Generate",href:`/studio?influencer=${r}`},onLike:i,influencerName:l,influencerAvatar:n})}function q(e){let{posts:t,onExport:r}=e,{PostGrid:i}=s(78441);return(0,a.jsx)(i,{posts:t,onExport:r,emptyMessage:"No posts yet"})}function V(e){let{likedPosts:t,likedImages:r,influencerId:i,onImageLike:l,onExport:n,influencerName:o,influencerAvatar:c}=e,{ImageGallery:d}=s(29110),{PostGrid:m}=s(78441),{LayoutGrid:x,Images:u}=s(46223);return 0===t.length&&0===r.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--pink-500)]/20 to-[var(--purple-500)]/20 rounded-2xl blur-xl"}),(0,a.jsx)("div",{className:"relative flex h-20 w-20 items-center justify-center rounded-2xl bg-[var(--bg-subtle)] border border-[var(--border-default)]",children:(0,a.jsx)(f.Z,{className:"h-8 w-8 text-[var(--pink-400)]"})})]}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-[var(--text-primary)] mb-2",children:"No liked content yet"}),(0,a.jsx)("p",{className:"text-sm text-[var(--text-muted)] max-w-sm",children:"Like posts or images to save them here for quick access"})]}):(0,a.jsxs)("div",{className:"space-y-8",children:[t.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-[var(--text-secondary)] mb-4 flex items-center gap-2",children:[(0,a.jsx)(x,{className:"h-4 w-4"}),"Liked Posts (",t.length,")"]}),(0,a.jsx)(m,{posts:t,onExport:n})]}),r.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-[var(--text-secondary)] mb-4 flex items-center gap-2",children:[(0,a.jsx)(u,{className:"h-4 w-4"}),"Liked Images (",r.length,")"]}),(0,a.jsx)(d,{images:r,influencerId:i,onLike:l,influencerName:o,influencerAvatar:c})]})]})}var X=s(34195);function H(){return(0,a.jsx)(P.i,{children:(0,a.jsx)(Y,{})})}function Y(){let{influencerId:e,influencer:t,character:s,isLoading:n,allPosts:o,likedPosts:c,profilePicturesState:d,isGeneratingProfilePictures:m,imageCount:x,updateInfluencer:u}=function(){let e=(0,i.useParams)().id,t=T.SX.useUtils(),s=(0,L.useInfluencer)(e),a=(0,L.useInfluencerStore)(e=>e.addInfluencer),l=(0,L.useInfluencerStore)(e=>e.updateInfluencer),{data:n,isLoading:o}=T.SX.character.getById.useQuery({id:e}),c=(0,L.useInfluencerPosts)(e),d=(0,L.useLikedPosts)(e),m=(0,L.useProfilePictures)(e),x=m?.status==="generating",u=r.useRef(0);r.useEffect(()=>{if(!m)return;let s=m.jobs?.reduce((e,t)=>e+(t.images?.length||0),0)||m.completedCount||0;if(s>u.current){console.log("[useInfluencerData] New images completed, refreshing character data:",{previous:u.current,current:s}),u.current=s;let a=setTimeout(()=>{t.character.getById.invalidate({id:e})},500);return()=>clearTimeout(a)}},[m,e,t]);let h=r.useMemo(()=>n?.imageCount!==void 0?n.imageCount:0,[n]);r.useEffect(()=>{!s&&n&&(console.log("[useInfluencerData] Adding influencer to store:",{influencerId:e,baseImageUrl:n.baseImageUrl}),a({id:n.id,name:n.name,handle:n.handle||`@${n.name.toLowerCase().replace(/\s+/g,".")}`,bio:n.config?.bio||"New AI influencer ✨",avatar:n.baseImageUrl||null,gender:n.config?.gender||"female",style:n.config?.style||"realistic",ethnicity:n.config?.ethnicity||"caucasian",age:n.config?.age||25,hairStyle:n.config?.hairStyle||"long-straight",hairColor:n.config?.hairColor||"brown",eyeColor:n.config?.eyeColor||"brown",bodyType:n.config?.bodyType||"slim",breastSize:n.config?.breastSize,archetype:n.config?.archetype||"girl-next-door",personalityTraits:n.config?.personalityTraits||[],outfit:n.config?.defaultOutfit||"casual",nsfwEnabled:n.config?.nsfwEnabled||!1,profilePictureSetId:n.config?.profilePictureSetId??void 0,postCount:parseInt(n.postCount||"0",10),imageCount:h,likedCount:parseInt(n.likedCount||"0",10),createdAt:n.createdAt?.toISOString()||new Date().toISOString(),updatedAt:n.updatedAt?.toISOString()||new Date().toISOString()}))},[a,n,s,h]);let f=r.useRef(void 0),p=r.useRef(s);return r.useEffect(()=>{p.current=s},[s]),r.useEffect(()=>{if(!n)return;let t=n.baseImageUrl||null;if(t===f.current)return;f.current=t;let s=p.current;s&&t!==s.avatar&&(console.log("[useInfluencerData] Updating avatar:",{influencerId:e,oldAvatar:s.avatar,newAvatar:t}),l(e,{avatar:t}))},[n?.baseImageUrl,e,l]),r.useEffect(()=>{s&&void 0!==h&&s.imageCount!==h&&(console.log("[useInfluencerData] Updating imageCount in store:",{influencerId:e,oldCount:s.imageCount,newCount:h}),l(e,{imageCount:h}))},[h,e]),{influencerId:e,influencer:s,character:n,isLoading:o,allPosts:c,likedPosts:d,profilePicturesState:m,isGeneratingProfilePictures:x,imageCount:h,updateInfluencer:l}}(),{allImages:h,likedImages:f,isLoadingImages:p,handleImageLike:g,refreshImages:b}=function(e){let{influencerId:t,onImageCountUpdate:s,profilePicturesState:a}=e,i=r.useRef(0),[l,n]=r.useState([]),[o,c]=r.useState(!0),d=r.useRef(!1),m=r.useRef(s),x=r.useRef(t);r.useEffect(()=>{m.current=s},[s]),r.useEffect(()=>{x.current=t},[t]);let u=r.useCallback(async()=>{let e=x.current;if(!e){c(!1);return}if(!d.current)try{d.current=!0,c(!0);let t=(await (0,B.XX)(e)).map(t=>({id:t.id,influencerId:t.characterId||e,imageUrl:t.s3Url||"",caption:t.prompt||"",isLiked:!!t.liked,scene:t.scene||void 0,environment:t.environment||void 0,outfit:t.outfit||void 0,aspectRatio:t.aspectRatio||"9:16",createdAt:t.createdAt||new Date().toISOString()}));x.current===e&&(n(t),m.current?.(t.length))}catch(t){console.error("Failed to load images:",t),x.current===e&&n([])}finally{x.current===e&&c(!1),d.current=!1}},[]);r.useEffect(()=>{n([]),c(!0),d.current=!1,i.current=0,t?u():c(!1)},[t]);let h=r.useMemo(()=>a?a.jobs&&a.jobs.length>0?a.jobs.reduce((e,t)=>e+(t.images?.length||0),0):a.completedCount||0:0,[a]);r.useEffect(()=>{if(a&&t&&(h>i.current&&!d.current&&(console.log("[useInfluencerImages] New images detected, refreshing gallery:",{previous:i.current,current:h}),i.current=h,u()),a.jobs?.some(e=>"completed"===e.status)&&!d.current)){let e=setTimeout(()=>{d.current||u()},1e3);return()=>clearTimeout(e)}},[h,a?.status,t]);let f=r.useCallback(async e=>{try{let t=await (0,B.HA)(e);n(s=>s.map(s=>s.id===e?{...s,isLiked:t.liked}:s))}catch(e){console.error("Failed to toggle like:",e)}},[]),p=r.useMemo(()=>l,[l]),g=r.useMemo(()=>p.filter(e=>e.isLiked),[p]);return{allImages:p,likedImages:g,isLoadingImages:o,handleImageLike:f,refreshImages:u}}({influencerId:e,onImageCountUpdate:e=>{},profilePicturesState:d}),v=f.length+c.length,w=t?.likedCount??0;r.useEffect(()=>{t&&v!==w&&u(e,{likedCount:v})},[v,w,t,e,u]);let N=T.SX.useUtils(),{refetch:y}=(0,j.Bg)(),k=T.SX.character.update.useMutation({onSuccess:()=>{N.character.getById.invalidate({id:e})}}),P=r.useCallback(async(e,t,a)=>{if(!s?.baseImageUrl)throw Error("Base image is required to generate profile pictures");let r=(0,L.getProfilePictureSet)(e),i=r?.positions.length||7,l=t?3:0,n=a||`pp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,{startJob:o,completeJob:c,failJob:d,upsertJobImage:m,retryJob:x}=L.useProfilePicturesStore.getState();a?x(s.id,a):o(s.id,{jobId:n,setId:e,setName:r?.name||e,jobIds:[],totalCount:i+l,nsfwEnabled:t}),(0,X.Jx)({baseImageUrl:s.baseImageUrl,characterId:s.id,setId:e,nsfwEnabled:t,generationMode:"fast"},(t,a)=>{"completed"===t?(c(s.id,n),k.mutate({id:s.id,config:{...s.config||{},profilePictureSetId:e}}),y(),N.character.getById.invalidate({id:s.id})):"failed"===t&&d(s.id,n,a||"Generation failed")},(e,t,a)=>{m(s.id,n,{id:e.id,url:e.url,thumbnailUrl:e.thumbnailUrl,positionId:t,positionName:a,prompt:e.prompt,negativePrompt:e.negativePrompt,isNSFW:e.isNSFW}),N.character.getById.invalidate({id:s.id})}).then(()=>{}).catch(e=>{console.error("Failed to start profile picture generation:",e),d(s.id,n,e instanceof Error?e.message:"Failed to start generation")})},[s,N,y,k]),S=r.useCallback(async(e,t)=>P(e,t),[P]),I=r.useCallback((e,t,s)=>{P(t,s,e)},[P]);return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C,{influencer:t,onGenerateProfilePictures:S,characterProfilePictureSetId:s?.config?.profilePictureSetId}),(0,a.jsxs)(l._z,{children:[(0,a.jsx)("div",{className:"mt-8 mb-4",children:(0,a.jsx)($.r,{characterId:e,characterName:t.name})}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(A,{influencerId:e,onRetry:I})}),(0,a.jsx)(W,{allImages:h,allPosts:o,likedPosts:c,likedImages:f,isLoadingImages:p,influencerId:e,onImageLike:g,influencerName:t.name,influencerAvatar:t.avatar||void 0})]})]}):n?(0,a.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,a.jsx)(O.G,{title:"Loading Profile",message:"Fetching influencer assets...",fullPage:!0})}):(s||(0,i.notFound)(),(0,a.jsx)("div",{className:"flex flex-col min-h-screen",children:(0,a.jsx)(O.G,{title:"Loading Profile",message:"Synchronizing character data...",fullPage:!0})}))}},29110:function(e,t,s){"use strict";s.r(t),s.d(t,{ImageGallery:function(){return k}});var a=s(43264),r=s(27905),i=s(9060),l=s(97720),n=s(27062),o=s(44498),c=s(81778);function d(e){let{message:t,action:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 md:py-16 px-4 text-center",children:[(0,a.jsxs)("div",{className:"relative mb-4 md:mb-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20 rounded-xl md:rounded-2xl blur-lg md:blur-xl"}),(0,a.jsx)("div",{className:"relative flex h-16 w-16 md:h-20 md:w-20 items-center justify-center rounded-xl md:rounded-2xl bg-[var(--bg-subtle)] border border-[var(--border-default)]",children:(0,a.jsx)(o.Z,{className:"h-6 w-6 md:h-8 md:w-8 text-[var(--text-muted)]"})})]}),(0,a.jsx)("h3",{className:"text-base md:text-lg font-semibold text-[var(--text-primary)] mb-1 md:mb-2",children:t}),(0,a.jsx)("p",{className:"text-xs md:text-sm text-[var(--text-muted)] max-w-[200px] md:max-w-sm mb-4 md:mb-6",children:"Generate images to build your AI influencer's gallery"}),s&&(0,a.jsxs)(n.default,{href:s.href,className:"inline-flex items-center justify-center gap-2 rounded-xl bg-gradient-to-r from-[var(--purple-600)] to-[var(--pink-600)] px-5 py-2.5 text-sm font-medium text-white shadow-lg shadow-[var(--purple-500)]/20 transition-all hover:shadow-xl hover:shadow-[var(--purple-500)]/30 hover:scale-[1.02] whitespace-nowrap min-w-fit",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{children:s.label})]})]})}var m=s(8339),x=s(54055),u=s(66843),h=s(949),f=s(94483),p=s(82474),g=s(28643);let b=r.memo(function(e){let{image:t,onClick:s,onLike:i,onDownload:l,onEdit:n,onMoreActions:c}=e,[d,b]=r.useState(!1),[v,j]=r.useState(!1),w=(0,x.dD)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"group relative cursor-pointer overflow-hidden rounded-xl bg-[var(--bg-subtle)] border border-[var(--border-default)] transition-all duration-300 hover:border-[var(--purple-500)]/30 hover:shadow-lg hover:shadow-[var(--purple-500)]/10",onClick:s,onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:[(0,a.jsxs)("div",{className:"relative aspect-[3/4]",children:[!v&&t.imageUrl?(0,a.jsx)(m.default,{src:t.imageUrl,alt:t.caption||"Generated image",fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"object-cover transition-transform duration-500 group-hover:scale-105",onError:()=>j(!0),loading:"lazy"}):(0,a.jsx)("div",{className:"flex h-full items-center justify-center bg-gradient-to-br from-[var(--purple-900)]/50 to-[var(--pink-900)]/50",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-[var(--text-muted)]"})}),(0,a.jsx)("div",{className:(0,x.cn)("absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent transition-opacity duration-300",d?"opacity-100":"opacity-0")}),t.isLiked&&(0,a.jsx)("div",{className:"absolute top-2 right-2 flex h-7 w-7 items-center justify-center rounded-full bg-[var(--pink-500)] shadow-lg",children:(0,a.jsx)(u.Z,{className:"h-3.5 w-3.5 text-white fill-current"})}),w&&(0,a.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),c?.(e)},className:"flex h-7 w-7 items-center justify-center rounded-full bg-black/50 text-white backdrop-blur-sm transition-all hover:bg-black/70",title:"More actions",children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})})})]}),!w&&(0,a.jsxs)("div",{className:(0,x.cn)("absolute inset-x-0 bottom-0 p-3 flex items-center justify-between transition-all duration-300",d?"translate-y-0 opacity-100":"translate-y-4 opacity-0"),children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),i(e)},className:(0,x.cn)("flex h-9 w-9 items-center justify-center rounded-full transition-all",t.isLiked?"bg-[var(--pink-500)] text-white":"bg-white/20 text-white hover:bg-white/30"),children:(0,a.jsx)(u.Z,{className:(0,x.cn)("h-4 w-4",t.isLiked&&"fill-current")})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/20 text-white",children:(0,a.jsx)(f.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),l(e)},className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/20 text-white hover:bg-white/30 transition-colors",children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),n(e)},className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/20 text-white hover:bg-white/30 transition-colors",title:"Edit in Studio",children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})})]})]})]})})},(e,t)=>e.image.id===t.image.id&&e.image.imageUrl===t.image.imageUrl&&e.image.isLiked===t.image.isLiked&&e.image.caption===t.image.caption);var v=s(37948),j=s(52360),w=s(68608);function N(e){let{images:t,selectedIndex:s,onClose:r,onPrevious:i,onNext:l,canGoPrevious:n,canGoNext:o,onLike:c,onDownload:d,onEdit:h}=e,f=(0,x.dD)(),b=t[s];return b?(0,a.jsxs)("div",{className:"fixed inset-0 z-[100] flex flex-col bg-black/95 backdrop-blur-md animate-in fade-in duration-300",onClick:r,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-6 z-10 w-full",children:[(0,a.jsxs)("div",{className:"px-3 py-1.5 rounded-full bg-white/10 text-white/80 text-xs font-medium backdrop-blur-sm",children:[s+1," / ",t.length]}),(0,a.jsx)("button",{onClick:r,className:"flex h-10 w-10 items-center justify-center rounded-full bg-white/10 text-white/80 transition-all hover:bg-white/20 hover:text-white active:scale-95 backdrop-blur-sm","aria-label":"Close lightbox",children:(0,a.jsx)(v.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"flex-1 relative flex items-center justify-center w-full px-4 overflow-hidden",children:[n&&!f&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),i()},className:"absolute left-6 z-10 flex h-14 w-14 items-center justify-center rounded-full bg-white/5 text-white/60 transition-all hover:bg-white/10 hover:text-white group",children:(0,a.jsx)(j.Z,{className:"h-8 w-8 transition-transform group-hover:-translate-x-0.5"})}),o&&!f&&(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),l()},className:"absolute right-6 z-10 flex h-14 w-14 items-center justify-center rounded-full bg-white/5 text-white/60 transition-all hover:bg-white/10 hover:text-white group",children:(0,a.jsx)(w.Z,{className:"h-8 w-8 transition-transform group-hover:translate-x-0.5"})}),(0,a.jsx)("div",{className:(0,x.cn)("relative w-full h-full flex items-center justify-center transition-all duration-500",!f&&"max-w-[75vw] max-h-[75vh]"),onClick:e=>e.stopPropagation(),children:(0,a.jsx)("div",{className:"relative w-full h-full max-h-[70vh] sm:max-h-full",children:(0,a.jsx)(m.default,{src:b.imageUrl||"/placeholder.png",alt:b.caption||"Generated image",fill:!0,className:"object-contain animate-in zoom-in-95 duration-300",priority:!0})})})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col items-center gap-6 p-6 sm:p-8 z-10 bg-gradient-to-t from-black/60 to-transparent",onClick:e=>e.stopPropagation(),children:[b.caption&&(0,a.jsxs)("p",{className:"text-sm text-white/70 max-w-lg text-center line-clamp-2 px-4 italic",children:['"',b.caption,'"']}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),c(e,b.id)},className:(0,x.cn)("flex h-14 w-14 items-center justify-center rounded-full transition-all active:scale-95 shadow-xl",b.isLiked?"bg-[var(--pink-500)] text-white":"bg-white/10 text-white/80 hover:bg-white/20 hover:text-white border border-white/10"),children:(0,a.jsx)(u.Z,{className:(0,x.cn)("h-6 w-6",b.isLiked&&"fill-current")})}),(0,a.jsx)("button",{onClick:e=>d(e,b),className:"flex h-14 w-14 items-center justify-center rounded-full bg-white/10 text-white/80 transition-all hover:bg-white/20 hover:text-white active:scale-95 border border-white/10 shadow-xl",title:"Download Image",children:(0,a.jsx)(p.Z,{className:"h-6 w-6"})}),(0,a.jsx)("button",{onClick:e=>h(e,b.id),className:"flex h-14 w-14 items-center justify-center rounded-full bg-white/10 text-white/80 transition-all hover:bg-white/20 hover:text-white active:scale-95 border border-white/10 shadow-xl",title:"Edit in Studio",children:(0,a.jsx)(g.Z,{className:"h-6 w-6"})})]}),f&&(0,a.jsx)("div",{className:"h-4"})]}),f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute left-0 top-20 bottom-32 w-20 z-0",onClick:e=>{e.stopPropagation(),n&&i()}}),(0,a.jsx)("div",{className:"absolute right-0 top-20 bottom-32 w-20 z-0",onClick:e=>{e.stopPropagation(),o&&l()}})]})]}):null}var y=s(8527);function k(e){let{images:t,influencerId:s,emptyMessage:n="No images yet",emptyAction:o,className:c,onLike:m,influencerName:u="Influencer",influencerAvatar:h}=e,[f,p]=r.useState(null),g=(0,x.dD)(),v=function(e){let{totalImages:t}=e,[s,a]=(0,r.useState)(null),i=(0,r.useCallback)(e=>{a(e)},[]),l=(0,r.useCallback)(()=>{a(null)},[]),n=(0,r.useCallback)(()=>{null!==s&&s>0&&a(s-1)},[s]),o=(0,r.useCallback)(()=>{null!==s&&s<t-1&&a(s+1)},[s,t]);return(0,r.useEffect)(()=>{if(null!==s)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}},[s]),(0,r.useEffect)(()=>{let e=e=>{null!==s&&("Escape"===e.key&&l(),"ArrowLeft"===e.key&&n(),"ArrowRight"===e.key&&o())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,n,o,l]),{selectedIndex:s,openLightbox:i,closeLightbox:l,goToPrevious:n,goToNext:o,canGoPrevious:null!==s&&s>0,canGoNext:null!==s&&s<t-1}}({totalImages:t.length}),j=function(e){let{influencerId:t,onLike:s}=e,a=(0,i.useRouter)(),n=(0,l.useInfluencerStore)(e=>e.toggleLike);return{handleLike:(0,r.useCallback)(async(e,t)=>{e.stopPropagation(),s?await s(t):n(t)},[s,n]),handleDownload:(0,r.useCallback)(async(e,t)=>{e.stopPropagation();try{let e=await fetch(t.imageUrl),s=await e.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=`ryla-${t.id}.png`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)}catch(e){console.error("Download failed:",e)}},[]),handleEditInStudio:(0,r.useCallback)((e,s)=>{e.stopPropagation(),a.push(`/studio?influencer=${t}&imageId=${s}&mode=editing`)},[a,t])}}({influencerId:s,onLike:m});return 0===t.length?(0,a.jsx)(d,{message:n,action:o}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:(0,x.cn)("grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",c),children:t.map((e,t)=>(0,a.jsx)(b,{image:e,onClick:()=>{g?p(t):v.openLightbox(t)},onMoreActions:()=>p(t),onLike:t=>j.handleLike(t,e.id),onDownload:t=>j.handleDownload(t,e),onEdit:t=>j.handleEditInStudio(t,e.id)},e.id))}),g&&null!==f&&(0,a.jsx)(y.mb,{image:{...t[f],status:"completed",influencerName:u,influencerAvatar:h,aspectRatio:t[f].aspectRatio},onClose:()=>p(null),onLike:m,onDownload:e=>j.handleDownload({stopPropagation:()=>{}},t[f]),onRetry:()=>{},variant:"modal"}),null!==v.selectedIndex&&(0,a.jsx)(N,{images:t,selectedIndex:v.selectedIndex,onClose:v.closeLightbox,onPrevious:v.goToPrevious,onNext:v.goToNext,canGoPrevious:v.canGoPrevious,canGoNext:v.canGoNext,onLike:j.handleLike,onDownload:j.handleDownload,onEdit:j.handleEditInStudio})]})}},81436:function(e,t,s){"use strict";s.d(t,{r:function(){return x}});var a=s(43264);s(27905);var r=s(54055),i=s(26325),l=s(64323),n=s(61610),o=s(5456),c=s(81778),d=s(9926),m=s(46369);function x(e){let{characterId:t,characterName:s,className:x}=e,{data:u,isLoading:h}=(0,m._B)(t);if(h||!u?.lora)return null;let f=u.lora;if("ready"===f.status)return(0,a.jsx)("div",{className:(0,r.cn)("bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-xl p-4",x),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center",children:(0,a.jsx)(i.Z,{className:"h-5 w-5 text-green-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:"LoRA Model Ready"}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300",children:[(0,a.jsx)(l.Z,{className:"w-3 h-3 mr-1"}),"Active"]})]}),(0,a.jsxs)("p",{className:"text-xs text-white/60 mt-0.5",children:[f.triggerWord&&(0,a.jsxs)("span",{children:["Trigger:"," ",(0,a.jsx)("code",{className:"text-green-300",children:f.triggerWord})]}),f.trainingSteps&&(0,a.jsxs)("span",{className:"ml-2",children:["• ",f.trainingSteps," steps"]}),f.trainingDurationMs&&(0,a.jsxs)("span",{className:"ml-2",children:["• Trained in ",Math.round(f.trainingDurationMs/1e3/60)," ","min"]})]})]})]})});if("pending"===f.status||"training"===f.status){let e="pending"===f.status;return(0,a.jsx)("div",{className:(0,r.cn)("bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-500/20 rounded-xl p-4",x),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center",children:e?(0,a.jsx)(n.Z,{className:"h-5 w-5 text-amber-400"}):(0,a.jsx)(o.Z,{className:"h-5 w-5 text-amber-400 animate-spin"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:e?"LoRA Training Queued":"Training LoRA Model"}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-amber-500/20 text-amber-300",children:[(0,a.jsx)(c.Z,{className:"w-3 h-3 mr-1"}),e?"Pending":"In Progress"]})]}),(0,a.jsx)("p",{className:"text-xs text-white/60 mt-0.5",children:e?"Training will start shortly...":`Training ${s||"character"}'s face model • ~5-10 minutes remaining`}),!e&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-amber-500 to-orange-500 rounded-full animate-pulse",style:{width:"60%"}})})})]})]})})}if("failed"===f.status){let e=null!=f.creditsRefunded&&f.creditsRefunded>0;return(0,a.jsx)("div",{className:(0,r.cn)("bg-gradient-to-r from-red-500/10 to-rose-500/10 border border-red-500/20 rounded-xl p-4",x),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"h-5 w-5 text-red-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white",children:"LoRA Training Failed"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-500/20 text-red-300",children:"Error"}),e&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-300",children:"Refunded"})]}),(0,a.jsxs)("p",{className:"text-xs text-white/60 mt-0.5",children:[f.errorMessage||"Training failed.",e&&(0,a.jsxs)("span",{className:"text-green-300 ml-1",children:["(",f.creditsRefunded?.toLocaleString()," credits refunded)"]})]})]})]})})}return null}},78441:function(e,t,s){"use strict";s.r(t),s.d(t,{PostGrid:function(){return p}});var a=s(43264),r=s(27905),i=s(54055),l=s(8339),n=s(97720),o=s(44498),c=s(66843),d=s(15689),m=s(48601),x=s(82474);function u(e){let{post:t,onExport:s,className:u}=e,h=(0,n.useInfluencerStore)(e=>e.toggleLike),[f,p]=r.useState(!1),[g,b]=r.useState(!1),v=async e=>{e.stopPropagation();try{await navigator.clipboard.writeText(t.caption),p(!0),setTimeout(()=>p(!1),2e3)}catch(e){console.error("Failed to copy caption:",e)}},j="9:16"===t.aspectRatio?"aspect-[9/16]":"2:3"===t.aspectRatio?"aspect-[2/3]":"aspect-square";return(0,a.jsxs)("div",{className:(0,i.cn)("group relative overflow-hidden rounded-xl transition-all duration-300","bg-[var(--bg-subtle)] border border-[var(--border-default)]","hover:border-[var(--purple-500)]/30 hover:shadow-lg hover:shadow-[var(--purple-500)]/5",u),onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:[(0,a.jsxs)("div",{className:(0,i.cn)("relative w-full overflow-hidden",j),children:[(0,a.jsx)("div",{className:(0,i.cn)("absolute inset-0 z-10 transition-opacity duration-300","bg-gradient-to-t from-black/60 via-black/20 to-transparent",g?"opacity-100":"opacity-0")}),t.imageUrl?(0,a.jsx)(l.default,{src:t.imageUrl,alt:"",fill:!0,className:(0,i.cn)("object-cover transition-transform duration-500",g&&"scale-105")}):(0,a.jsx)("div",{className:"flex h-full items-center justify-center bg-gradient-to-br from-[var(--purple-500)]/10 to-[var(--pink-500)]/10",children:(0,a.jsx)(o.Z,{className:"h-12 w-12 text-[var(--text-muted)]/30"})}),t.isLiked&&(0,a.jsx)("div",{className:"absolute right-2 top-2 z-20",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-7 w-7 rounded-full bg-[var(--pink-500)] shadow-lg",children:(0,a.jsx)(c.Z,{className:"h-3.5 w-3.5 text-white fill-white"})})}),(0,a.jsxs)("div",{className:(0,i.cn)("absolute bottom-3 left-3 right-3 z-20 flex items-center gap-2 transition-all duration-300",g?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"),children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),h(t.id)},className:(0,i.cn)("flex h-9 w-9 items-center justify-center rounded-full backdrop-blur-md transition-all duration-200",t.isLiked?"bg-[var(--pink-500)] text-white shadow-lg":"bg-white/20 text-white hover:bg-white/30"),title:t.isLiked?"Unlike":"Like",children:(0,a.jsx)(c.Z,{className:(0,i.cn)("h-4 w-4",t.isLiked&&"fill-white")})}),(0,a.jsx)("button",{onClick:v,className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/20 text-white backdrop-blur-md transition-all duration-200 hover:bg-white/30",title:f?"Copied!":"Copy caption",children:f?(0,a.jsx)(d.Z,{className:"h-4 w-4 text-green-400"}):(0,a.jsx)(m.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),s?.(t)},className:"flex h-9 w-9 items-center justify-center rounded-full bg-white/20 text-white backdrop-blur-md transition-all duration-200 hover:bg-white/30",title:"Download",children:(0,a.jsx)(x.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"p-3",children:(0,a.jsx)("p",{className:"line-clamp-2 text-sm text-[var(--text-secondary)] leading-relaxed",children:t.caption})})]})}var h=s(87074),f=s(27062);function p(e){let{posts:t,onExport:s,emptyMessage:r="No posts yet",emptyAction:l,className:n}=e;return 0===t.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center",children:[(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-[var(--purple-500)]/20 to-[var(--pink-500)]/20 rounded-full blur-2xl"}),(0,a.jsx)("div",{className:"relative flex h-20 w-20 items-center justify-center rounded-2xl bg-[var(--bg-subtle)] border border-[var(--border-default)]",children:(0,a.jsx)(o.Z,{className:"h-8 w-8 text-[var(--text-muted)]"})})]}),(0,a.jsx)("p",{className:"text-sm text-[var(--text-secondary)] mb-1",children:r}),(0,a.jsx)("p",{className:"text-xs text-[var(--text-muted)] mb-6",children:"Start creating to see your content here"}),l&&(0,a.jsxs)(f.default,{href:l.href,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-[var(--purple-500)] to-[var(--pink-500)] px-5 py-2.5 text-sm font-medium text-white shadow-lg shadow-[var(--purple-500)]/25 transition-all hover:shadow-xl hover:shadow-[var(--purple-500)]/30 hover:scale-105",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),l.label]})]}):(0,a.jsx)("div",{className:(0,i.cn)("grid grid-cols-2 gap-4 sm:grid-cols-3 sm:gap-5 lg:grid-cols-4 lg:gap-6",n),children:t.map((e,t)=>(0,a.jsx)("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",style:{animationDelay:`${50*t}ms`},children:(0,a.jsx)(u,{post:e,onExport:s})},e.id))})}},66093:function(e,t,s){"use strict";s.d(t,{i:function(){return h}});var a=s(43264),r=s(27905),i=s(97720);function l(){return(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-500/20 to-pink-500/20 flex items-center justify-center",children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-4 h-4 text-purple-400",children:(0,a.jsx)("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsx)("h3",{className:"text-white text-lg font-semibold",children:"Profile Picture Set"})]}),(0,a.jsx)("p",{className:"text-white/50 text-sm",children:"Choose a style theme for your character's profile pictures. Each set generates 7-10 unique shots in different scenes."})]})}var n=s(54055);function o(e){let{isSelected:t,onSelect:s}=e;return(0,a.jsxs)("label",{className:(0,n.cn)("relative flex items-center gap-4 p-4 rounded-xl border-2 transition-all cursor-pointer mb-4 group",t?"border-purple-400 bg-gradient-to-r from-purple-500/15 to-pink-500/10 shadow-lg shadow-purple-500/10":"border-white/10 bg-white/[0.03] hover:border-white/20 hover:bg-white/[0.05]"),children:[(0,a.jsx)("input",{type:"radio",name:"profilePictureSet",value:"",checked:t,onChange:s,className:"sr-only"}),(0,a.jsx)("div",{className:(0,n.cn)("w-12 h-12 rounded-xl flex items-center justify-center shrink-0 transition-all",t?"bg-purple-500/20":"bg-white/5 group-hover:bg-white/10"),children:(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:(0,n.cn)("w-6 h-6 transition-colors",t?"text-purple-400":"text-white/40 group-hover:text-white/60"),children:(0,a.jsx)("path",{d:"M12 6v6l4 2M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:(0,n.cn)("font-semibold",t?"text-white":"text-white/80"),children:"Generate Later"}),(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-500/20 text-green-400",children:"Free"})]}),(0,a.jsx)("p",{className:"text-white/40 text-sm mt-0.5",children:"Skip for now and generate profile pictures anytime from your character page"})]}),t&&(0,a.jsx)("div",{className:"absolute top-3 right-3 w-2.5 h-2.5 rounded-full bg-purple-400 ring-4 ring-purple-400/20"})]})}let c={"classic-influencer":{positions:["beach-full-body","cafe-cross-legged","gym-stretching","rooftop-back-view","park-dancing","street-leaning","home-lounging","pool-sitting-edge"],gradient:"from-orange-500 to-pink-500",bgGradient:"from-orange-500/20 to-pink-500/10",borderColor:"border-orange-400",shadowColor:"shadow-orange-500/20",iconBg:"bg-gradient-to-br from-orange-500/30 to-pink-500/30",badgeColor:"bg-orange-500/20 text-orange-300",emoji:"✨",shortDesc:"Beach • Caf\xe9 • Gym • Rooftop • Pool • Street • Home"},"professional-model":{positions:["runway-walk","studio-pose","gallery-side","rooftop-dramatic","sitting-elegant","street-strut","boutique-leaning","studio-dynamic","close-up-beauty"],gradient:"from-blue-500 to-indigo-500",bgGradient:"from-blue-500/20 to-indigo-500/10",borderColor:"border-blue-400",shadowColor:"shadow-blue-500/20",iconBg:"bg-gradient-to-br from-blue-500/30 to-indigo-500/30",badgeColor:"bg-blue-500/20 text-blue-300",emoji:"\uD83D\uDC57",shortDesc:"Runway • Studio • Gallery • Street • Boutique"},"natural-beauty":{positions:["yoga-pose","forest-stretching","lake-lying","mountain-arms-up","beach-walking-water","garden-sitting-floor","reading-lying","sunrise-stretch"],gradient:"from-emerald-500 to-teal-500",bgGradient:"from-emerald-500/20 to-teal-500/10",borderColor:"border-emerald-400",shadowColor:"shadow-emerald-500/20",iconBg:"bg-gradient-to-br from-emerald-500/30 to-teal-500/30",badgeColor:"bg-emerald-500/20 text-emerald-300",emoji:"\uD83E\uDDD8",shortDesc:"Yoga • Nature • Garden • Beach • Reading"}};var d=s(8339);function m(e){let{positions:t,setId:s,isVisible:r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("relative overflow-hidden transition-all duration-300",r?"opacity-100":"max-h-0 opacity-0"),children:(0,a.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-4 lg:grid-cols-5 gap-2 px-4 pb-4",children:t.map((e,t)=>{let i=`/profile-sets/${s}/${e}.webp`,l=e.replace(/-/g," ");return(0,a.jsxs)("div",{className:(0,n.cn)("relative aspect-square rounded-lg overflow-hidden transition-all duration-300 ring-1 ring-white/10 hover:ring-2 hover:ring-white/30",r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),style:{transitionDelay:`${40*Math.min(t,4)}ms`},children:[(0,a.jsx)(d.default,{src:i,alt:l,fill:!0,className:"object-cover",sizes:"(max-width: 640px) 22vw, (max-width: 1024px) 18vw, 100px"}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-end bg-gradient-to-t from-black/70 via-black/20 to-transparent",children:(0,a.jsx)("span",{className:"text-white text-[9px] sm:text-[10px] font-medium w-full text-center pb-1 capitalize leading-tight px-0.5 truncate",children:l})})]},e)})})})}function x(e){let{set:t,isSelected:s,isHovered:r,creditCost:i,onSelect:l,onMouseEnter:o,onMouseLeave:d}=e,x=c[t.id];return(0,a.jsxs)("label",{className:(0,n.cn)("relative block rounded-xl border-2 transition-all cursor-pointer overflow-hidden group",s?`${x.borderColor} bg-gradient-to-r ${x.bgGradient} shadow-lg ${x.shadowColor}`:"border-white/10 bg-white/[0.03] hover:border-white/20 hover:bg-white/[0.05]"),onMouseEnter:o,onMouseLeave:d,children:[(0,a.jsx)("input",{type:"radio",name:"profilePictureSet",value:t.id,checked:s,onChange:l,className:"sr-only"}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:(0,n.cn)("w-12 h-12 rounded-xl flex items-center justify-center shrink-0 transition-all text-2xl",s?x.iconBg:"bg-white/5 group-hover:bg-white/10"),children:x.emoji}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:(0,n.cn)("font-semibold",s?"text-white":"text-white/80"),children:t.name}),(0,a.jsxs)("span",{className:(0,n.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium transition-colors",s?x.badgeColor:"bg-white/10 text-white/50"),children:["+",i]})]}),s&&(0,a.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-white ring-4 ring-white/20"})]}),(0,a.jsx)("p",{className:"text-white/50 text-sm mt-1",children:x.shortDesc}),(0,a.jsxs)("p",{className:"text-white/30 text-xs mt-1",children:[t.positions.length," unique photos in different locations"]})]})]})}),(0,a.jsx)(m,{positions:x.positions,setId:t.id,isVisible:s||r}),s&&(0,a.jsx)("div",{className:(0,n.cn)("absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r",x.gradient)})]})}function u(){return(0,a.jsxs)("div",{className:"mt-4 flex items-start gap-2 p-3 rounded-lg bg-white/[0.02] border border-white/5",children:[(0,a.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-4 h-4 text-purple-400/60 shrink-0 mt-0.5",children:(0,a.jsx)("path",{d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,a.jsx)("p",{className:"text-white/40 text-xs leading-relaxed",children:"Profile pictures are generated in the background after character creation. You'll see them appear on your character's profile within a few minutes."})]})}function h(e){let{selectedSetId:t,onSelect:s,creditCost:n}=e,[c,d]=r.useState(null);return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(l,{}),(0,a.jsx)(o,{isSelected:null===t,onSelect:()=>s(null)}),(0,a.jsx)("div",{className:"space-y-3",children:i.profilePictureSets.map(e=>{let r=t===e.id,i=c===e.id;return(0,a.jsx)(x,{set:e,isSelected:r,isHovered:i,creditCost:n,onSelect:()=>s(e.id),onMouseEnter:()=>d(e.id),onMouseLeave:()=>d(null)},e.id)})}),(0,a.jsx)(u,{})]})}}},function(e){e.O(0,[8979,1370,2370,7067,1776,6318,3392,6250,5635,8339,7861,9877,5894,8090,5071,4055,7720,1960,9682,865,3008,6066,3739,8527,9985,6560,1744],function(){return e(e.s=32040)}),_N_E=e.O()}]);