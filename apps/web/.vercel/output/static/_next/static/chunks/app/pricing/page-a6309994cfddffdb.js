(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9979],{84770:function(e,t,r){Promise.resolve().then(r.bind(r,41359))},41359:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(43264),n=r(27905),a=r(9060),i=r(27062),o=r(83950),c=r(15689),l=r(27827),u=r(40601),d=r(99210),h=r(54055),p=r(63609),f=r(12989),m=r(35071),x=r(36613),w=r(42063),g=r(64582);function y(){let[e,t]=(0,n.useState)(!0),[r,y]=(0,n.useState)(null),{data:b,refetch:N}=p.SX.subscription.getCurrent.useQuery(),{refetch:k}=p.SX.credits.getBalance.useQuery(),v=b?.tier??"free",[S,P]=(0,n.useState)(null),z=(0,a.useSearchParams)();(0,n.useEffect)(()=>{"true"===z.get("success")&&(y("Subscription activated! Your account has been updated."),window.history.replaceState({},"",window.location.pathname),N(),k())},[z,N,k]);let C=async(e,t)=>{if(e!==v){P(e);try{if(!(0,w.hP)())throw Error("You must be logged in to subscribe");await x.Z.createSubscriptionSession(e,t)}catch(e){console.error("Subscription error:",e),alert(e.message||"Failed to start subscription. Please try again."),P(null)}}};return(0,s.jsxs)("div",{className:"w-full px-4 py-6 md:px-6 md:py-8",children:[(0,s.jsxs)(i.default,{href:g._j.dashboard,className:"inline-flex items-center gap-2 text-sm text-white/60 hover:text-white transition-colors mb-6",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4"}),"Back to Dashboard"]}),r&&(0,s.jsx)("div",{className:"mb-6 p-4 rounded-xl bg-green-500/20 border border-green-500/30 animate-in slide-in-from-top-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-500/30 flex items-center justify-center",children:(0,s.jsx)(c.Z,{className:"w-5 h-5 text-green-400"})}),(0,s.jsx)("p",{className:"text-green-300 font-medium",children:r})]})}),(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Choose Your Plan"}),(0,s.jsx)("p",{className:"text-white/60 text-sm max-w-md mx-auto",children:"Unlock the full power of AI influencer creation. Start creating viral content today."}),"free"!==v&&(0,s.jsxs)("p",{className:"mt-2 text-purple-400 text-sm",children:["Current plan:"," ",(0,s.jsx)("span",{className:"font-semibold capitalize",children:v})]})]}),(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsxs)("div",{className:"inline-flex p-1 rounded-xl bg-white/5 border border-white/10",children:[(0,s.jsx)("button",{onClick:()=>t(!1),className:(0,h.cn)("px-5 py-2 rounded-lg text-sm font-medium transition-all",e?"text-white/60 hover:text-white":"bg-white/10 text-white"),children:"Monthly"}),(0,s.jsxs)("button",{onClick:()=>t(!0),className:(0,h.cn)("px-5 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2",e?"bg-white/10 text-white":"text-white/60 hover:text-white"),children:["Yearly",(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold bg-gradient-to-r from-purple-500 to-pink-500 text-white",children:"-40%"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-8 max-w-5xl mx-auto",children:m.SUBSCRIPTION_PLANS.map(t=>(0,s.jsx)(f._,{plan:t,isYearly:e,isCurrentPlan:v===t.id,onSubscribe:C,isLoading:S===t.id},t.id))}),(0,s.jsx)("div",{className:"max-w-xl mx-auto mb-8",children:(0,s.jsxs)("div",{className:"p-5 rounded-xl bg-white/5 border border-white/10 text-center",children:[(0,s.jsx)("h3",{className:"font-semibold text-white mb-1",children:"Need more credits?"}),(0,s.jsx)("p",{className:"text-white/60 text-sm mb-3",children:"Purchase one-time credit packs for extra credits."}),(0,s.jsxs)(i.default,{href:g._j.buyCredits,className:"inline-flex items-center gap-2 px-5 py-2 rounded-lg bg-white/10 hover:bg-white/20 text-white text-sm font-medium transition-all",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4"}),"Buy Credit Packs"]})]})}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-6 p-4 rounded-xl bg-white/5 border border-white/10 mb-8 max-w-3xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(u.Z,{className:"w-5 h-5 text-green-400"}),(0,s.jsx)("span",{className:"text-xs text-white/70",children:"Secure Payment"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"w-5 h-5 text-blue-400"}),(0,s.jsx)("span",{className:"text-xs text-white/70",children:"Data Protected"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5 text-purple-400"}),(0,s.jsx)("span",{className:"text-xs text-white/70",children:"Discreet Billing"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pl-4 border-l border-white/10",children:[(0,s.jsx)("span",{className:"px-2 py-0.5 rounded bg-white/10 text-xs text-white/60",children:"Visa"}),(0,s.jsx)("span",{className:"px-2 py-0.5 rounded bg-white/10 text-xs text-white/60",children:"MC"})]})]}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto pb-8",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-white text-center mb-4",children:"FAQ"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(j,{question:"Can I cancel anytime?",answer:"Yes, cancel anytime. Credits remain until the billing period ends."}),(0,s.jsx)(j,{question:"Do unused credits roll over?",answer:"Credits reset monthly (use it or lose it policy)."}),(0,s.jsx)(j,{question:"What if I run out of credits?",answer:"Purchase credit packs or upgrade your plan."})]})]})]})}function b(){return(0,s.jsx)(n.Suspense,{children:(0,s.jsx)(y,{})})}function j(e){let{question:t,answer:r}=e,[a,i]=(0,n.useState)(!1);return(0,s.jsxs)("div",{className:"rounded-lg border border-white/10 bg-white/5 overflow-hidden",children:[(0,s.jsxs)("button",{onClick:()=>i(!a),className:"w-full px-4 py-3 text-left flex items-center justify-between gap-4",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-white",children:t}),(0,s.jsx)("span",{className:(0,h.cn)("text-white/50 text-xs transition-transform",a&&"rotate-180"),children:"â–¼"})]}),a&&(0,s.jsx)("div",{className:"px-4 pb-3",children:(0,s.jsx)("p",{className:"text-white/60 text-sm",children:r})})]})}},42063:function(e,t,r){"use strict";r.d(t,{Cp:function(){return x},SH:function(){return j},Y:function(){return f},Zu:function(){return h},c0:function(){return g},d0:function(){return c},dU:function(){return y},f8:function(){return w},hP:function(){return o},kS:function(){return p},tm:function(){return m},ts:function(){return b},x4:function(){return u},yE:function(){return l},z2:function(){return d}});var s=r(72164);let n="ryla_access_token",a="ryla_refresh_token",i=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3001";function o(){return localStorage.getItem(n)}function c(e){localStorage.setItem(n,e.accessToken),localStorage.setItem(a,e.refreshToken)}function l(){localStorage.removeItem(n),localStorage.removeItem(a)}async function u(e){let t=new AbortController,r=setTimeout(()=>t.abort(),3e4);try{let s=await fetch(`${i}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),signal:t.signal});if(clearTimeout(r),!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.message||"Login failed")}let n=await s.json();return c(n.tokens),n}catch(e){if(clearTimeout(r),e instanceof Error&&"AbortError"===e.name)throw Error("Login request timed out. Please try again.");throw e}}async function d(e){let t=await fetch(`${i}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"Registration failed");let r=await t.json();return c(r.tokens),r}async function h(){let e=localStorage.getItem(a);if(!e)return null;try{let t=await fetch(`${i}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!t.ok)return l(),null;let r=await t.json();return c(r.tokens),r}catch{return l(),null}}async function p(){let e=o();if(e)try{await fetch(`${i}/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch{}l()}async function f(){let e=o();if(e)try{await fetch(`${i}/auth/logout-all`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})}catch{}l()}async function m(){let e=await j(`${i}/user/account`,{method:"DELETE"});if(!(204===e.status||e.ok))throw Error((await e.json().catch(()=>({}))).message||"Account deletion failed");l()}async function x(e){let t=await j(`${i}/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"Failed to change password")}async function w(e){let t=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",r=await fetch(`${t}/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!r.ok){if(429===r.status)throw Error("Too many requests. Please try again later.");throw Error((await r.json().catch(()=>({}))).message||"Failed to send reset email")}}async function g(e){let t=s.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",r=await fetch(`${t}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){if(401===r.status)throw Error((await r.json().catch(()=>({}))).message||"Invalid or expired reset token");throw Error((await r.json().catch(()=>({}))).message||"Failed to reset password")}}async function y(e){try{let t=await fetch(`${i}/auth/check-email?email=${encodeURIComponent(e)}`);if(!t.ok){if(400===t.status){let e=await t.json().catch(()=>({}));throw Error(e.message||"Invalid email format")}throw Error("Failed to check email")}return(await t.json()).exists}catch(e){if(e instanceof Error)throw e;throw Error("Failed to check email")}}async function b(){let e=o();if(!e)return null;try{let t=await fetch(`${i}/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok){if(401===t.status){let e=await h();if(e)return e.user;l()}return null}return(await t.json()).user}catch{return null}}async function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=o(),s=new Headers(t.headers);r&&s.set("Authorization",`Bearer ${r}`);let n=await fetch(e,{...t,headers:s});if(401===n.status){let r=await h();if(r)return s.set("Authorization",`Bearer ${r.tokens.accessToken}`),fetch(e,{...t,headers:s})}return n}},64582:function(e,t,r){"use strict";r.d(t,{UM:function(){return n},_j:function(){return s},z5:function(){return a}});let s={home:"/",login:"/login",register:"/register",auth:"/auth",forgotPassword:"/forgot-password",resetPassword:"/reset-password",legal:"/legal",terms:"/terms",privacy:"/privacy",dashboard:"/dashboard",pricing:"/pricing",buyCredits:"/buy-credits",wizard:{root:"/wizard",step0:"/wizard/step-0",step1:"/wizard/step-1",step2:"/wizard/step-2",step3:"/wizard/step-3",step4:"/wizard/step-4",step5:"/wizard/step-5",step6:"/wizard/step-6",step7:"/wizard/step-7",step8:"/wizard/step-8",step9:"/wizard/step-9",step10:"/wizard/step-10",step11:"/wizard/step-11",step12:"/wizard/step-12",step13:"/wizard/step-13",step14:"/wizard/step-14",step15:"/wizard/step-15",step16:"/wizard/step-16",step17:"/wizard/step-17",step18:"/wizard/step-18",step19:"/wizard/step-19",step20:"/wizard/step-20",step21:"/wizard/step-21",step22:"/wizard/step-22",baseImage:"/wizard/step-base-image",profilePictures:"/wizard/step-profile-pictures",step:e=>`/wizard/step-${e}`},studio:"/studio",templates:"/templates",activity:"/activity",influencer:{root:"/influencer",detail:e=>`/influencer/${e}`},settings:"/settings",onboarding:{root:"/onboarding",step:e=>`/onboarding/${e}`,complete:"/onboarding/complete"},payment:{success:"/payment/success",cancel:"/payment/cancel",error:"/payment/error"},preview:{root:"/preview",outfitPicker:"/preview/outfit-picker",outfitCompositionPicker:"/preview/outfit-composition-picker"}};function n(e,t){if(!t||0===Object.keys(t).length)return e;let r=new URLSearchParams;for(let[e,s]of Object.entries(t))null!=s&&r.append(e,String(s));let s=r.toString();return s?`${e}?${s}`:e}function a(e,t){return"function"==typeof t?t(e):!!(e===t||e.startsWith(`${t}/`))}s.home,s.login,s.register,s.auth,s.forgotPassword,s.resetPassword,s.legal,s.terms,s.privacy},59321:function(e,t,r){"use strict";let s;r.d(t,{TRPCProvider:function(){return b},clearAuthToken:function(){return x},getAuthToken:function(){return f},setAuthToken:function(){return m},trpc:function(){return h}});var n=r(43264),a=r(27905),i=r(61126),o=r(25640),c=r(58433),l=r(94059),u=r(60946),d=r(87532);r(72164);let h=(0,d.ec)();var p=r(42063);function f(){return(0,p.hP)()}function m(e){(0,p.d0)({accessToken:e,refreshToken:""})}function x(){(0,p.yE)()}r(72164);let w=!1,g=null,y=()=>e=>{let{next:t,op:r}=e;return(0,l.LO)(e=>{let s=t(r).subscribe({next(t){e.next(t)},error(s){if(401===(s?.data?.httpStatus||s?.meta?.response?.status||s?.status||s?.cause?.status)){if(w&&g){g.then(n=>{if(n){let s=t(r).subscribe(e);return()=>s.unsubscribe()}e.error(s)}).catch(()=>e.error(s));return}w=!0,(g=(0,p.Zu)()).then(n=>{if(w=!1,g=null,n){let s=t(r).subscribe(e);return()=>s.unsubscribe()}(0,p.yE)(),e.error(s)}).catch(()=>{w=!1,g=null,(0,p.yE)(),e.error(s)})}else e.error(s)},complete(){e.complete()}});return()=>s.unsubscribe()})};function b(e){let{children:t}=e,r=(s||(s=new i.S({defaultOptions:{queries:{refetchOnWindowFocus:!0,staleTime:6e4,retry:(e,t)=>{if(e>=3)return!1;let r=t?.data?.httpStatus;return 401!==r&&403!==r}}}})),s),l=(0,a.useMemo)(()=>h.createClient({links:[y,(0,c.N8)({url:"/api/trpc",transformer:u.ZP,headers(){let e=f();return e?{authorization:`Bearer ${e}`}:{}}})]}),[]);return(0,n.jsx)(h.Provider,{client:l,queryClient:r,children:(0,n.jsx)(o.aH,{client:r,children:t})})}},63609:function(e,t,r){"use strict";r.d(t,{SX:function(){return s.trpc}});var s=r(59321)},83950:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(82790).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},81778:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(82790).Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])}},function(e){e.O(0,[8979,1370,2370,7067,1776,6250,5635,9877,5071,4055,5072,9985,6560,1744],function(){return e(e.s=84770)}),_N_E=e.O()}]);