---
description: Layered architecture guidelines for RYLA MVP
alwaysApply: true
---

# Architecture Rules

## Layer Responsibilities

### Presentation Layer (`src/presentation/`)
- HTTP requests/responses only
- Validate input via DTOs
- Route to business services
- No business logic

### Business Logic Layer (`src/business/`)
- All business rules and domain logic
- Orchestrate complex operations
- Never access database directly

### Data Access Layer (`src/data/`)
- Abstract database operations
- Repository pattern
- Return domain models

### Management Layer (`src/management/`)
- System administration
- Config, monitoring, logging
- User/role management

### Shared Layer (`src/shared/`)
- Common utilities, types, constants
- Validation, error classes

## Data Flow

1. Request: Presentation → Business → Data → DB
2. Response: DB → Data → Business → Presentation
3. Never skip layers
4. Management can access all layers

## Dependencies

- Presentation → Business → Data → Shared
- Management → all layers
- No circular dependencies
