{
  "extra": {
    "VHS_MetadataImage": null,
    "VHS_latentpreview": null,
    "VHS_KeepIntermediate": null,
    "VHS_latentpreviewrate": null
  },
  "links": [
    [35, 24, 0, 23, 4, "SIGMAS"],
    [36, 25, 0, 23, 3, "SAMPLER"],
    [37, 26, 0, 24, 0, "SIGMAS"],
    [39, 23, 0, 27, 1, "LATENT"],
    [63, 37, 0, 36, 2, "CONTROL_NET"],
    [72, 5, 0, 39, 1, "IMAGE"],
    [73, 39, 0, 32, 1, "IMAGE"],
    [76, 40, 0, 16, 0, "IMAGE"],
    [237, 2, 1, 106, 0, "CLIP"],
    [281, 39, 0, 116, 0, "IMAGE"],
    [311, 133, 0, 5, 0, "LATENT"],
    [321, 36, 1, 133, 2, "CONDITIONING"],
    [322, 36, 0, 133, 1, "CONDITIONING"],
    [324, 1, 0, 137, 1, "IMAGE"],
    [325, 137, 0, 40, 0, "IMAGE"],
    [326, 100, 0, 137, 0, "CCSRMODEL"],
    [328, 2, 2, 16, 1, "VAE"],
    [329, 2, 2, 5, 1, "VAE"],
    [330, 137, 0, 36, 3, "IMAGE"],
    [331, 137, 0, 39, 0, "IMAGE"],
    [332, 1, 0, 32, 0, "IMAGE"],
    [334, 2, 1, 139, 0, "CLIP"],
    [335, 139, 0, 36, 1, "CONDITIONING"],
    [336, 106, 0, 36, 0, "CONDITIONING"],
    [337, 139, 0, 23, 2, "CONDITIONING"],
    [338, 106, 0, 23, 1, "CONDITIONING"],
    [339, 16, 0, 23, 5, "LATENT"],
    [340, 16, 0, 27, 0, "LATENT"],
    [344, 2, 0, 23, 0, "MODEL"],
    [345, 2, 0, 26, 0, "MODEL"],
    [346, 2, 0, 133, 0, "MODEL"],
    [350, 27, 0, 133, 3, "LATENT"],
    [353, 1, 0, 142, 0, "IMAGE"],
    [354, 137, 0, 142, 1, "IMAGE"],
    [355, 137, 0, 143, 0, "IMAGE"]
  ],
  "nodes": [
    {
      "id": 106,
      "pos": [1198.4311580115073, 196.80068822020652],
      "mode": 0,
      "size": [306.98193359375, 76],
      "type": "CLIPTextEncode",
      "color": "#232",
      "flags": {},
      "order": 8,
      "inputs": [
        {
          "link": 237,
          "name": "clip",
          "type": "CLIP",
          "slot_index": 0
        }
      ],
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [336, 338],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [""]
    },
    {
      "id": 139,
      "pos": [1197.4311580115073, 319.80068822020644],
      "mode": 0,
      "size": [299.9782409667969, 76],
      "type": "CLIPTextEncode",
      "color": "#322",
      "flags": {},
      "order": 9,
      "inputs": [
        {
          "link": 334,
          "name": "clip",
          "type": "CLIP",
          "slot_index": 0
        }
      ],
      "bgcolor": "#533",
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [335, 337],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [""]
    },
    {
      "id": 25,
      "pos": [1204.4311580115073, 451.8006882202065],
      "mode": 0,
      "size": [315, 58],
      "type": "KSamplerSelect",
      "flags": {},
      "order": 0,
      "outputs": [
        {
          "name": "SAMPLER",
          "type": "SAMPLER",
          "links": [36],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "KSamplerSelect"
      },
      "widgets_values": ["euler"]
    },
    {
      "id": 26,
      "pos": [1202.4311580115073, 580.8006882202067],
      "mode": 0,
      "size": [315, 106],
      "type": "BasicScheduler",
      "flags": {},
      "order": 7,
      "inputs": [
        {
          "link": 345,
          "name": "model",
          "type": "MODEL",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "SIGMAS",
          "type": "SIGMAS",
          "links": [37],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "BasicScheduler"
      },
      "widgets_values": ["normal", 20, 1]
    },
    {
      "id": 24,
      "pos": [1611.4311580115073, 581.8006882202067],
      "mode": 0,
      "size": [210, 26],
      "type": "FlipSigmasAdjusted",
      "flags": {},
      "order": 13,
      "inputs": [
        {
          "link": 37,
          "name": "sigmas",
          "type": "SIGMAS",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "SIGMAS",
          "type": "SIGMAS",
          "links": [35],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "FlipSigmasAdjusted"
      }
    },
    {
      "id": 40,
      "pos": [1204.4311580115073, 753.8006882202067],
      "mode": 0,
      "size": [315, 58],
      "type": "ImageCASharpening+",
      "flags": {},
      "order": 10,
      "inputs": [
        {
          "link": 325,
          "name": "image",
          "type": "IMAGE",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [76],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageCASharpening+"
      },
      "widgets_values": [0.8]
    },
    {
      "id": 16,
      "pos": [1614.4311580115073, 763.8006882202067],
      "mode": 0,
      "size": [210, 46],
      "type": "VAEEncode",
      "flags": {},
      "order": 15,
      "inputs": [
        {
          "link": 76,
          "name": "pixels",
          "type": "IMAGE"
        },
        {
          "link": 328,
          "name": "vae",
          "type": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [339, 340],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      }
    },
    {
      "id": 23,
      "pos": [1889.4311580115073, 182.80068822020647],
      "mode": 0,
      "size": [396.6744689941406, 230],
      "type": "SamplerCustom",
      "flags": {},
      "order": 16,
      "inputs": [
        {
          "link": 344,
          "name": "model",
          "type": "MODEL",
          "slot_index": 0
        },
        {
          "link": 338,
          "name": "positive",
          "type": "CONDITIONING",
          "slot_index": 1
        },
        {
          "link": 337,
          "name": "negative",
          "type": "CONDITIONING",
          "slot_index": 2
        },
        {
          "link": 36,
          "name": "sampler",
          "type": "SAMPLER",
          "slot_index": 3
        },
        {
          "link": 35,
          "name": "sigmas",
          "type": "SIGMAS",
          "slot_index": 4
        },
        {
          "link": 339,
          "name": "latent_image",
          "type": "LATENT",
          "slot_index": 5
        }
      ],
      "outputs": [
        {
          "name": "output",
          "type": "LATENT",
          "links": [39],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "denoised_output",
          "type": "LATENT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SamplerCustom"
      },
      "widgets_values": [true, 501061442506463, "fixed", 1]
    },
    {
      "id": 36,
      "pos": [2410.4311580115077, 296.80068822020644],
      "mode": 0,
      "size": [342.5999755859375, 266],
      "type": "ACN_AdvancedControlNetApply",
      "flags": {},
      "order": 14,
      "inputs": [
        {
          "link": 336,
          "name": "positive",
          "type": "CONDITIONING",
          "slot_index": 0
        },
        {
          "link": 335,
          "name": "negative",
          "type": "CONDITIONING",
          "slot_index": 1
        },
        {
          "link": 63,
          "name": "control_net",
          "type": "CONTROL_NET",
          "slot_index": 2
        },
        {
          "link": 330,
          "name": "image",
          "type": "IMAGE",
          "slot_index": 3
        },
        {
          "link": null,
          "name": "mask_optional",
          "type": "MASK"
        },
        {
          "link": null,
          "name": "timestep_kf",
          "type": "TIMESTEP_KEYFRAME"
        },
        {
          "link": null,
          "name": "latent_kf_override",
          "type": "LATENT_KEYFRAME"
        },
        {
          "link": null,
          "name": "weights_override",
          "type": "CONTROL_NET_WEIGHTS",
          "slot_index": 7
        },
        {
          "link": null,
          "name": "model_optional",
          "type": "MODEL"
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [322],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [321],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "model_opt",
          "type": "MODEL",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ACN_AdvancedControlNetApply"
      },
      "widgets_values": [1, 0, 1]
    },
    {
      "id": 133,
      "pos": [2844.4311580115077, 204.80068822020647],
      "mode": 0,
      "size": [315, 546],
      "type": "KSamplerAdvanced",
      "flags": {},
      "order": 18,
      "inputs": [
        {
          "link": 346,
          "name": "model",
          "type": "MODEL",
          "slot_index": 0
        },
        {
          "link": 322,
          "name": "positive",
          "type": "CONDITIONING",
          "slot_index": 1
        },
        {
          "link": 321,
          "name": "negative",
          "type": "CONDITIONING",
          "slot_index": 2
        },
        {
          "link": 350,
          "name": "latent_image",
          "type": "LATENT"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [311],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSamplerAdvanced"
      },
      "widgets_values": [
        "disable",
        0,
        "fixed",
        10,
        1,
        "dpmpp_2m_sde_gpu",
        "karras",
        6,
        10000,
        "disable"
      ]
    },
    {
      "id": 37,
      "pos": [2411.4311580115077, 175.80068822020644],
      "mode": 0,
      "size": [327.6000061035156, 63.43849182128906],
      "type": "ControlNetLoaderAdvanced",
      "flags": {},
      "order": 1,
      "inputs": [
        {
          "link": null,
          "name": "timestep_keyframe",
          "type": "TIMESTEP_KEYFRAME"
        }
      ],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [63],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoaderAdvanced"
      },
      "widgets_values": ["sdxl/sai_xl_recolor_256lora.safetensors"]
    },
    {
      "id": 27,
      "pos": [2421.4311580115077, 665.8006882202067],
      "mode": 0,
      "size": [330, 150],
      "type": "InjectNoiseToLatent",
      "flags": {},
      "order": 17,
      "inputs": [
        {
          "link": 340,
          "name": "latents",
          "type": "LATENT",
          "slot_index": 0
        },
        {
          "link": 39,
          "name": "noise",
          "type": "LATENT"
        },
        {
          "link": null,
          "name": "mask",
          "type": "MASK"
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [350],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "InjectNoiseToLatent"
      },
      "widgets_values": [0.01, false, false]
    },
    {
      "id": 5,
      "pos": [3231.4311580115077, 205.80068822020647],
      "mode": 0,
      "size": [210, 46],
      "type": "VAEDecode",
      "flags": {},
      "order": 19,
      "inputs": [
        {
          "link": 311,
          "name": "samples",
          "type": "LATENT"
        },
        {
          "link": 329,
          "name": "vae",
          "type": "VAE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [72],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 39,
      "pos": [3501.4311580115077, 215.80068822020647],
      "mode": 0,
      "size": [315, 78],
      "type": "ColorMatch",
      "flags": {},
      "order": 20,
      "inputs": [
        {
          "link": 331,
          "name": "image_ref",
          "type": "IMAGE",
          "slot_index": 0
        },
        {
          "link": 72,
          "name": "image_target",
          "type": "IMAGE"
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [73, 281],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ColorMatch"
      },
      "widgets_values": ["mkl"]
    },
    {
      "id": 143,
      "pos": [-15.349597229775041, 656.074543299652],
      "mode": 0,
      "size": [363.3964538574219, 375.1449890136719],
      "type": "SaveImage",
      "flags": {},
      "order": 12,
      "inputs": [
        {
          "link": 355,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "properties": {},
      "widgets_values": ["1081"]
    },
    {
      "id": 142,
      "pos": [-492.3494567871094, 1131.0748291015625, 0, 0, 0, 0, 0, 0, 0, 0],
      "mode": 0,
      "size": [870.9921875, 708.46240234375],
      "type": "Image Comparer (rgthree)",
      "flags": {},
      "order": 11,
      "inputs": [
        {
          "dir": 3,
          "link": 353,
          "name": "image_a",
          "type": "IMAGE"
        },
        {
          "dir": 3,
          "link": 354,
          "name": "image_b",
          "type": "IMAGE"
        }
      ],
      "outputs": [],
      "properties": {
        "comparer_mode": "Slide"
      },
      "widgets_values": [[]]
    },
    {
      "id": 32,
      "pos": [3520, 752, 0, 0, 0, 0, 0, 0, 0, 0],
      "mode": 0,
      "size": [653.0047607421875, 651.7271118164062],
      "type": "Image Comparer (rgthree)",
      "flags": {},
      "order": 21,
      "inputs": [
        {
          "dir": 3,
          "link": 332,
          "name": "image_a",
          "type": "IMAGE"
        },
        {
          "dir": 3,
          "link": 73,
          "name": "image_b",
          "type": "IMAGE"
        }
      ],
      "outputs": [],
      "properties": {
        "comparer_mode": "Slide"
      },
      "widgets_values": [
        [
          "/view?filename=rgthree.compare._temp_dnzkr_00001_.png&type=temp&subfolder=&rand=0.9970891177475205",
          "/view?filename=rgthree.compare._temp_dnzkr_00002_.png&type=temp&subfolder=&rand=0.3166069499447768"
        ]
      ]
    },
    {
      "id": 138,
      "pos": [336.65040277022507, 434.0745432996518],
      "mode": 0,
      "size": [246.55615234375, 157.0245361328125],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 2,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "sampling methods:\nccsr = normal, untiled, heavy on VRAM\n\nccsr_tiled_mixdiff = tiled, each tile decoded separately, has seams\n\nccsr_tiled_vae_gaussian_weights = seams fixed, can be less accurate and introduce extra noise"
      ]
    },
    {
      "id": 116,
      "pos": [3854, 222],
      "mode": 0,
      "size": [426.9349670410156, 399.3159484863281],
      "type": "SaveImage",
      "flags": {},
      "order": 22,
      "inputs": [
        {
          "link": 281,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "properties": {},
      "widgets_values": ["1081"]
    },
    {
      "id": 100,
      "pos": [-530, 200],
      "mode": 0,
      "size": [315, 58],
      "type": "CCSR_Model_Select",
      "flags": {},
      "order": 3,
      "outputs": [
        {
          "name": "ccsr_model",
          "type": "CCSRMODEL",
          "links": [326],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CCSR_Model_Select"
      },
      "widgets_values": ["ccsr/real-world_ccsr.ckpt"]
    },
    {
      "id": 137,
      "pos": [-30, 200],
      "mode": 0,
      "size": [317.4000244140625, 390],
      "type": "CCSR_Upscale",
      "flags": {},
      "order": 6,
      "inputs": [
        {
          "link": 326,
          "name": "ccsr_model",
          "type": "CCSRMODEL"
        },
        {
          "link": 324,
          "name": "image",
          "type": "IMAGE",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "upscaled_image",
          "type": "IMAGE",
          "links": [325, 330, 331, 354, 355],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CCSR_Upscale"
      },
      "widgets_values": [
        "lanczos",
        2,
        45,
        0.6667,
        0.3333,
        "ccsr_tiled_mixdiff",
        512,
        256,
        1024,
        1024,
        "adain",
        false,
        123,
        "fixed"
      ]
    },
    {
      "id": 1,
      "pos": [-531.349597229775, 335.0745432996518],
      "mode": 0,
      "size": [408.504638671875, 432.7543029785156],
      "type": "LoadImage",
      "flags": {},
      "order": 4,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [324, 332, 353],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": ["RunComfy_examples_1081.png", "image"]
    },
    {
      "id": 2,
      "pos": [689.4311580115073, 191.80068822020647],
      "mode": 0,
      "size": [444.9201965332031, 109.98321533203125],
      "type": "CheckpointLoaderSimple",
      "flags": {},
      "order": 5,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [344, 345, 346],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [237, 334],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [328, 329],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": ["sdxl/leosamsHelloworldXL_helloworldXL70.safetensors"]
    }
  ],
  "config": {},
  "groups": [
    {
      "color": "#3f789e",
      "title": "CCSR",
      "bounding": [-610, 89, 1237, 1812],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Optional",
      "bounding": [660, 85, 3738, 1523],
      "font_size": 24
    }
  ],
  "version": 0.4,
  "last_link_id": 357,
  "last_node_id": 147
}
