{
  "extra": {
    "ds": {
      "scale": 0.5131581182307069,
      "offset": {
        "0": 690.5482642711454,
        "1": 95.03073216547497
      }
    },
    "groupNodes": {}
  },
  "links": [
    [9, 8, 0, 9, 0, "IMAGE"],
    [19, 16, 0, 13, 2, "SAMPLER"],
    [20, 17, 0, 13, 3, "SIGMAS"],
    [24, 13, 0, 8, 0, "LATENT"],
    [30, 22, 0, 13, 1, "GUIDER"],
    [37, 25, 0, 13, 0, "NOISE"],
    [41, 6, 0, 26, 0, "CONDITIONING"],
    [42, 26, 0, 22, 1, "CONDITIONING"],
    [55, 30, 0, 17, 0, "MODEL"],
    [112, 34, 0, 27, 0, "INT"],
    [113, 35, 0, 27, 1, "INT"],
    [114, 35, 0, 30, 2, "INT"],
    [115, 34, 0, 30, 1, "INT"],
    [116, 27, 0, 13, 4, "LATENT"],
    [121, 40, 0, 30, 0, "MODEL"],
    [122, 30, 0, 22, 0, "MODEL"],
    [123, 40, 1, 6, 0, "CLIP"],
    [124, 8, 0, 41, 0, "IMAGE"],
    [125, 40, 0, 41, 1, "MODEL"],
    [127, 42, 0, 41, 2, "CONDITIONING"],
    [128, 42, 0, 41, 3, "CONDITIONING"],
    [129, 40, 1, 42, 0, "CLIP"],
    [130, 41, 0, 43, 0, "IMAGE"],
    [131, 40, 2, 8, 1, "VAE"],
    [132, 40, 2, 41, 4, "VAE"],
    [133, 44, 0, 41, 5, "UPSCALE_MODEL"]
  ],
  "nodes": [
    {
      "id": 16,
      "pos": [483, 562],
      "mode": 0,
      "size": [315, 58],
      "type": "KSamplerSelect",
      "flags": {},
      "order": 0,
      "outputs": [
        {
          "name": "SAMPLER",
          "type": "SAMPLER",
          "links": [19],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "KSamplerSelect"
      },
      "widgets_values": ["euler"]
    },
    {
      "id": 35,
      "pos": [-180, 450],
      "mode": 0,
      "size": [210, 82],
      "type": "PrimitiveNode",
      "color": "#323",
      "flags": {},
      "order": 1,
      "title": "height",
      "bgcolor": "#535",
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [113, 114],
          "widget": {
            "name": "height"
          },
          "slot_index": 0
        }
      ],
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [1024, "fixed"]
    },
    {
      "id": 37,
      "pos": [106, 716],
      "mode": 0,
      "size": [314.99755859375, 117.98363494873047],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 2,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "The reference sampling implementation auto adjusts the shift value based on the resolution, if you don't want this you can just bypass (CTRL-B) this ModelSamplingFlux node.\n"
      ]
    },
    {
      "id": 13,
      "pos": [908, 193],
      "mode": 0,
      "size": [272.3617858886719, 326],
      "type": "SamplerCustomAdvanced",
      "flags": {},
      "order": 14,
      "inputs": [
        {
          "link": 37,
          "name": "noise",
          "type": "NOISE",
          "slot_index": 0
        },
        {
          "link": 30,
          "name": "guider",
          "type": "GUIDER",
          "slot_index": 1
        },
        {
          "link": 19,
          "name": "sampler",
          "type": "SAMPLER",
          "slot_index": 2
        },
        {
          "link": 20,
          "name": "sigmas",
          "type": "SIGMAS",
          "slot_index": 3
        },
        {
          "link": 116,
          "name": "latent_image",
          "type": "LATENT",
          "slot_index": 4
        }
      ],
      "outputs": [
        {
          "name": "output",
          "type": "LATENT",
          "links": [24],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "denoised_output",
          "type": "LATENT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SamplerCustomAdvanced"
      }
    },
    {
      "id": 44,
      "pos": [948, 1062],
      "mode": 0,
      "size": [315, 58],
      "type": "UpscaleModelLoader",
      "flags": {},
      "order": 3,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [133],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": ["4x-UltraSharp.pth"]
    },
    {
      "id": 42,
      "pos": [946, 925],
      "mode": 0,
      "size": [309.44818115234375, 76],
      "type": "CLIPTextEncode",
      "color": "#232",
      "flags": {},
      "order": 10,
      "title": "CLIP Text Encode (Positive Prompt)",
      "inputs": [
        {
          "link": 129,
          "name": "clip",
          "type": "CLIP"
        }
      ],
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [127, 128],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [""]
    },
    {
      "id": 8,
      "pos": [911, 582],
      "mode": 0,
      "size": [271.84228515625, 46],
      "type": "VAEDecode",
      "flags": {},
      "order": 15,
      "inputs": [
        {
          "link": 24,
          "name": "samples",
          "type": "LATENT"
        },
        {
          "link": 131,
          "name": "vae",
          "type": "VAE"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [9, 124],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 25,
      "pos": [475, 301],
      "mode": 0,
      "size": [315, 82],
      "type": "RandomNoise",
      "color": "#2a363b",
      "flags": {},
      "order": 4,
      "bgcolor": "#3f5159",
      "outputs": [
        {
          "name": "NOISE",
          "type": "NOISE",
          "links": [37],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "RandomNoise"
      },
      "widgets_values": [642729203254041, "randomize"]
    },
    {
      "id": 22,
      "pos": [482, 447],
      "mode": 0,
      "size": [313.1012268066406, 46],
      "type": "BasicGuider",
      "flags": {},
      "order": 13,
      "inputs": [
        {
          "link": 122,
          "name": "model",
          "type": "MODEL",
          "slot_index": 0
        },
        {
          "link": 42,
          "name": "conditioning",
          "type": "CONDITIONING",
          "slot_index": 1
        }
      ],
      "outputs": [
        {
          "name": "GUIDER",
          "type": "GUIDER",
          "links": [30],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "BasicGuider"
      }
    },
    {
      "id": 17,
      "pos": [488, 675],
      "mode": 0,
      "size": [315, 106],
      "type": "BasicScheduler",
      "flags": {},
      "order": 11,
      "inputs": [
        {
          "link": 55,
          "name": "model",
          "type": "MODEL",
          "slot_index": 0
        }
      ],
      "outputs": [
        {
          "name": "SIGMAS",
          "type": "SIGMAS",
          "links": [20],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "BasicScheduler"
      },
      "widgets_values": ["simple", 20, 1]
    },
    {
      "id": 27,
      "pos": [490, 845],
      "mode": 0,
      "size": [315, 106],
      "type": "EmptySD3LatentImage",
      "flags": {},
      "order": 7,
      "inputs": [
        {
          "link": 112,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          }
        },
        {
          "link": 113,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          }
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [116],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "widgets_values": [1024, 1024, 1]
    },
    {
      "id": 26,
      "pos": [111, 419],
      "mode": 0,
      "size": [317.4000244140625, 58],
      "type": "FluxGuidance",
      "color": "#233",
      "flags": {},
      "order": 12,
      "inputs": [
        {
          "link": 41,
          "name": "conditioning",
          "type": "CONDITIONING"
        }
      ],
      "bgcolor": "#355",
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [42],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FluxGuidance"
      },
      "widgets_values": [3.5]
    },
    {
      "id": 34,
      "pos": [-180, 580],
      "mode": 0,
      "size": [210, 82],
      "type": "PrimitiveNode",
      "color": "#323",
      "flags": {},
      "order": 5,
      "title": "width",
      "bgcolor": "#535",
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [112, 115],
          "widget": {
            "name": "width"
          },
          "slot_index": 0
        }
      ],
      "properties": {
        "Run widget replace on values": false
      },
      "widgets_values": [1024, "fixed"]
    },
    {
      "id": 9,
      "pos": [1267, 178],
      "mode": 0,
      "size": [780, 550],
      "type": "SaveImage",
      "flags": {},
      "order": 16,
      "inputs": [
        {
          "link": 9,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": ["ComfyUI"]
    },
    {
      "id": 40,
      "pos": [-318, 91],
      "mode": 0,
      "size": [369.986083984375, 98],
      "type": "CheckpointLoaderNF4",
      "flags": {},
      "order": 6,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [121, 125],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [123, 129],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [131, 132],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderNF4"
      },
      "widgets_values": ["flux/flux1-dev-bnb-nf4-v2.safetensors"]
    },
    {
      "id": 30,
      "pos": [109, 540],
      "mode": 0,
      "size": [315, 130],
      "type": "ModelSamplingFlux",
      "flags": {},
      "order": 8,
      "inputs": [
        {
          "link": 121,
          "name": "model",
          "type": "MODEL",
          "slot_index": 0
        },
        {
          "link": 115,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "slot_index": 1
        },
        {
          "link": 114,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "slot_index": 2
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [55, 122],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ModelSamplingFlux"
      },
      "widgets_values": [1.15, 0.5, 1024, 1024]
    },
    {
      "id": 6,
      "pos": [-318, 252],
      "mode": 0,
      "size": [371.8944091796875, 112.6928939819336],
      "type": "CLIPTextEncode",
      "color": "#232",
      "flags": {},
      "order": 9,
      "title": "CLIP Text Encode (Positive Prompt)",
      "inputs": [
        {
          "link": 123,
          "name": "clip",
          "type": "CLIP"
        }
      ],
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [41],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "A close-up cyberpunk photo featuring a face with blue hair and sunglasses, a sign in the image displays the clear text \"FLUX NF4\""
      ]
    },
    {
      "id": 43,
      "pos": [1660, 850],
      "mode": 4,
      "size": [780, 550],
      "type": "SaveImage",
      "flags": {},
      "order": 18,
      "inputs": [
        {
          "link": 130,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": ["ComfyUI"]
    },
    {
      "id": 41,
      "pos": [1320, 850],
      "mode": 4,
      "size": [315, 826],
      "type": "UltimateSDUpscale",
      "flags": {},
      "order": 17,
      "inputs": [
        {
          "link": 124,
          "name": "image",
          "type": "IMAGE"
        },
        {
          "link": 125,
          "name": "model",
          "type": "MODEL"
        },
        {
          "link": 127,
          "name": "positive",
          "type": "CONDITIONING"
        },
        {
          "link": 128,
          "name": "negative",
          "type": "CONDITIONING"
        },
        {
          "link": 132,
          "name": "vae",
          "type": "VAE"
        },
        {
          "link": 133,
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "slot_index": 5
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [130],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "UltimateSDUpscale"
      },
      "widgets_values": [
        2,
        811406461130046,
        "fixed",
        20,
        1,
        "euler",
        "simple",
        0.2,
        "Linear",
        1024,
        1024,
        8,
        32,
        "None",
        1,
        64,
        8,
        16,
        true,
        false
      ]
    }
  ],
  "config": {},
  "groups": [],
  "version": 0.4,
  "last_link_id": 133,
  "last_node_id": 45
}
