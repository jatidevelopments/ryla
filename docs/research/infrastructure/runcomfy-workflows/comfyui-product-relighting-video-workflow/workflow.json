{
  "extra": {
    "ds": {
      "scale": 0.1,
      "offset": [
        -1607.4053821782072,
        1442.2715275712744
      ]
    }
  },
  "links": [
    [
      83,
      71,
      1,
      68,
      0,
      "CLIP"
    ],
    [
      84,
      71,
      1,
      69,
      0,
      "CLIP"
    ],
    [
      85,
      71,
      0,
      70,
      0,
      "MODEL"
    ],
    [
      90,
      77,
      0,
      76,
      3,
      "LATENT"
    ],
    [
      94,
      67,
      0,
      77,
      0,
      "IMAGE"
    ],
    [
      95,
      71,
      2,
      77,
      1,
      "VAE"
    ],
    [
      96,
      71,
      2,
      76,
      2,
      "VAE"
    ],
    [
      134,
      110,
      0,
      107,
      0,
      "MASK"
    ],
    [
      135,
      107,
      0,
      108,
      0,
      "IMAGE"
    ],
    [
      137,
      109,
      0,
      110,
      0,
      "MASK"
    ],
    [
      139,
      71,
      2,
      111,
      1,
      "VAE"
    ],
    [
      511,
      264,
      0,
      265,
      0,
      "IMAGE"
    ],
    [
      512,
      264,
      1,
      266,
      0,
      "IMAGE"
    ],
    [
      514,
      146,
      0,
      268,
      0,
      "IMAGE"
    ],
    [
      515,
      268,
      0,
      264,
      0,
      "IMAGE"
    ],
    [
      578,
      302,
      0,
      297,
      0,
      "IMAGE"
    ],
    [
      586,
      296,
      0,
      109,
      0,
      "MASK"
    ],
    [
      605,
      270,
      4,
      108,
      2,
      "INT"
    ],
    [
      606,
      270,
      5,
      108,
      1,
      "INT"
    ],
    [
      607,
      270,
      4,
      146,
      2,
      "INT"
    ],
    [
      608,
      270,
      5,
      146,
      1,
      "INT"
    ],
    [
      617,
      270,
      4,
      67,
      2,
      "INT"
    ],
    [
      618,
      270,
      5,
      67,
      1,
      "INT"
    ],
    [
      649,
      321,
      0,
      325,
      0,
      "IMAGE"
    ],
    [
      651,
      297,
      0,
      321,
      0,
      "IMAGE"
    ],
    [
      846,
      396,
      0,
      321,
      2,
      "INT"
    ],
    [
      862,
      402,
      0,
      403,
      0,
      "IMAGE"
    ],
    [
      871,
      401,
      0,
      67,
      0,
      "IMAGE"
    ],
    [
      909,
      67,
      0,
      418,
      0,
      "*"
    ],
    [
      910,
      108,
      0,
      419,
      0,
      "*"
    ],
    [
      923,
      71,
      2,
      423,
      1,
      "VAE"
    ],
    [
      926,
      410,
      0,
      424,
      2,
      "CONTROL_NET"
    ],
    [
      927,
      108,
      0,
      424,
      3,
      "IMAGE"
    ],
    [
      930,
      68,
      0,
      425,
      0,
      "CONDITIONING"
    ],
    [
      931,
      388,
      0,
      425,
      2,
      "CONTROL_NET"
    ],
    [
      933,
      69,
      0,
      425,
      1,
      "CONDITIONING"
    ],
    [
      934,
      425,
      1,
      424,
      1,
      "CONDITIONING"
    ],
    [
      935,
      425,
      0,
      424,
      0,
      "CONDITIONING"
    ],
    [
      945,
      423,
      0,
      428,
      0,
      "IMAGE"
    ],
    [
      963,
      432,
      0,
      431,
      1,
      "INT"
    ],
    [
      969,
      431,
      0,
      433,
      0,
      "IMAGE"
    ],
    [
      976,
      301,
      0,
      297,
      1,
      "IMAGE"
    ],
    [
      979,
      399,
      0,
      431,
      2,
      "INT"
    ],
    [
      983,
      431,
      1,
      396,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      984,
      396,
      0,
      437,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      985,
      437,
      0,
      402,
      1,
      "INT"
    ],
    [
      987,
      431,
      1,
      428,
      1,
      "INT"
    ],
    [
      989,
      402,
      0,
      401,
      0,
      "*"
    ],
    [
      990,
      431,
      0,
      401,
      1,
      "*"
    ],
    [
      994,
      443,
      0,
      444,
      0,
      "IMAGE"
    ],
    [
      995,
      443,
      1,
      445,
      0,
      "IMAGE"
    ],
    [
      997,
      442,
      0,
      446,
      0,
      "IMAGE"
    ],
    [
      998,
      443,
      1,
      446,
      1,
      "IMAGE"
    ],
    [
      999,
      446,
      0,
      316,
      1,
      "IMAGE"
    ],
    [
      1000,
      446,
      0,
      447,
      0,
      "IMAGE"
    ],
    [
      1001,
      442,
      0,
      448,
      0,
      "IMAGE"
    ],
    [
      1002,
      146,
      0,
      443,
      0,
      "IMAGE"
    ],
    [
      1003,
      264,
      1,
      318,
      0,
      "IMAGE"
    ],
    [
      1005,
      264,
      1,
      442,
      1,
      "IMAGE"
    ],
    [
      1008,
      318,
      0,
      449,
      0,
      "IMAGE"
    ],
    [
      1009,
      318,
      0,
      450,
      1,
      "IMAGE"
    ],
    [
      1011,
      450,
      0,
      442,
      0,
      "IMAGE"
    ],
    [
      1012,
      450,
      0,
      451,
      0,
      "IMAGE"
    ],
    [
      1014,
      270,
      5,
      453,
      1,
      "INT"
    ],
    [
      1015,
      270,
      4,
      453,
      2,
      "INT"
    ],
    [
      1031,
      431,
      1,
      457,
      1,
      "INT"
    ],
    [
      1033,
      71,
      2,
      458,
      1,
      "VAE"
    ],
    [
      1035,
      458,
      0,
      457,
      0,
      "IMAGE"
    ],
    [
      1037,
      71,
      2,
      459,
      1,
      "VAE"
    ],
    [
      1038,
      457,
      0,
      459,
      0,
      "IMAGE"
    ],
    [
      1046,
      316,
      0,
      317,
      0,
      "IMAGE"
    ],
    [
      1047,
      316,
      0,
      326,
      0,
      "IMAGE"
    ],
    [
      1050,
      431,
      0,
      465,
      0,
      "IMAGE"
    ],
    [
      1082,
      428,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      1083,
      111,
      0,
      476,
      3,
      "LATENT"
    ],
    [
      1084,
      76,
      0,
      476,
      1,
      "CONDITIONING"
    ],
    [
      1085,
      76,
      1,
      476,
      2,
      "CONDITIONING"
    ],
    [
      1087,
      476,
      0,
      458,
      0,
      "LATENT"
    ],
    [
      1088,
      83,
      0,
      476,
      4,
      "FLOAT"
    ],
    [
      1096,
      458,
      0,
      478,
      0,
      "IMAGE"
    ],
    [
      1102,
      67,
      0,
      483,
      0,
      "IMAGE"
    ],
    [
      1103,
      483,
      0,
      425,
      3,
      "IMAGE"
    ],
    [
      1104,
      483,
      0,
      484,
      0,
      "IMAGE"
    ],
    [
      1105,
      453,
      0,
      486,
      0,
      "IMAGE"
    ],
    [
      1106,
      486,
      1,
      111,
      0,
      "IMAGE"
    ],
    [
      1125,
      70,
      0,
      497,
      0,
      "MODEL"
    ],
    [
      1126,
      497,
      0,
      476,
      0,
      "MODEL"
    ],
    [
      1137,
      424,
      1,
      76,
      1,
      "CONDITIONING"
    ],
    [
      1138,
      424,
      0,
      76,
      0,
      "CONDITIONING"
    ],
    [
      1142,
      424,
      1,
      502,
      1,
      "CONDITIONING"
    ],
    [
      1143,
      502,
      0,
      423,
      0,
      "LATENT"
    ],
    [
      1144,
      459,
      0,
      502,
      3,
      "LATENT"
    ],
    [
      1145,
      424,
      1,
      502,
      2,
      "CONDITIONING"
    ],
    [
      1147,
      71,
      0,
      502,
      0,
      "MODEL"
    ],
    [
      1148,
      321,
      0,
      296,
      0,
      "IMAGE"
    ],
    [
      1152,
      465,
      0,
      402,
      0,
      "IMAGE"
    ],
    [
      1153,
      465,
      0,
      454,
      0,
      "IMAGE"
    ],
    [
      1154,
      67,
      0,
      507,
      0,
      "IMAGE"
    ],
    [
      1155,
      507,
      0,
      211,
      0,
      "IMAGE"
    ],
    [
      1156,
      507,
      1,
      210,
      0,
      "IMAGE"
    ],
    [
      1157,
      507,
      0,
      316,
      0,
      "IMAGE"
    ],
    [
      1158,
      507,
      1,
      318,
      1,
      "IMAGE"
    ],
    [
      1159,
      507,
      1,
      450,
      0,
      "IMAGE"
    ],
    [
      1161,
      509,
      0,
      476,
      5,
      "INT"
    ],
    [
      1162,
      509,
      0,
      502,
      4,
      "INT"
    ],
    [
      1167,
      510,
      0,
      416,
      0,
      "IMAGE"
    ],
    [
      1168,
      465,
      0,
      512,
      0,
      "IMAGE"
    ],
    [
      1169,
      512,
      0,
      270,
      0,
      "IMAGE"
    ],
    [
      1170,
      419,
      0,
      510,
      1,
      "IMAGE"
    ],
    [
      1171,
      418,
      0,
      510,
      0,
      "IMAGE"
    ],
    [
      1172,
      510,
      0,
      415,
      0,
      "IMAGE"
    ],
    [
      1173,
      419,
      0,
      415,
      1,
      "IMAGE"
    ],
    [
      1174,
      415,
      0,
      453,
      0,
      "IMAGE"
    ],
    [
      1175,
      513,
      0,
      476,
      6,
      "FLOAT"
    ],
    [
      1240,
      569,
      0,
      567,
      0,
      "IMAGE"
    ],
    [
      1254,
      582,
      0,
      581,
      0,
      "IMAGE"
    ],
    [
      1272,
      572,
      0,
      566,
      2,
      "INT"
    ],
    [
      1281,
      572,
      0,
      579,
      2,
      "INT"
    ],
    [
      1285,
      583,
      0,
      580,
      2,
      "INT"
    ],
    [
      1286,
      583,
      0,
      585,
      2,
      "INT"
    ],
    [
      1287,
      602,
      0,
      603,
      0,
      "UPSCALE_MODEL"
    ],
    [
      1288,
      446,
      0,
      603,
      1,
      "IMAGE"
    ],
    [
      1291,
      507,
      0,
      604,
      1,
      "IMAGE"
    ],
    [
      1293,
      602,
      0,
      604,
      0,
      "UPSCALE_MODEL"
    ],
    [
      1296,
      270,
      5,
      610,
      1,
      "INT"
    ],
    [
      1297,
      270,
      4,
      610,
      2,
      "INT"
    ],
    [
      1299,
      270,
      5,
      611,
      1,
      "INT"
    ],
    [
      1300,
      270,
      4,
      611,
      2,
      "INT"
    ],
    [
      1301,
      566,
      0,
      610,
      0,
      "IMAGE"
    ],
    [
      1302,
      610,
      0,
      569,
      1,
      "IMAGE"
    ],
    [
      1303,
      579,
      0,
      611,
      0,
      "IMAGE"
    ],
    [
      1304,
      611,
      0,
      569,
      0,
      "IMAGE"
    ],
    [
      1324,
      580,
      0,
      582,
      1,
      "IMAGE"
    ],
    [
      1325,
      585,
      0,
      582,
      0,
      "IMAGE"
    ],
    [
      1326,
      610,
      0,
      580,
      0,
      "IMAGE"
    ],
    [
      1327,
      611,
      0,
      585,
      0,
      "IMAGE"
    ],
    [
      1328,
      603,
      0,
      616,
      0,
      "IMAGE"
    ],
    [
      1329,
      616,
      0,
      566,
      0,
      "IMAGE"
    ],
    [
      1330,
      604,
      0,
      617,
      0,
      "IMAGE"
    ],
    [
      1331,
      617,
      0,
      579,
      0,
      "IMAGE"
    ]
  ],
  "nodes": [
    {
      "id": 266,
      "pos": [
        7837.973263115784,
        3304.3489432160127
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 86,
      "inputs": [
        {
          "link": 512,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 325,
      "pos": [
        4900,
        4090
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 39,
      "inputs": [
        {
          "link": 649,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 296,
      "pos": [
        5016.6621432004395,
        3659.008201596411
      ],
      "mode": 0,
      "size": [
        315,
        58
      ],
      "type": "ImageToMask",
      "flags": {},
      "order": 40,
      "inputs": [
        {
          "link": 1148,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            586
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageToMask"
      },
      "widgets_values": [
        "red"
      ]
    },
    {
      "id": 110,
      "pos": [
        5375.6621432004395,
        3742.008201596411
      ],
      "mode": 0,
      "size": [
        315,
        246
      ],
      "type": "GrowMaskWithBlur",
      "flags": {},
      "order": 45,
      "inputs": [
        {
          "link": 137,
          "name": "mask",
          "type": "MASK"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            134
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "mask_inverted",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GrowMaskWithBlur"
      },
      "widgets_values": [
        0,
        0,
        true,
        false,
        0,
        1,
        1,
        false
      ]
    },
    {
      "id": 418,
      "pos": [
        5580.6621432004395,
        4028.008201596411
      ],
      "mode": 0,
      "size": [
        75,
        26
      ],
      "type": "Reroute",
      "flags": {},
      "order": 49,
      "inputs": [
        {
          "link": 909,
          "name": "",
          "type": "*"
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            1171
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "horizontal": false,
        "showOutputText": false
      }
    },
    {
      "id": 211,
      "pos": [
        7587.973263115785,
        2834.3489432160127
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 55,
      "inputs": [
        {
          "link": 1155,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 210,
      "pos": [
        7857.973263115784,
        2834.3489432160127
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 57,
      "inputs": [
        {
          "link": 1156,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 270,
      "pos": [
        4700.800113122123,
        3251.5686275048974
      ],
      "mode": 0,
      "size": [
        229.20001220703125,
        126
      ],
      "type": "Image Size to Number",
      "flags": {},
      "order": 38,
      "inputs": [
        {
          "link": 1169,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "width_num",
          "type": "NUMBER",
          "links": [],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "height_num",
          "type": "NUMBER",
          "links": [],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "width_float",
          "type": "FLOAT",
          "links": null,
          "shape": 3,
          "slot_index": 2
        },
        {
          "name": "height_float",
          "type": "FLOAT",
          "links": null,
          "shape": 3
        },
        {
          "name": "width_int",
          "type": "INT",
          "links": [
            605,
            607,
            617,
            1015,
            1297,
            1300
          ],
          "shape": 3,
          "slot_index": 4
        },
        {
          "name": "height_int",
          "type": "INT",
          "links": [
            606,
            608,
            618,
            1014,
            1296,
            1299
          ],
          "shape": 3,
          "slot_index": 5
        }
      ],
      "properties": {
        "Node name for S&R": "Image Size to Number"
      }
    },
    {
      "id": 67,
      "pos": [
        5223.98075650562,
        3293.218908972375
      ],
      "mode": 0,
      "size": [
        315,
        106
      ],
      "type": "JWImageResize",
      "flags": {},
      "order": 46,
      "inputs": [
        {
          "link": 871,
          "name": "image",
          "type": "IMAGE"
        },
        {
          "link": 618,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "slot_index": 1
        },
        {
          "link": 617,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "slot_index": 2
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            94,
            909,
            1102,
            1154
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResize"
      },
      "widgets_values": [
        1024,
        1024,
        "bicubic"
      ]
    },
    {
      "id": 401,
      "pos": [
        5184.155413389201,
        715.214939673441
      ],
      "mode": 0,
      "size": [
        336,
        78
      ],
      "type": "Switch any [Crystools]",
      "color": "#232",
      "flags": {},
      "order": 44,
      "title": "Do you want the subject to remain still?",
      "inputs": [
        {
          "link": 989,
          "name": "on_true",
          "type": "*"
        },
        {
          "link": 990,
          "name": "on_false",
          "type": "*"
        }
      ],
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": [
            871
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Switch any [Crystools]"
      },
      "widgets_values": [
        false
      ]
    },
    {
      "id": 265,
      "pos": [
        7587.6961241007875,
        3304.6360867135127
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 85,
      "inputs": [
        {
          "link": 511,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 444,
      "pos": [
        7600.6961241007875,
        3766.6360867135127
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 83,
      "inputs": [
        {
          "link": 994,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 445,
      "pos": [
        7850.696124100787,
        3766.6360867135127
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 84,
      "inputs": [
        {
          "link": 995,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 443,
      "pos": [
        7660.6961241007875,
        3626.6360867135127
      ],
      "mode": 0,
      "size": [
        315,
        78
      ],
      "type": "FrequencySeparationHSV",
      "flags": {},
      "order": 81,
      "inputs": [
        {
          "link": 1002,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "high_freq",
          "type": "IMAGE",
          "links": [
            994
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "low_freq",
          "type": "IMAGE",
          "links": [
            995,
            998
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "FrequencySeparationHSV"
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 108,
      "pos": [
        5750,
        3710
      ],
      "mode": 0,
      "size": [
        220.72084045410156,
        104.490234375
      ],
      "type": "JWImageResize",
      "flags": {},
      "order": 52,
      "inputs": [
        {
          "link": 135,
          "name": "image",
          "type": "IMAGE"
        },
        {
          "link": 606,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          }
        },
        {
          "link": 605,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            910,
            927
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResize"
      },
      "widgets_values": [
        1024,
        1024,
        "bicubic"
      ]
    },
    {
      "id": 317,
      "pos": [
        8208.696124100783,
        3685.6360867135127
      ],
      "mode": 0,
      "size": [
        525.59619140625,
        384.6732177734375
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 97,
      "inputs": [
        {
          "link": 1046,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 483,
      "pos": [
        5651.4895691331385,
        2745.8908247735762
      ],
      "mode": 0,
      "size": [
        315,
        58
      ],
      "type": "Zoe-DepthMapPreprocessor",
      "flags": {},
      "order": 50,
      "inputs": [
        {
          "link": 1102,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1103,
            1104
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Zoe-DepthMapPreprocessor"
      },
      "widgets_values": [
        512
      ]
    },
    {
      "id": 453,
      "pos": [
        5743.8480025623285,
        4176.3554713733065
      ],
      "mode": 0,
      "size": [
        220.72084045410156,
        104.490234375
      ],
      "type": "JWImageResize",
      "flags": {},
      "order": 67,
      "inputs": [
        {
          "link": 1174,
          "name": "image",
          "type": "IMAGE"
        },
        {
          "link": 1014,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          }
        },
        {
          "link": 1015,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1105
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResize"
      },
      "widgets_values": [
        1024,
        1024,
        "bicubic"
      ]
    },
    {
      "id": 111,
      "pos": [
        5752.8480025623285,
        4458.3554713733065
      ],
      "mode": 0,
      "size": [
        210,
        46
      ],
      "type": "VAEEncode",
      "flags": {},
      "order": 70,
      "inputs": [
        {
          "link": 1106,
          "name": "pixels",
          "type": "IMAGE"
        },
        {
          "link": 139,
          "name": "vae",
          "type": "VAE",
          "slot_index": 1
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            1083
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      }
    },
    {
      "id": 486,
      "pos": [
        5705.8480025623285,
        4335.3554713733065
      ],
      "mode": 0,
      "size": [
        315,
        78
      ],
      "type": "FrequencySeparation",
      "flags": {},
      "order": 69,
      "inputs": [
        {
          "link": 1105,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "high_freq",
          "type": "IMAGE",
          "links": null,
          "shape": 3
        },
        {
          "name": "low_freq",
          "type": "IMAGE",
          "links": [
            1106
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "FrequencySeparation"
      },
      "widgets_values": [
        8
      ]
    },
    {
      "id": 297,
      "pos": [
        4626.6621432004395,
        3725.008201596411
      ],
      "mode": 0,
      "size": [
        210,
        102
      ],
      "type": "ImageBatchMulti",
      "flags": {},
      "order": 26,
      "inputs": [
        {
          "link": 578,
          "name": "image_1",
          "type": "IMAGE"
        },
        {
          "link": 976,
          "name": "image_2",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            651
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBatchMulti"
      },
      "widgets_values": [
        2,
        null
      ]
    },
    {
      "id": 396,
      "pos": [
        4627.8480025623285,
        3903.355471373308
      ],
      "mode": 0,
      "size": [
        210,
        116
      ],
      "type": "MathExpression|pysssss",
      "flags": {},
      "order": 32,
      "inputs": [
        {
          "link": 983,
          "name": "a",
          "type": "INT,FLOAT,IMAGE,LATENT"
        },
        {
          "link": null,
          "name": "b",
          "type": "INT,FLOAT,IMAGE,LATENT"
        },
        {
          "link": null,
          "name": "c",
          "type": "INT,FLOAT,IMAGE,LATENT"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            846,
            984
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "MathExpression|pysssss"
      },
      "widgets_values": [
        "a-1"
      ]
    },
    {
      "id": 433,
      "pos": [
        4803.2072178522685,
        687.2148176031287
      ],
      "mode": 0,
      "size": [
        269.2515563964844,
        363.8753662109375
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 30,
      "title": "Frames Preview",
      "inputs": [
        {
          "link": 969,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 504,
      "pos": [
        6092.259998877836,
        1186.2143903570347
      ],
      "mode": 0,
      "size": [
        662.8916625976562,
        138.15879821777344
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 0,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Hello!\n\nIn this Light Mask Group you can find the following inputs:\n- Import First Light Mask Frame Here (the initial light mask position)\n- Import Second Light Mask Frame Here (the final light mask position)\n\nSince the workflow interpolates the two positions, please don't upload wildly different positions.\nIf you want the light mask to stay (mostly) still, add the same light mask to both inputs."
      ]
    },
    {
      "id": 506,
      "pos": [
        7600.634327874921,
        680.8212376468056
      ],
      "mode": 0,
      "size": [
        315.4427185058594,
        389.0351257324219
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 1,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Did you input all the variables?\n\nGreat, hit Queue Prompt."
      ]
    },
    {
      "id": 318,
      "pos": [
        8383.696124100783,
        2961.6360867135127
      ],
      "mode": 0,
      "size": [
        216.59999084472656,
        46
      ],
      "type": "ColorBlend",
      "flags": {},
      "order": 87,
      "inputs": [
        {
          "link": 1003,
          "name": "bw_layer",
          "type": "IMAGE"
        },
        {
          "link": 1158,
          "name": "color_layer",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1008,
            1009
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ColorBlend"
      }
    },
    {
      "id": 450,
      "pos": [
        8368.696124100783,
        3069.6360867135127
      ],
      "mode": 0,
      "size": [
        240,
        102
      ],
      "type": "ImageBlend",
      "flags": {},
      "order": 89,
      "title": "Blend Normal",
      "inputs": [
        {
          "link": 1159,
          "name": "image1",
          "type": "IMAGE"
        },
        {
          "link": 1009,
          "name": "image2",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1011,
            1012
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBlend"
      },
      "widgets_values": [
        0.4,
        "normal"
      ]
    },
    {
      "id": 442,
      "pos": [
        8360.696124100783,
        3226.6360867135127
      ],
      "mode": 0,
      "size": [
        240,
        102
      ],
      "type": "ImageBlend",
      "flags": {},
      "order": 90,
      "title": "Blend Overlay",
      "inputs": [
        {
          "link": 1011,
          "name": "image1",
          "type": "IMAGE"
        },
        {
          "link": 1005,
          "name": "image2",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            997,
            1001
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBlend"
      },
      "widgets_values": [
        0.4,
        "overlay"
      ]
    },
    {
      "id": 264,
      "pos": [
        7647.6961241007875,
        3164.6360867135127
      ],
      "mode": 0,
      "size": [
        315,
        78
      ],
      "type": "FrequencySeparationHSV",
      "flags": {},
      "order": 82,
      "inputs": [
        {
          "link": 515,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "high_freq",
          "type": "IMAGE",
          "links": [
            511
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "low_freq",
          "type": "IMAGE",
          "links": [
            512,
            1003,
            1005
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "FrequencySeparationHSV"
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 508,
      "pos": [
        7820.6961241007875,
        2376.6360867135127
      ],
      "mode": 0,
      "size": [
        318.4649353027344,
        84.79283905029297
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 2,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "In case you were wondering, if you set \"still subject\", we need to rebatch the first frame x times, where x is the number of frames you chose."
      ]
    },
    {
      "id": 69,
      "pos": [
        5236.423604683061,
        3127
      ],
      "mode": 0,
      "size": [
        291.6984558105469,
        106.95012664794922
      ],
      "type": "CLIPTextEncode",
      "flags": {},
      "order": 29,
      "inputs": [
        {
          "link": 84,
          "name": "clip",
          "type": "CLIP"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            933
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "desaturated, sepia, white"
      ]
    },
    {
      "id": 425,
      "pos": [
        5661.4895691331385,
        2485.8908247735762
      ],
      "mode": 0,
      "size": [
        315,
        166
      ],
      "type": "ControlNetApplyAdvanced",
      "flags": {},
      "order": 53,
      "inputs": [
        {
          "link": 930,
          "name": "positive",
          "type": "CONDITIONING"
        },
        {
          "link": 933,
          "name": "negative",
          "type": "CONDITIONING"
        },
        {
          "link": 931,
          "name": "control_net",
          "type": "CONTROL_NET"
        },
        {
          "link": 1103,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            935
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            934
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        0.75,
        0,
        0.75
      ]
    },
    {
      "id": 76,
      "pos": [
        6413.0357949789095,
        2438.0223495874766
      ],
      "mode": 0,
      "size": [
        342.5999755859375,
        138
      ],
      "type": "ICLightConditioning",
      "flags": {},
      "order": 62,
      "inputs": [
        {
          "link": 1138,
          "name": "positive",
          "type": "CONDITIONING"
        },
        {
          "link": 1137,
          "name": "negative",
          "type": "CONDITIONING"
        },
        {
          "link": 96,
          "name": "vae",
          "type": "VAE"
        },
        {
          "link": 90,
          "name": "foreground",
          "type": "LATENT"
        },
        {
          "link": null,
          "name": "opt_background",
          "type": "LATENT"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            1084
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            1085
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "empty_latent",
          "type": "LATENT",
          "links": [],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "ICLightConditioning"
      },
      "widgets_values": [
        0.12
      ]
    },
    {
      "id": 509,
      "pos": [
        6750.0357949789095,
        2622.0223495874766
      ],
      "mode": 0,
      "size": [
        315,
        130
      ],
      "type": "SeedSelector",
      "flags": {},
      "order": 3,
      "locked": null,
      "outputs": [
        {
          "name": "seed",
          "type": "INT",
          "links": [
            1161,
            1162
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SeedSelector"
      },
      "widgets_values": [
        true,
        12451325,
        "fixed",
        0
      ]
    },
    {
      "id": 458,
      "pos": [
        6417.0357949789095,
        3112.0223495874766
      ],
      "mode": 0,
      "size": [
        210,
        46
      ],
      "type": "VAEDecode",
      "flags": {},
      "order": 72,
      "inputs": [
        {
          "link": 1087,
          "name": "samples",
          "type": "LATENT"
        },
        {
          "link": 1033,
          "name": "vae",
          "type": "VAE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1035,
            1096
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 459,
      "pos": [
        6518.0357949789095,
        3366.0223495874766
      ],
      "mode": 0,
      "size": [
        210,
        46
      ],
      "type": "VAEEncode",
      "flags": {},
      "order": 75,
      "inputs": [
        {
          "link": 1038,
          "name": "pixels",
          "type": "IMAGE",
          "slot_index": 0
        },
        {
          "link": 1037,
          "name": "vae",
          "type": "VAE",
          "slot_index": 1
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            1144
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      }
    },
    {
      "id": 428,
      "pos": [
        6754.0357949789095,
        3211.0223495874766
      ],
      "mode": 0,
      "size": [
        315,
        106
      ],
      "type": "Pixel Deflicker (SuperBeasts.AI)",
      "flags": {},
      "order": 78,
      "inputs": [
        {
          "link": 945,
          "name": "images",
          "type": "IMAGE"
        },
        {
          "link": 987,
          "name": "batch_size",
          "type": "INT",
          "widget": {
            "name": "batch_size"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1082
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Pixel Deflicker (SuperBeasts.AI)"
      },
      "widgets_values": [
        2,
        0.15,
        24
      ]
    },
    {
      "id": 268,
      "pos": [
        7111.0357949789095,
        3364.0223495874766
      ],
      "mode": 0,
      "size": [
        282.7199401855469,
        82
      ],
      "type": "ImageDesaturate+",
      "flags": {},
      "order": 80,
      "inputs": [
        {
          "link": 514,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            515
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageDesaturate+"
      },
      "widgets_values": [
        1,
        "average"
      ]
    },
    {
      "id": 457,
      "pos": [
        6407.0357949789095,
        3215.0223495874766
      ],
      "mode": 0,
      "size": [
        315,
        106
      ],
      "type": "Pixel Deflicker (SuperBeasts.AI)",
      "flags": {},
      "order": 73,
      "inputs": [
        {
          "link": 1035,
          "name": "images",
          "type": "IMAGE"
        },
        {
          "link": 1031,
          "name": "batch_size",
          "type": "INT",
          "widget": {
            "name": "batch_size"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1038
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Pixel Deflicker (SuperBeasts.AI)"
      },
      "widgets_values": [
        3,
        0.1,
        24
      ]
    },
    {
      "id": 449,
      "pos": [
        7690,
        4240
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 88,
      "title": "Preview Color Blend",
      "inputs": [
        {
          "link": 1008,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 451,
      "pos": [
        7930,
        4240
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 91,
      "title": "Preview Blend Normal",
      "inputs": [
        {
          "link": 1012,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 448,
      "pos": [
        8170,
        4240
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 93,
      "title": "Preview Blend Overlay",
      "inputs": [
        {
          "link": 1001,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 447,
      "pos": [
        8410,
        4240
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 95,
      "title": "Preview Blend Soft Light",
      "inputs": [
        {
          "link": 1000,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 439,
      "pos": [
        4098.2072178522685,
        691.2148176031287
      ],
      "mode": 0,
      "size": [
        327.9411926269531,
        400.00311279296875
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 4,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Hello!\n\nThis up here is the control room.\nEach green node must be filled in.\n\nThis workflow can do:\n- moving subject + still light mask\n- still subject + moving light mask\n- moving subject + moving light mask\n- still subject + still light mask (why would you ever want this?? just use an image product relighting workflow!)\n\nIn this Subject Import Group you can find the following inputs:\n- Select Number of Frames (the MAX is a function of scale, but let's say 24 max for good measure)\n- Skip Initial Number of Frames (in case you want to start at a later frame)\n- Upload Source Video"
      ]
    },
    {
      "id": 107,
      "pos": [
        5750,
        3610
      ],
      "mode": 0,
      "size": [
        210,
        26
      ],
      "type": "MaskToImage",
      "flags": {},
      "order": 47,
      "inputs": [
        {
          "link": 134,
          "name": "mask",
          "type": "MASK"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            135
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToImage"
      }
    },
    {
      "id": 438,
      "pos": [
        6252.259998877836,
        671.2143903570342
      ],
      "mode": 0,
      "size": [
        356.1053161621094,
        72.99861907958984
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 5,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "ATTENTION: FOR A NON-MOVING, STILL LIGHT MASK, PLEASE IMPORT THE SAME LIGHT MASK AS FIRST AND SECOND LIGHT MASK FRAME IMAGES."
      ]
    },
    {
      "id": 465,
      "pos": [
        4809.2072178522685,
        1131.2148176031292
      ],
      "mode": 0,
      "size": [
        258.2318420410156,
        58
      ],
      "type": "Tensor Batch to Image",
      "flags": {},
      "order": 31,
      "title": "Get First Frame",
      "inputs": [
        {
          "link": 1050,
          "name": "images_batch",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1152,
            1153,
            1168
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Tensor Batch to Image"
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 503,
      "pos": [
        5184.155413389201,
        848.214939673441
      ],
      "mode": 0,
      "size": [
        667.30078125,
        116.3988037109375
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 6,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Hello!\n\nIn this Variables 1 Group you can find the following inputs:\n- Do You Want The Subject to Remain Still? Switch (True: uses the first frame for a still subject video, False: uses video as MAX frames)\n- Image Resize by Longer Side (MAX Frames and Scale are interconnected. Too many frames and / or too high scale = memory runs out)"
      ]
    },
    {
      "id": 109,
      "pos": [
        5373.6621432004395,
        3608.008201596411
      ],
      "mode": 0,
      "size": [
        315,
        82
      ],
      "type": "RemapMaskRange",
      "flags": {},
      "order": 42,
      "inputs": [
        {
          "link": 586,
          "name": "mask",
          "type": "MASK"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            137
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RemapMaskRange"
      },
      "widgets_values": [
        -0.1,
        1
      ]
    },
    {
      "id": 424,
      "pos": [
        5659,
        3159
      ],
      "mode": 0,
      "size": [
        315,
        166
      ],
      "type": "ControlNetApplyAdvanced",
      "flags": {},
      "order": 59,
      "inputs": [
        {
          "link": 935,
          "name": "positive",
          "type": "CONDITIONING"
        },
        {
          "link": 934,
          "name": "negative",
          "type": "CONDITIONING"
        },
        {
          "link": 926,
          "name": "control_net",
          "type": "CONTROL_NET"
        },
        {
          "link": 927,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            1138
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            1137,
            1142,
            1145
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetApplyAdvanced"
      },
      "widgets_values": [
        0.35000000000000003,
        0,
        0.35000000000000003
      ]
    },
    {
      "id": 77,
      "pos": [
        6428.9960246364635,
        2348.4027353950455
      ],
      "mode": 0,
      "size": [
        210,
        46
      ],
      "type": "VAEEncode",
      "flags": {},
      "order": 48,
      "inputs": [
        {
          "link": 94,
          "name": "pixels",
          "type": "IMAGE",
          "slot_index": 0
        },
        {
          "link": 95,
          "name": "vae",
          "type": "VAE",
          "slot_index": 1
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            90
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncode"
      }
    },
    {
      "id": 419,
      "pos": [
        5581.6621432004395,
        4083.008201596408
      ],
      "mode": 0,
      "size": [
        75,
        26
      ],
      "type": "Reroute",
      "flags": {},
      "order": 58,
      "inputs": [
        {
          "link": 910,
          "name": "",
          "type": "*"
        }
      ],
      "outputs": [
        {
          "name": "",
          "type": "IMAGE",
          "links": [
            1170,
            1173
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "horizontal": false,
        "showOutputText": false
      }
    },
    {
      "id": 415,
      "pos": [
        5738,
        4014
      ],
      "mode": 0,
      "size": [
        240,
        102
      ],
      "type": "ImageBlend",
      "flags": {},
      "order": 65,
      "title": "Overlay",
      "inputs": [
        {
          "link": 1172,
          "name": "image1",
          "type": "IMAGE"
        },
        {
          "link": 1173,
          "name": "image2",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1174
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBlend"
      },
      "widgets_values": [
        0.5,
        "overlay"
      ]
    },
    {
      "id": 510,
      "pos": [
        5743,
        3866
      ],
      "mode": 0,
      "size": [
        240,
        102
      ],
      "type": "ImageBlend",
      "flags": {},
      "order": 61,
      "title": "Multiply",
      "inputs": [
        {
          "link": 1171,
          "name": "image1",
          "type": "IMAGE"
        },
        {
          "link": 1170,
          "name": "image2",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1167,
            1172
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBlend"
      },
      "widgets_values": [
        0.2,
        "multiply"
      ]
    },
    {
      "id": 497,
      "pos": [
        6412.9960246364635,
        2630.4027353950455
      ],
      "mode": 0,
      "size": [
        315,
        126
      ],
      "type": "ApplyRaveAttentionNode",
      "flags": {},
      "order": 33,
      "inputs": [
        {
          "link": 1125,
          "name": "model",
          "type": "MODEL"
        },
        {
          "link": null,
          "name": "attn_override",
          "type": "ATTN_OVERRIDE",
          "slot_index": 1
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1126
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ApplyRaveAttentionNode"
      },
      "widgets_values": [
        5,
        0,
        "fixed"
      ]
    },
    {
      "id": 476,
      "pos": [
        6414.9960246364635,
        2805.4027353950455
      ],
      "mode": 0,
      "size": [
        320,
        260
      ],
      "type": "KSampler",
      "flags": {},
      "order": 71,
      "inputs": [
        {
          "link": 1126,
          "name": "model",
          "type": "MODEL"
        },
        {
          "link": 1084,
          "name": "positive",
          "type": "CONDITIONING"
        },
        {
          "link": 1085,
          "name": "negative",
          "type": "CONDITIONING"
        },
        {
          "link": 1083,
          "name": "latent_image",
          "type": "LATENT"
        },
        {
          "link": 1088,
          "name": "cfg",
          "type": "FLOAT",
          "widget": {
            "name": "cfg"
          }
        },
        {
          "link": 1161,
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "slot_index": 5
        },
        {
          "link": 1175,
          "name": "denoise",
          "type": "FLOAT",
          "widget": {
            "name": "denoise"
          },
          "slot_index": 6
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            1087
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        150177866522759,
        "fixed",
        20,
        8,
        "euler_ancestral",
        "ddim_uniform",
        0.4
      ]
    },
    {
      "id": 83,
      "pos": [
        7079.311315059653,
        857.2148176031286
      ],
      "mode": 0,
      "size": [
        315,
        58
      ],
      "type": "Float",
      "color": "#232",
      "flags": {},
      "order": 7,
      "title": "CFG (1.05-3)",
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1088
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Float"
      },
      "widgets_values": [
        "1.2"
      ]
    },
    {
      "id": 513,
      "pos": [
        7080.311315059653,
        971.2148176031286
      ],
      "mode": 0,
      "size": [
        315,
        58
      ],
      "type": "Float",
      "color": "#232",
      "flags": {},
      "order": 8,
      "title": "Denoise (0.3-0.6)",
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            1175
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Float"
      },
      "widgets_values": [
        "0.4"
      ]
    },
    {
      "id": 505,
      "pos": [
        6992.311315059653,
        1092.2148176031287
      ],
      "mode": 0,
      "size": [
        502.2002258300781,
        239.11358642578125
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 9,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Hello!\n\nIn this Variables 2 Group you can find the following inputs:\n- Relighting Light Prompt (describe the light you want to get);\n- CFG\n- Denoise\n\nCFG is a bit tricky to make sense of at first.\n- between 1.05 and 2 = light changes a bit, no artefacts\n- between 2 and 3 = light changes more, chances of artefacts\n- more than 3 = light changes a lot, high chance of artefacts\n\nDenoise is trickier than CFG.\n- Between 0.3 and 0.5, the Light Mask will look the best although it will sometimes look like a bit of a \"filter\"\n- More than 0.5, and the flickering gets way too bad."
      ]
    },
    {
      "id": 502,
      "pos": [
        6751.9960246364635,
        2809.4027353950455
      ],
      "mode": 0,
      "size": [
        315,
        262
      ],
      "type": "KSampler",
      "flags": {},
      "order": 76,
      "inputs": [
        {
          "link": 1147,
          "name": "model",
          "type": "MODEL"
        },
        {
          "link": 1142,
          "name": "positive",
          "type": "CONDITIONING"
        },
        {
          "link": 1145,
          "name": "negative",
          "type": "CONDITIONING"
        },
        {
          "link": 1144,
          "name": "latent_image",
          "type": "LATENT"
        },
        {
          "link": 1162,
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            1143
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        979429811818628,
        "fixed",
        20,
        8,
        "euler",
        "normal",
        0.1
      ]
    },
    {
      "id": 423,
      "pos": [
        6854.9960246364635,
        3118.4027353950455
      ],
      "mode": 0,
      "size": [
        210,
        46
      ],
      "type": "VAEDecode",
      "flags": {},
      "order": 77,
      "inputs": [
        {
          "link": 1143,
          "name": "samples",
          "type": "LATENT"
        },
        {
          "link": 923,
          "name": "vae",
          "type": "VAE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            945
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      }
    },
    {
      "id": 416,
      "pos": [
        5160,
        4060
      ],
      "mode": 0,
      "size": [
        360.25537109375,
        461.6174011230469
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 64,
      "inputs": [
        {
          "link": 1167,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 321,
      "pos": [
        4899,
        3783
      ],
      "mode": 0,
      "size": [
        443.4000244140625,
        198
      ],
      "type": "RIFE VFI",
      "flags": {},
      "order": 36,
      "inputs": [
        {
          "link": 651,
          "name": "frames",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "optional_interpolation_states",
          "type": "INTERPOLATION_STATES"
        },
        {
          "link": 846,
          "name": "multiplier",
          "type": "INT",
          "widget": {
            "name": "multiplier"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            649,
            1148
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RIFE VFI"
      },
      "widgets_values": [
        "rife49.pth",
        12,
        23,
        false,
        true,
        0.5
      ]
    },
    {
      "id": 402,
      "pos": [
        7828.085917476152,
        2514.5266592473154
      ],
      "mode": 0,
      "size": [
        315,
        78
      ],
      "type": "VHS_DuplicateImages",
      "flags": {},
      "order": 41,
      "inputs": [
        {
          "link": 1152,
          "name": "images",
          "type": "IMAGE"
        },
        {
          "link": 985,
          "name": "multiply_by",
          "type": "INT",
          "widget": {
            "name": "multiply_by"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            862,
            989
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "count",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_DuplicateImages"
      },
      "widgets_values": {
        "multiply_by": 1
      }
    },
    {
      "id": 403,
      "pos": [
        8215.085917476155,
        2459.5266592473154
      ],
      "mode": 0,
      "size": [
        210,
        246
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 43,
      "inputs": [
        {
          "link": 862,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 437,
      "pos": [
        7572.085917476152,
        2477.5266592473154
      ],
      "mode": 0,
      "size": [
        210,
        116.00003051757812
      ],
      "type": "MathExpression|pysssss",
      "flags": {},
      "order": 37,
      "inputs": [
        {
          "link": 984,
          "name": "a",
          "type": "INT,FLOAT,IMAGE,LATENT"
        },
        {
          "link": null,
          "name": "b",
          "type": "INT,FLOAT,IMAGE,LATENT"
        },
        {
          "link": null,
          "name": "c",
          "type": "INT,FLOAT,IMAGE,LATENT"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            985
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "MathExpression|pysssss"
      },
      "widgets_values": [
        "a+1"
      ]
    },
    {
      "id": 316,
      "pos": [
        8371.085917476155,
        3556.5266592473154
      ],
      "mode": 0,
      "size": [
        218.39999389648438,
        46
      ],
      "type": "FrequencyCombination",
      "flags": {},
      "order": 94,
      "inputs": [
        {
          "link": 1157,
          "name": "high_freq",
          "type": "IMAGE"
        },
        {
          "link": 999,
          "name": "low_freq",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1046,
            1047
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FrequencyCombination"
      }
    },
    {
      "id": 511,
      "pos": [
        7974.521386883479,
        679.4016434685268
      ],
      "mode": 0,
      "size": [
        569.5040283203125,
        464.0164489746094
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 10,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Troubleshooting (will update if more errors arise):\n\n- I'm seeing red nodes even if I installed from the manager\n\nUninstall the missing nodes and install them via git clone, and then pip install -r requirements.txt in their respective custom_nodes/whichever_node_was_missing folder\n\n- Error occurred when executing KSampler: Error while processing rearrange-reduction pattern \"b (h w) c -> b h w c\".\n\nThere's a size mismatch due to weird aspect ratio when scaling down to a length that resulted in a weird width. Try a different length scale.\n\n- something something .<\n\nYou missed a input image.\n\n- something something variable x\n\nYou most probably either didn't input an image, or input the wrong format"
      ]
    },
    {
      "id": 146,
      "pos": [
        7123.9960246364635,
        3205.4027353950455
      ],
      "mode": 0,
      "size": [
        271.889892578125,
        106
      ],
      "type": "JWImageResize",
      "flags": {},
      "order": 79,
      "inputs": [
        {
          "link": 1082,
          "name": "image",
          "type": "IMAGE"
        },
        {
          "link": 608,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          }
        },
        {
          "link": 607,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            514,
            1002
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResize"
      },
      "widgets_values": [
        1024,
        1024,
        "bicubic"
      ]
    },
    {
      "id": 582,
      "pos": [
        11210,
        3800
      ],
      "mode": 0,
      "size": [
        218.39999389648438,
        46
      ],
      "type": "FrequencyCombination",
      "flags": {},
      "order": 105,
      "inputs": [
        {
          "link": 1325,
          "name": "high_freq",
          "type": "IMAGE"
        },
        {
          "link": 1324,
          "name": "low_freq",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1254
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FrequencyCombination"
      }
    },
    {
      "id": 446,
      "pos": [
        8360.696124100783,
        3385.6360867135127
      ],
      "mode": 0,
      "size": [
        240,
        102
      ],
      "type": "ImageBlend",
      "flags": {},
      "order": 92,
      "title": "Blend Soft Light",
      "inputs": [
        {
          "link": 997,
          "name": "image1",
          "type": "IMAGE"
        },
        {
          "link": 998,
          "name": "image2",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            999,
            1000,
            1288
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageBlend"
      },
      "widgets_values": [
        0.5,
        "soft_light"
      ]
    },
    {
      "id": 507,
      "pos": [
        7647.085917476152,
        2701.5266592473154
      ],
      "mode": 0,
      "size": [
        315,
        78
      ],
      "type": "FrequencySeparationHSV",
      "flags": {},
      "order": 51,
      "inputs": [
        {
          "link": 1154,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "high_freq",
          "type": "IMAGE",
          "links": [
            1155,
            1157,
            1291
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "low_freq",
          "type": "IMAGE",
          "links": [
            1156,
            1158,
            1159
          ],
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "FrequencySeparationHSV"
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 583,
      "pos": [
        11180,
        3420
      ],
      "mode": 0,
      "size": [
        210,
        58
      ],
      "type": "Int",
      "flags": {},
      "order": 11,
      "locked": null,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1285,
            1286
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Int"
      },
      "widgets_values": [
        "3"
      ]
    },
    {
      "id": 566,
      "pos": [
        9850,
        3530
      ],
      "mode": 0,
      "size": [
        443.4000244140625,
        198
      ],
      "type": "RIFE VFI",
      "flags": {},
      "order": 100,
      "inputs": [
        {
          "link": 1329,
          "name": "frames",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "optional_interpolation_states",
          "type": "INTERPOLATION_STATES"
        },
        {
          "link": 1272,
          "name": "multiplier",
          "type": "INT",
          "widget": {
            "name": "multiplier"
          },
          "slot_index": 2
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1301
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RIFE VFI"
      },
      "widgets_values": [
        "rife49.pth",
        24,
        2,
        false,
        false,
        4
      ]
    },
    {
      "id": 580,
      "pos": [
        10860,
        3530
      ],
      "mode": 0,
      "size": [
        443.4000244140625,
        198
      ],
      "type": "RIFE VFI",
      "flags": {},
      "order": 103,
      "inputs": [
        {
          "link": 1326,
          "name": "frames",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "optional_interpolation_states",
          "type": "INTERPOLATION_STATES"
        },
        {
          "link": 1285,
          "name": "multiplier",
          "type": "INT",
          "widget": {
            "name": "multiplier"
          },
          "slot_index": 2
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1324
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RIFE VFI"
      },
      "widgets_values": [
        "rife49.pth",
        24,
        2,
        false,
        false,
        4
      ]
    },
    {
      "id": 569,
      "pos": [
        10220,
        3820
      ],
      "mode": 0,
      "size": [
        218.39999389648438,
        46
      ],
      "type": "FrequencyCombination",
      "flags": {},
      "order": 102,
      "inputs": [
        {
          "link": 1304,
          "name": "high_freq",
          "type": "IMAGE"
        },
        {
          "link": 1302,
          "name": "low_freq",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1240
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "FrequencyCombination"
      }
    },
    {
      "id": 610,
      "pos": [
        9981.351714899867,
        4057.9976098919774
      ],
      "mode": 0,
      "size": [
        271.889892578125,
        106
      ],
      "type": "JWImageResize",
      "flags": {},
      "order": 101,
      "inputs": [
        {
          "link": 1301,
          "name": "image",
          "type": "IMAGE"
        },
        {
          "link": 1296,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          }
        },
        {
          "link": 1297,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1302,
            1326
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResize"
      },
      "widgets_values": [
        1024,
        1024,
        "bicubic"
      ]
    },
    {
      "id": 512,
      "pos": [
        5561,
        711
      ],
      "mode": 0,
      "size": [
        315,
        82
      ],
      "type": "JWImageResizeByLongerSide",
      "color": "#232",
      "flags": {},
      "order": 35,
      "inputs": [
        {
          "link": 1168,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1169
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResizeByLongerSide"
      },
      "widgets_values": [
        1024,
        "bicubic"
      ]
    },
    {
      "id": 399,
      "pos": [
        4478,
        691
      ],
      "mode": 0,
      "size": [
        282.24603271484375,
        59.14326858520508
      ],
      "type": "JWInteger",
      "color": "#232",
      "flags": {},
      "order": 12,
      "title": "Select Number of Frames (MAX 24)",
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            979
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWInteger"
      },
      "widgets_values": [
        12
      ]
    },
    {
      "id": 478,
      "pos": [
        7097.9960246364635,
        2364.4027353950455
      ],
      "mode": 0,
      "size": [
        358.5469665527344,
        409.7502746582031
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 74,
      "inputs": [
        {
          "link": 1096,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 603,
      "pos": [
        9850,
        3280
      ],
      "mode": 0,
      "size": [
        241.79998779296875,
        46
      ],
      "type": "ImageUpscaleWithModel",
      "flags": {},
      "order": 96,
      "inputs": [
        {
          "link": 1287,
          "name": "upscale_model",
          "type": "UPSCALE_MODEL"
        },
        {
          "link": 1288,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1328
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel"
      }
    },
    {
      "id": 604,
      "pos": [
        10520,
        3290
      ],
      "mode": 0,
      "size": [
        241.79998779296875,
        46
      ],
      "type": "ImageUpscaleWithModel",
      "flags": {},
      "order": 56,
      "inputs": [
        {
          "link": 1293,
          "name": "upscale_model",
          "type": "UPSCALE_MODEL"
        },
        {
          "link": 1291,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1330
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel"
      }
    },
    {
      "id": 572,
      "pos": [
        10210,
        3170
      ],
      "mode": 0,
      "size": [
        210,
        58
      ],
      "type": "Int",
      "flags": {},
      "order": 13,
      "locked": null,
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            1272,
            1281
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Int"
      },
      "widgets_values": [
        "3"
      ]
    },
    {
      "id": 617,
      "pos": [
        10450,
        3390
      ],
      "mode": 0,
      "size": [
        315,
        82
      ],
      "type": "ImageScaleBy",
      "flags": {},
      "order": 60,
      "inputs": [
        {
          "link": 1330,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1331
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScaleBy"
      },
      "widgets_values": [
        "nearest-exact",
        0.5
      ]
    },
    {
      "id": 585,
      "pos": [
        11330,
        3530
      ],
      "mode": 0,
      "size": [
        443.4000244140625,
        198
      ],
      "type": "RIFE VFI",
      "flags": {},
      "order": 68,
      "inputs": [
        {
          "link": 1327,
          "name": "frames",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "optional_interpolation_states",
          "type": "INTERPOLATION_STATES"
        },
        {
          "link": 1286,
          "name": "multiplier",
          "type": "INT",
          "widget": {
            "name": "multiplier"
          },
          "slot_index": 2
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1325
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RIFE VFI"
      },
      "widgets_values": [
        "rife49.pth",
        24,
        2,
        false,
        false,
        4
      ]
    },
    {
      "id": 326,
      "pos": [
        8837,
        1074
      ],
      "mode": 0,
      "size": [
        950,
        258
      ],
      "type": "VHS_VideoCombine",
      "flags": {},
      "order": 98,
      "title": "Base Pass",
      "inputs": [
        {
          "link": 1047,
          "name": "images",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "audio",
          "type": "AUDIO"
        },
        {
          "link": null,
          "name": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "link": null,
          "name": "vae",
          "type": "VAE"
        },
        {
          "link": null,
          "name": "latents",
          "type": "LATENT"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "format": "image/webp",
        "pingpong": false,
        "frame_rate": 6,
        "loop_count": 0,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "params": {
            "type": "output",
            "format": "image/webp",
            "filename": "AnimateDiff_00001.webp",
            "subfolder": "",
            "frame_rate": 6
          },
          "paused": false
        },
        "filename_prefix": "AnimateDiff"
      }
    },
    {
      "id": 586,
      "pos": [
        8850,
        890
      ],
      "mode": 0,
      "size": [
        385.9942626953125,
        121.75006103515625
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 14,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This is the first result, the base pass.\nIt has minimal frame interpolation, so no risks of morphing."
      ]
    },
    {
      "id": 587,
      "pos": [
        9864,
        850
      ],
      "mode": 0,
      "size": [
        385.9942626953125,
        121.75006103515625
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 15,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This is the second result, the first refine.\n\nIt has 2x frame interpolation*, so:\n- you need to adjust the frame rate accordingly\n- there's some risks of morphing\n\n*it's not really 2x, more like [(2x)+1], because reasons."
      ]
    },
    {
      "id": 588,
      "pos": [
        10857,
        846
      ],
      "mode": 0,
      "size": [
        385.9942626953125,
        121.75006103515625
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 16,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This is the third result, the second refine.\n\nIt has 2x2x frame interpolation, so:\n- you need to adjust the frame rate accordingly\n- there's some risks of morphing\n\n*it's not really 2x2x, more like {[(2x+1)x2]+1}, because reasons."
      ]
    },
    {
      "id": 454,
      "pos": [
        11869,
        1123
      ],
      "mode": 0,
      "size": [
        914.8651123046875,
        1724.6630859375
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 34,
      "title": "First Frame (for reference)",
      "inputs": [
        {
          "link": 1153,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 579,
      "pos": [
        10330,
        3530
      ],
      "mode": 0,
      "size": [
        443.4000244140625,
        198
      ],
      "type": "RIFE VFI",
      "flags": {},
      "order": 63,
      "inputs": [
        {
          "link": 1331,
          "name": "frames",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "optional_interpolation_states",
          "type": "INTERPOLATION_STATES"
        },
        {
          "link": 1281,
          "name": "multiplier",
          "type": "INT",
          "widget": {
            "name": "multiplier"
          },
          "slot_index": 2
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1303
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "RIFE VFI"
      },
      "widgets_values": [
        "rife49.pth",
        24,
        2,
        false,
        false,
        4
      ]
    },
    {
      "id": 611,
      "pos": [
        10458,
        4048
      ],
      "mode": 0,
      "size": [
        271.889892578125,
        106
      ],
      "type": "JWImageResize",
      "flags": {},
      "order": 66,
      "inputs": [
        {
          "link": 1303,
          "name": "image",
          "type": "IMAGE"
        },
        {
          "link": 1299,
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          }
        },
        {
          "link": 1300,
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          }
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1304,
            1327
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "JWImageResize"
      },
      "widgets_values": [
        1024,
        1024,
        "bicubic"
      ]
    },
    {
      "id": 677,
      "pos": [
        9856,
        4249
      ],
      "mode": 0,
      "size": [
        300.57025146484375,
        108.65939331054688
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 17,
      "bgcolor": "#653",
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Bypass this group if you want to upscale 2x.\nIf it's active, it downscales the refiner to the original size after refining."
      ]
    },
    {
      "id": 68,
      "pos": [
        7035.768269684653,
        694.3010609410193
      ],
      "mode": 0,
      "size": [
        395.3352966308594,
        106.080810546875
      ],
      "type": "CLIPTextEncode",
      "color": "#232",
      "flags": {},
      "order": 28,
      "title": "Relighting Light Prompt",
      "inputs": [
        {
          "link": 83,
          "name": "clip",
          "type": "CLIP"
        }
      ],
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            930
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "sunlight, tree shadow, chiaroscuro"
      ]
    },
    {
      "id": 432,
      "pos": [
        4475,
        809
      ],
      "mode": 0,
      "size": [
        279.6197814941406,
        58
      ],
      "type": "Int Literal",
      "color": "#232",
      "flags": {},
      "order": 18,
      "title": "Skip Initial Number of Frames",
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            963
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Int Literal"
      },
      "widgets_values": [
        4
      ]
    },
    {
      "id": 431,
      "pos": [
        4478.2072178522685,
        911.2148176031292
      ],
      "mode": 0,
      "size": [
        281.6197814941406,
        282
      ],
      "type": "VHS_LoadVideo",
      "color": "#232",
      "flags": {},
      "order": 25,
      "title": "Upload Source Video",
      "inputs": [
        {
          "link": null,
          "name": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "link": 963,
          "name": "skip_first_frames",
          "type": "INT",
          "widget": {
            "name": "skip_first_frames"
          },
          "slot_index": 1
        },
        {
          "link": 979,
          "name": "frame_load_cap",
          "type": "INT",
          "widget": {
            "name": "frame_load_cap"
          }
        }
      ],
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            969,
            990,
            1050
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": [
            983,
            987,
            1031
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "audio",
          "type": "VHS_AUDIO",
          "links": null,
          "shape": 3
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": [],
          "shape": 3,
          "slot_index": 3
        },
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo"
      },
      "widgets_values": {
        "video": "RunComfy_examples_1110_1.mp4",
        "force_rate": 24,
        "force_size": "Disabled",
        "custom_width": 512,
        "videopreview": {
          "hidden": false,
          "params": {
            "type": "input",
            "format": "video/mp4",
            "filename": "RunComfy_examples_1110_1.mp4",
            "force_rate": 24,
            "frame_load_cap": 512,
            "select_every_nth": 1,
            "skip_first_frames": 512
          },
          "paused": false
        },
        "custom_height": 512,
        "frame_load_cap": 512,
        "select_every_nth": 1,
        "skip_first_frames": 512,
        "choose video to upload": "image"
      }
    },
    {
      "id": 302,
      "pos": [
        6082.259998877836,
        801.2143903570342
      ],
      "mode": 0,
      "size": [
        325.976318359375,
        314.0000305175781
      ],
      "type": "LoadImage",
      "color": "#232",
      "flags": {},
      "order": 19,
      "title": "Import First Light Mask Frame Here",
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            578
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3,
          "slot_index": 1
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "RunComfy_examples_1110_2.jpg",
        "image"
      ]
    },
    {
      "id": 301,
      "pos": [
        6442.259998877836,
        801.2143903570342
      ],
      "mode": 0,
      "size": [
        315,
        314.00006103515625
      ],
      "type": "LoadImage",
      "color": "#232",
      "flags": {},
      "order": 20,
      "title": "Import Second Light Mask Frame Here",
      "locked": null,
      "bgcolor": "#353",
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            976
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "RunComfy_examples_1110_3.jpg",
        "image"
      ]
    },
    {
      "id": 71,
      "pos": [
        4629.01893268242,
        2954.0415929994683
      ],
      "mode": 0,
      "size": [
        315,
        98
      ],
      "type": "CheckpointLoaderSimple",
      "flags": {},
      "order": 21,
      "locked": null,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            85,
            1147
          ],
          "shape": 3,
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            83,
            84
          ],
          "shape": 3,
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            95,
            96,
            139,
            923,
            1033,
            1037
          ],
          "shape": 3,
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "sd1/epicrealism_naturalSinRC1VAE.safetensors"
      ]
    },
    {
      "id": 70,
      "pos": [
        4601.01893268242,
        3117.0415929994683
      ],
      "mode": 0,
      "size": [
        381.3333740234375,
        58
      ],
      "type": "LoadAndApplyICLightUnet",
      "flags": {},
      "order": 27,
      "inputs": [
        {
          "link": 85,
          "name": "model",
          "type": "MODEL"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            1125
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "LoadAndApplyICLightUnet"
      },
      "widgets_values": [
        "sd1/iclight_sd15_fc.safetensors"
      ]
    },
    {
      "id": 484,
      "pos": [
        6007,
        2490
      ],
      "mode": 0,
      "size": [
        307.0893859863281,
        306.7716979980469
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 54,
      "inputs": [
        {
          "link": 1104,
          "name": "images",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 388,
      "pos": [
        5651.4895691331385,
        2365.8908247735762
      ],
      "mode": 0,
      "size": [
        436.4141845703125,
        58
      ],
      "type": "ControlNetLoader",
      "flags": {},
      "order": 22,
      "locked": null,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            931
          ],
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "sd1/control_v11f1p_sd15_depth.pth"
      ]
    },
    {
      "id": 567,
      "pos": [
        9840,
        1070
      ],
      "mode": 0,
      "size": [
        950,
        258
      ],
      "type": "VHS_VideoCombine",
      "flags": {},
      "order": 104,
      "title": "First Refine",
      "inputs": [
        {
          "link": 1240,
          "name": "images",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "audio",
          "type": "AUDIO"
        },
        {
          "link": null,
          "name": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "link": null,
          "name": "vae",
          "type": "VAE"
        },
        {
          "link": null,
          "name": "latents",
          "type": "LATENT"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "format": "image/webp",
        "pingpong": false,
        "frame_rate": 12,
        "loop_count": 0,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "params": {
            "type": "output",
            "format": "image/webp",
            "filename": "RunComfy_examples_1110_1.webp",
            "subfolder": "RunComfy_examples",
            "frame_rate": 12
          },
          "paused": false
        },
        "filename_prefix": "1110"
      }
    },
    {
      "id": 581,
      "pos": [
        10853,
        1094
      ],
      "mode": 0,
      "size": [
        950,
        258
      ],
      "type": "VHS_VideoCombine",
      "flags": {},
      "order": 106,
      "title": "Second Refine",
      "inputs": [
        {
          "link": 1254,
          "name": "images",
          "type": "IMAGE"
        },
        {
          "link": null,
          "name": "audio",
          "type": "AUDIO"
        },
        {
          "link": null,
          "name": "meta_batch",
          "type": "VHS_BatchManager"
        },
        {
          "link": null,
          "name": "vae",
          "type": "VAE"
        },
        {
          "link": null,
          "name": "latents",
          "type": "LATENT"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": [],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine"
      },
      "widgets_values": {
        "format": "image/webp",
        "pingpong": false,
        "frame_rate": 48,
        "loop_count": 0,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "params": {
            "type": "output",
            "format": "image/webp",
            "filename": "RunComfy_examples_1110_2.webp",
            "subfolder": "RunComfy_examples",
            "frame_rate": 48
          },
          "paused": false
        },
        "filename_prefix": "1110"
      }
    },
    {
      "id": 410,
      "pos": [
        5660,
        3040
      ],
      "mode": 0,
      "size": [
        428.3398742675781,
        58
      ],
      "type": "ControlNetLoader",
      "flags": {},
      "order": 23,
      "locked": null,
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "links": [
            926
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "sd1/lightingBasedPicture_v10.safetensors"
      ]
    },
    {
      "id": 616,
      "pos": [
        9860,
        3390
      ],
      "mode": 0,
      "size": [
        315,
        82
      ],
      "type": "ImageScaleBy",
      "flags": {},
      "order": 99,
      "inputs": [
        {
          "link": 1328,
          "name": "image",
          "type": "IMAGE"
        }
      ],
      "locked": null,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1329
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScaleBy"
      },
      "widgets_values": [
        "nearest-exact",
        0.5
      ]
    },
    {
      "id": 602,
      "pos": [
        10160,
        3280
      ],
      "mode": 0,
      "size": [
        315,
        58
      ],
      "type": "UpscaleModelLoader",
      "flags": {},
      "order": 24,
      "locked": null,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            1287,
            1293
          ],
          "shape": 3,
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "nmkdSiaxCX_200k.pt"
      ]
    }
  ],
  "config": {},
  "groups": [
    {
      "color": "#3f789e",
      "title": "Relight Checkpoint",
      "locked": false,
      "bounding": [
        4533,
        2877,
        603,
        583
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Relighting Prep Group",
      "locked": false,
      "bounding": [
        5148,
        2877,
        451,
        583
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Relighting",
      "locked": false,
      "bounding": [
        6376,
        2247,
        1112,
        1232
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Custom Light Mask Prep",
      "locked": false,
      "bounding": [
        4538,
        3474,
        1495,
        1068
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Detail + Color Transfer",
      "locked": false,
      "bounding": [
        7510,
        2249,
        1285,
        1918
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Subject Import",
      "locked": false,
      "bounding": [
        4052,
        579,
        1042,
        1144
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Variables 1",
      "locked": false,
      "bounding": [
        5115,
        579,
        812,
        405
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Light Mask",
      "locked": false,
      "bounding": [
        5948,
        582,
        967,
        772
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Variables 2",
      "locked": false,
      "bounding": [
        6930,
        582,
        633,
        791
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Check!",
      "locked": false,
      "bounding": [
        7576,
        581,
        364,
        594
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "ControlNets",
      "locked": false,
      "bounding": [
        5615,
        2246,
        745,
        1212
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Troubleshooting",
      "locked": false,
      "bounding": [
        7952,
        582,
        622,
        590
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Downscale to Original Resolution",
      "locked": false,
      "bounding": [
        9827,
        3926,
        994,
        453
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Refiner 1",
      "locked": false,
      "bounding": [
        9830,
        990,
        994,
        2914
      ],
      "font_size": 24
    },
    {
      "color": "#3f789e",
      "title": "Refiner 2",
      "locked": false,
      "bounding": [
        10837,
        994,
        996,
        2913
      ],
      "font_size": 24
    }
  ],
  "version": 0.4,
  "last_link_id": 1444,
  "last_node_id": 677
}