{
  "id": "7200c272-1c07-4834-9c36-c6ec5c140c21",
  "extra": {
    "ds": {
      "scale": 0.5644739300537774,
      "offset": [-706.9261379161283, 104.77357566437524]
    },
    "reroutes": null,
    "node_versions": {
      "comfy-core": "0.3.64",
      "ComfyUI-KJNodes": "3fcd22f2fe2be69c3229f192362b91888277cbcb",
      "ComfyUI-WanVideoWrapper": "586d9148a0306ef5d30e9a971a9c3be4cd3ecc97",
      "comfyui-videohelpersuite": "8e4d79471bf1952154768e8435a9300077b534fa"
    },
    "frontendVersion": "1.26.13",
    "VHS_MetadataImage": true,
    "VHS_latentpreview": false,
    "VHS_KeepIntermediate": true,
    "VHS_latentpreviewrate": 0
  },
  "links": [
    [152, 12, 0, 84, 0, "WANVIDEOMODEL"],
    [153, 84, 0, 80, 0, "WANVIDEOMODEL"],
    [154, 83, 0, 84, 1, "BLOCKSWAPARGS"],
    [157, 78, 0, 12, 4, "VACEPATH"],
    [158, 80, 0, 86, 1, "LATENT"],
    [159, 87, 0, 86, 0, "WANVAE"],
    [160, 86, 0, 88, 0, "IMAGE"],
    [161, 89, 0, 90, 0, "MMAUDIOVAE"],
    [162, 80, 0, 90, 1, "LATENT"],
    [163, 90, 0, 88, 1, "AUDIO"],
    [164, 91, 0, 12, 0, "WANCOMPILEARGS"],
    [167, 85, 0, 94, 0, "WANVIDEOTEXTEMBEDS"],
    [169, 96, 1, 94, 1, "WANVIDEOTEXTEMBEDS"],
    [170, 94, 0, 80, 2, "WANVIDEOTEXTEMBEDS"],
    [178, 81, 0, 80, 1, "WANVIDIMAGE_EMBEDS"],
    [190, 90, 0, 108, 0, "AUDIO"],
    [191, 93, 0, 80, 8, "SLGARGS"],
    [192, 109, 0, 110, 0, "IMAGE"],
    [193, 87, 0, 111, 0, "WANVAE"],
    [194, 110, 0, 111, 1, "IMAGE"],
    [195, 111, 0, 81, 1, "LATENT"],
    [197, 110, 2, 81, 3, "INT"],
    [198, 110, 1, 81, 2, "INT"],
    [210, 118, 0, 80, 6, "CACHEARGS"],
    [211, 125, 0, 80, 3, "LATENT"]
  ],
  "nodes": [
    {
      "id": 93,
      "pos": [1227.490478515625, 1009.968017578125],
      "mode": 0,
      "size": [270, 106],
      "type": "WanVideoSLG",
      "flags": {},
      "order": 0,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "slg_args",
          "type": "SLGARGS",
          "label": null,
          "links": [191],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoSLG"
      },
      "showAdvanced": null,
      "widgets_values": ["11", 0, 1]
    },
    {
      "id": 94,
      "pos": [1096.868408203125, 858.80126953125],
      "mode": 0,
      "size": [316.470703125, 78],
      "type": "WanVideoOviCFG",
      "color": "#432",
      "flags": {},
      "order": 16,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 167,
          "name": "original_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 169,
          "name": "ovi_negative_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#653",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "links": [170],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoOviCFG"
      },
      "showAdvanced": null,
      "widgets_values": [3]
    },
    {
      "id": 111,
      "pos": [-489.00506591796875, 735.4887084960938],
      "mode": 0,
      "size": [270, 242],
      "type": "WanVideoEncode",
      "color": "#322",
      "flags": {},
      "order": 18,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 193,
          "name": "vae",
          "type": "WANVAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 194,
          "name": "image",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "mask",
          "type": "MASK",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "links": [195],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "1.3.6",
        "cnr_id": "comfyui-wanvideowrapper",
        "Node name for S&R": "WanVideoEncode"
      },
      "showAdvanced": null,
      "widgets_values": [false, 272, 272, 144, 128, 0, 1]
    },
    {
      "id": 96,
      "pos": [1022.1392211914062, 1233.183837890625],
      "mode": 0,
      "size": [452.4334411621094, 588.8506469726562],
      "type": "WanVideoTextEncodeCached",
      "color": "#432",
      "flags": {},
      "order": 1,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "extender_args",
          "type": "WANVIDEOPROMPTEXTENDER_ARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#653",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "links": [],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "negative_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "links": [169],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "positive_prompt",
          "type": "STRING",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoTextEncodeCached"
      },
      "showAdvanced": null,
      "widgets_values": [
        "umt5-xxl-enc-bf16.safetensors",
        "bf16",
        "",
        "robotic, muffled, echo, distorted",
        "disabled",
        true,
        "gpu"
      ]
    },
    {
      "id": 81,
      "pos": [173.6974334716797, 899.3997802734375],
      "mode": 0,
      "size": [272.431640625, 126],
      "type": "WanVideoEmptyEmbeds",
      "flags": {},
      "order": 20,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "control_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 195,
          "name": "extra_latents",
          "type": "LATENT",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "link": 198,
          "name": "width",
          "type": "INT",
          "label": null,
          "shape": null,
          "locked": null,
          "widget": {
            "name": "width"
          },
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "link": 197,
          "name": "height",
          "type": "INT",
          "label": null,
          "shape": null,
          "locked": null,
          "widget": {
            "name": "height"
          },
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "label": null,
          "links": [178],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoEmptyEmbeds"
      },
      "showAdvanced": null,
      "widgets_values": [992, 512, 121]
    },
    {
      "id": 86,
      "pos": [1959.91650390625, 504.7447814941406],
      "mode": 0,
      "size": [270, 198],
      "type": "WanVideoDecode",
      "color": "#322",
      "flags": {},
      "order": 22,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 159,
          "name": "vae",
          "type": "WANVAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 158,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "links": [160],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "1d940825636db49d5299e4f9634da6a8c36e26b8",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoDecode"
      },
      "showAdvanced": null,
      "widgets_values": [false, 272, 272, 144, 128, "default"]
    },
    {
      "id": 118,
      "pos": [1571.8782958984375, 343.36279296875],
      "mode": 0,
      "size": [270, 130],
      "type": "WanVideoEasyCache",
      "flags": {},
      "order": 2,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "cache_args",
          "type": "CACHEARGS",
          "label": null,
          "links": [210],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "1.3.6",
        "cnr_id": "comfyui-wanvideowrapper",
        "Node name for S&R": "WanVideoEasyCache"
      },
      "showAdvanced": null,
      "widgets_values": [0.015, 10, -1, "offload_device"]
    },
    {
      "id": 83,
      "pos": [845.3103637695312, 129.08203125],
      "mode": 0,
      "size": [281.404296875, 202],
      "type": "WanVideoBlockSwap",
      "flags": {},
      "order": 3,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "label": null,
          "links": [154],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoBlockSwap"
      },
      "showAdvanced": null,
      "widgets_values": [15, false, false, true, 0, 1, false]
    },
    {
      "id": 80,
      "pos": [1564.8895263671875, 562.7935180664062],
      "mode": 0,
      "size": [327.80859375, 1011.80859375],
      "type": "WanVideoSampler",
      "flags": {},
      "order": 21,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 153,
          "name": "model",
          "type": "WANVIDEOMODEL",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 178,
          "name": "image_embeds",
          "type": "WANVIDIMAGE_EMBEDS",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 170,
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 211,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "feta_args",
          "type": "FETAARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "context_options",
          "type": "WANVIDCONTEXT",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 210,
          "name": "cache_args",
          "type": "CACHEARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "flowedit_args",
          "type": "FLOWEDITARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 191,
          "name": "slg_args",
          "type": "SLGARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "loop_args",
          "type": "LOOPARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "experimental_args",
          "type": "EXPERIMENTALARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "sigmas",
          "type": "SIGMAS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "unianimate_poses",
          "type": "UNIANIMATE_POSE",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "fantasytalking_embeds",
          "type": "FANTASYTALKING_EMBEDS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "uni3c_embeds",
          "type": "UNI3C_EMBEDS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "multitalk_embeds",
          "type": "MULTITALK_EMBEDS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "freeinit_args",
          "type": "FREEINITARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "links": [158, 162],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "denoised_samples",
          "type": "LATENT",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoSampler"
      },
      "showAdvanced": null,
      "widgets_values": [
        50,
        4,
        5,
        42,
        "fixed",
        true,
        "unipc",
        0,
        1,
        false,
        "default",
        0,
        -1,
        false
      ]
    },
    {
      "id": 120,
      "pos": [667.5817260742188, 947.1004028320312],
      "mode": 0,
      "size": [353.9333190917969, 122.66668701171875],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 4,
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "Ovi uses same positive prompt for both models, the tags <S> and <E> are MANDATORY and the spoken words should be inside them, the <AUDCAP> and <ENDAUDCAP> are optinal descriptions of the audio.\n\nThe negative prompt can be different for each model."
      ]
    },
    {
      "id": 119,
      "pos": [381.6411437988281, 132.2297821044922],
      "mode": 0,
      "size": [435.8609313964844, 151.15599060058594],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 5,
      "title": "Model links",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "fp8_scaled:\n\n[https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/tree/main/TI2V/Ovi](https://huggingface.co/Kijai/WanVideo_comfy_fp8_scaled/tree/main/TI2V/Ovi)\n\nbf16 and VAE:\n\n[https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi](https://huggingface.co/Kijai/WanVideo_comfy/tree/main/Ovi)"
      ]
    },
    {
      "id": 84,
      "pos": [1239.550537109375, 484.6754150390625],
      "mode": 0,
      "size": [202.5749969482422, 46],
      "type": "WanVideoSetBlockSwap",
      "flags": {},
      "order": 19,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 152,
          "name": "model",
          "type": "WANVIDEOMODEL",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 154,
          "name": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "model",
          "type": "WANVIDEOMODEL",
          "label": null,
          "links": [153],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoSetBlockSwap"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 122,
      "pos": [1016.081298828125, 594.9484252929688],
      "mode": 0,
      "size": [230, 146],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 6,
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "The original weights are only available in bf16, this model seem to have issues running in fp16 so if you get black output, make sure to use bf16 base_precision."
      ]
    },
    {
      "id": 125,
      "pos": [187.17037963867188, 1082.121337890625],
      "mode": 0,
      "size": [303.9961853027344, 58],
      "type": "WanVideoEmptyMMAudioLatents",
      "flags": {},
      "order": 7,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "links": [211],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "Node name for S&R": "WanVideoEmptyMMAudioLatents"
      },
      "showAdvanced": null,
      "widgets_values": [157]
    },
    {
      "id": 126,
      "pos": [180.81106567382812, 1191.43359375],
      "mode": 0,
      "size": [210, 88],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 8,
      "title": "Audio latent",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "Default audio latent length is 157 for 121 frames, adjusting this is experimental!!"
      ]
    },
    {
      "id": 109,
      "pos": [-625.3988037109375, 1113.5281982421875],
      "mode": 0,
      "size": [274.07501220703125, 314],
      "type": "LoadImage",
      "flags": {},
      "order": 9,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [192],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "MASK",
          "type": "MASK",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.62",
        "cnr_id": "comfy-core",
        "Node name for S&R": "LoadImage"
      },
      "showAdvanced": null,
      "widgets_values": ["Runcomfy_example_1298.png", "image"]
    },
    {
      "id": 85,
      "pos": [412.3809509277344, 1240.6162109375],
      "mode": 0,
      "size": [569.788818359375, 595.4622192382812],
      "type": "WanVideoTextEncodeCached",
      "color": "#432",
      "flags": {},
      "order": 10,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "extender_args",
          "type": "WANVIDEOPROMPTEXTENDER_ARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#653",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "links": [167],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "negative_text_embeds",
          "type": "WANVIDEOTEXTEMBEDS",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "positive_prompt",
          "type": "STRING",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoTextEncodeCached"
      },
      "showAdvanced": null,
      "widgets_values": [
        "umt5-xxl-enc-bf16.safetensors",
        "bf16",
        "a soldier reaching for a dangling rope ladder from a hovering helicopter. Shot at sunset with orange haze and motion blur from spinning rotor blades\n\n<S>Hold on. I’m coming up—don’t leave me behind.<E>\n\n<AUDCAP>roaring helicopter blades, wind whipping, shouting voices over comms, metallic rattling of ladder, distant explosions fading out.<ENDAUDCAP>",
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
        "disabled",
        false,
        "gpu"
      ]
    },
    {
      "id": 78,
      "pos": [-94.38870239257812, 693.997314453125],
      "mode": 0,
      "size": [412.5594177246094, 58],
      "type": "WanVideoExtraModelSelect",
      "color": "#223",
      "flags": {},
      "order": 11,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "prev_model",
          "type": "VACEPATH",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#335",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "extra_model",
          "type": "VACEPATH",
          "label": null,
          "links": [157],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "269a14f413ae1fcddfe54fc631688fc8ee032098",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoExtraModelSelect"
      },
      "showAdvanced": null,
      "widgets_values": ["Ovi/Wan_2_1_Ovi_audio_model_bf16.safetensors"]
    },
    {
      "id": 12,
      "pos": [384.0904235839844, 437.55438232421875],
      "mode": 0,
      "size": [609.2658081054688, 318],
      "type": "WanVideoModelLoader",
      "color": "#223",
      "flags": {},
      "order": 17,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 164,
          "name": "compile_args",
          "type": "WANCOMPILEARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "block_swap_args",
          "type": "BLOCKSWAPARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "lora",
          "type": "WANVIDLORA",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "vram_management_args",
          "type": "VRAM_MANAGEMENTARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 157,
          "name": "extra_model",
          "type": "VACEPATH",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "fantasytalking_model",
          "type": "FANTASYTALKINGMODEL",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "multitalk_model",
          "type": "MULTITALKMODEL",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "fantasyportrait_model",
          "type": "FANTASYPORTRAITMODEL",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#335",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "model",
          "type": "WANVIDEOMODEL",
          "label": null,
          "links": [152],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "37365817e82c3d6057fcb0a5d7f952f7376f096a",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoModelLoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "Ovi/Wan_2_1_Ovi_video_model_bf16.safetensors",
        "bf16",
        "disabled",
        "offload_device",
        "sageattn",
        "default"
      ]
    },
    {
      "id": 87,
      "pos": [-452.8966064453125, 263.4757995605469],
      "mode": 0,
      "size": [350.5255126953125, 88.4420394897461],
      "type": "WanVideoVAELoader",
      "color": "#322",
      "flags": {},
      "order": 12,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "compile_args",
          "type": "WANCOMPILEARGS",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "vae",
          "type": "WANVAE",
          "label": null,
          "links": [159, 193],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "1d940825636db49d5299e4f9634da6a8c36e26b8",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoVAELoader"
      },
      "showAdvanced": null,
      "widgets_values": ["wan2.2_vae.safetensors", "bf16"]
    },
    {
      "id": 89,
      "pos": [1951.04345703125, 192.66961669921875],
      "mode": 0,
      "size": [356.967529296875, 106],
      "type": "OviMMAudioVAELoader",
      "color": "#323",
      "flags": {},
      "order": 13,
      "inputs": [],
      "bgcolor": "#535",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "mmaudio_vae",
          "type": "MMAUDIOVAE",
          "label": null,
          "links": [161],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "OviMMAudioVAELoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "mmaudio_vae_16k_fp32.safetensors",
        "mmaudio_vocoder_bigvgan_best_netG_bf16.safetensors",
        "fp32"
      ]
    },
    {
      "id": 90,
      "pos": [2096.255126953125, 378.9918212890625],
      "mode": 0,
      "size": [221.3249969482422, 46],
      "type": "WanVideoDecodeOviAudio",
      "flags": {},
      "order": 23,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 161,
          "name": "mmaudio_vae",
          "type": "MMAUDIOVAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 162,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "audio",
          "type": "AUDIO",
          "label": null,
          "links": [163, 190],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoDecodeOviAudio"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 110,
      "pos": [-288.9114685058594, 1109.3226318359375],
      "mode": 0,
      "size": [270, 360],
      "type": "ImageResizeKJv2",
      "flags": {},
      "order": 15,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 192,
          "name": "image",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "mask",
          "type": "MASK",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [194],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "width",
          "type": "INT",
          "label": null,
          "links": [198],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "height",
          "type": "INT",
          "label": null,
          "links": [197],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "mask",
          "type": "MASK",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "1.1.7",
        "cnr_id": "comfyui-kjnodes",
        "Node name for S&R": "ImageResizeKJv2"
      },
      "showAdvanced": null,
      "widgets_values": [
        768,
        768,
        "lanczos",
        "crop",
        "0, 0, 0",
        "center",
        32,
        "cpu",
        0
      ]
    },
    {
      "id": 91,
      "pos": [-52.0601921081543, 417.4401550292969],
      "mode": 4,
      "size": [342.74609375, 202],
      "type": "WanVideoTorchCompileSettings",
      "color": "#223",
      "flags": {},
      "order": 14,
      "inputs": [],
      "bgcolor": "#335",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "torch_compile_args",
          "type": "WANCOMPILEARGS",
          "label": null,
          "links": [164],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "260c181e0ee11e0fcd1595c430c3c5357870e2c6",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "Node name for S&R": "WanVideoTorchCompileSettings"
      },
      "showAdvanced": null,
      "widgets_values": ["inductor", false, "default", false, 64, true, 128]
    },
    {
      "id": 108,
      "pos": [2385.06689453125, 195.56961059570312],
      "mode": 0,
      "size": [270, 88],
      "type": "PreviewAudio",
      "color": "#323",
      "flags": {},
      "order": 25,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 190,
          "name": "audio",
          "type": "AUDIO",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#535",
      "outputs": [],
      "properties": {
        "ver": "0.3.62",
        "cnr_id": "comfy-core",
        "Node name for S&R": "PreviewAudio"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 88,
      "pos": [2376.7099609375, 387.7659912109375],
      "mode": 0,
      "size": [903.5481567382812, 334],
      "type": "VHS_VideoCombine",
      "flags": {},
      "order": 24,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 160,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 163,
          "name": "audio",
          "type": "AUDIO",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "meta_batch",
          "type": "VHS_BatchManager",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530",
        "cnr_id": "comfyui-videohelpersuite",
        "Node name for S&R": "VHS_VideoCombine"
      },
      "showAdvanced": null,
      "widgets_values": {
        "crf": 20,
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "pingpong": false,
        "frame_rate": 24,
        "loop_count": 0,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "params": {
            "type": "output",
            "format": "video/h264-mp4",
            "filename": "WanVideo_Ovi_00001-audio.mp4",
            "fullpath": "/workspace/ComfyUI/output/WanVideo_Ovi_00001-audio.mp4",
            "workflow": "WanVideo_Ovi_00001.png",
            "subfolder": "",
            "frame_rate": 24
          },
          "paused": false
        },
        "save_metadata": true,
        "trim_to_audio": false,
        "filename_prefix": "WanVideo_Ovi"
      }
    }
  ],
  "config": {},
  "groups": [],
  "version": 0.4,
  "revision": 0,
  "definitions": null,
  "last_link_id": 211,
  "last_node_id": 126,
  "floatingLinks": null
}
