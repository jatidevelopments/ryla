{
  "id": "7cbcec68-7fa6-47bb-a38a-da689949a001",
  "extra": {
    "ds": {
      "scale": 0.6115909044841974,
      "offset": [
        1217.9687941274021,
        -2112.9536143789705
      ]
    },
    "reroutes": null,
    "groupNodes": {},
    "frontendVersion": "1.23.4",
    "VHS_MetadataImage": true,
    "VHS_latentpreview": false,
    "VHS_KeepIntermediate": true,
    "VHS_latentpreviewrate": 0
  },
  "links": [
    [
      52,
      31,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      57,
      35,
      0,
      31,
      1,
      "CONDITIONING"
    ],
    [
      58,
      37,
      0,
      31,
      0,
      "MODEL"
    ],
    [
      59,
      38,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      61,
      39,
      0,
      8,
      1,
      "VAE"
    ],
    [
      222,
      42,
      0,
      124,
      0,
      "IMAGE"
    ],
    [
      223,
      39,
      0,
      124,
      1,
      "VAE"
    ],
    [
      237,
      6,
      0,
      135,
      0,
      "CONDITIONING"
    ],
    [
      238,
      135,
      0,
      31,
      2,
      "CONDITIONING"
    ],
    [
      240,
      8,
      0,
      136,
      0,
      "IMAGE"
    ],
    [
      251,
      146,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      289,
      42,
      0,
      173,
      0,
      "IMAGE"
    ],
    [
      291,
      124,
      0,
      31,
      3,
      "LATENT"
    ],
    [
      292,
      177,
      0,
      35,
      0,
      "CONDITIONING"
    ],
    [
      293,
      124,
      0,
      177,
      1,
      "LATENT"
    ],
    [
      294,
      6,
      0,
      177,
      0,
      "CONDITIONING"
    ],
    [
      295,
      189,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      297,
      205,
      0,
      194,
      0,
      "CONDITIONING"
    ],
    [
      298,
      200,
      0,
      195,
      0,
      "IMAGE"
    ],
    [
      299,
      198,
      0,
      196,
      0,
      "IMAGE"
    ],
    [
      300,
      203,
      0,
      197,
      0,
      "MODEL"
    ],
    [
      301,
      201,
      0,
      197,
      1,
      "CONDITIONING"
    ],
    [
      302,
      194,
      0,
      197,
      2,
      "CONDITIONING"
    ],
    [
      303,
      199,
      0,
      197,
      3,
      "LATENT"
    ],
    [
      304,
      197,
      0,
      198,
      0,
      "LATENT"
    ],
    [
      305,
      192,
      0,
      198,
      1,
      "VAE"
    ],
    [
      306,
      200,
      0,
      199,
      0,
      "IMAGE"
    ],
    [
      307,
      192,
      0,
      199,
      1,
      "VAE"
    ],
    [
      308,
      207,
      0,
      200,
      0,
      "IMAGE"
    ],
    [
      309,
      202,
      0,
      201,
      0,
      "CONDITIONING"
    ],
    [
      310,
      205,
      0,
      202,
      0,
      "CONDITIONING"
    ],
    [
      311,
      199,
      0,
      202,
      1,
      "LATENT"
    ],
    [
      312,
      193,
      0,
      205,
      0,
      "CLIP"
    ],
    [
      316,
      209,
      0,
      207,
      0,
      "IMAGE"
    ],
    [
      317,
      224,
      0,
      213,
      0,
      "CONDITIONING"
    ],
    [
      319,
      217,
      0,
      215,
      0,
      "IMAGE"
    ],
    [
      320,
      222,
      0,
      216,
      0,
      "MODEL"
    ],
    [
      322,
      213,
      0,
      216,
      2,
      "CONDITIONING"
    ],
    [
      324,
      216,
      0,
      217,
      0,
      "LATENT"
    ],
    [
      325,
      211,
      0,
      217,
      1,
      "VAE"
    ],
    [
      327,
      211,
      0,
      218,
      1,
      "VAE"
    ],
    [
      331,
      218,
      0,
      221,
      1,
      "LATENT"
    ],
    [
      332,
      212,
      0,
      224,
      0,
      "CLIP"
    ],
    [
      337,
      228,
      0,
      218,
      0,
      "IMAGE"
    ],
    [
      338,
      221,
      0,
      230,
      0,
      "CONDITIONING"
    ],
    [
      339,
      229,
      0,
      230,
      1,
      "LATENT"
    ],
    [
      341,
      211,
      0,
      229,
      1,
      "VAE"
    ],
    [
      342,
      227,
      0,
      229,
      0,
      "IMAGE"
    ],
    [
      343,
      231,
      0,
      216,
      3,
      "LATENT"
    ],
    [
      344,
      228,
      0,
      232,
      0,
      "IMAGE"
    ],
    [
      345,
      232,
      0,
      231,
      0,
      "INT"
    ],
    [
      346,
      232,
      1,
      231,
      1,
      "INT"
    ],
    [
      347,
      224,
      0,
      220,
      0,
      "CONDITIONING"
    ],
    [
      348,
      220,
      0,
      221,
      0,
      "CONDITIONING"
    ],
    [
      349,
      230,
      0,
      216,
      1,
      "CONDITIONING"
    ],
    [
      351,
      235,
      0,
      146,
      1,
      "IMAGE"
    ]
  ],
  "nodes": [
    {
      "id": 39,
      "pos": [
        -400,
        390
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        58
      ],
      "type": "VAELoader",
      "color": "#322",
      "flags": {},
      "order": 0,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "VAE",
          "type": "VAE",
          "label": null,
          "links": [
            61,
            223
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors",
            "name": "ae.safetensors",
            "directory": "vae"
          }
        ],
        "Node name for S&R": "VAELoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "ae.safetensors"
      ]
    },
    {
      "id": 38,
      "pos": [
        -400,
        210
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        130
      ],
      "type": "DualCLIPLoader",
      "color": "#322",
      "flags": {},
      "order": 1,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CLIP",
          "type": "CLIP",
          "label": null,
          "links": [
            59
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors",
            "name": "clip_l.safetensors",
            "directory": "text_encoders"
          },
          {
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors",
            "name": "t5xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ],
        "Node name for S&R": "DualCLIPLoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn_scaled.safetensors",
        "flux",
        "default"
      ]
    },
    {
      "id": 135,
      "pos": [
        250,
        200
      ],
      "mode": 0,
      "size": [
        240,
        26
      ],
      "type": "ConditioningZeroOut",
      "flags": {
        "collapsed": false
      },
      "order": 33,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 237,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            238
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 173,
      "pos": [
        320,
        860
      ],
      "mode": 0,
      "size": [
        420,
        310
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 44,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 289,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [],
      "properties": {
        "ver": "0.3.40",
        "cnr_id": "comfy-core",
        "Node name for S&R": "PreviewImage"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 136,
      "pos": [
        760,
        510
      ],
      "mode": 0,
      "size": [
        650,
        660
      ],
      "type": "SaveImage",
      "flags": {},
      "order": 58,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 240,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core"
      },
      "showAdvanced": null,
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 31,
      "pos": [
        530,
        40
      ],
      "mode": 0,
      "size": [
        320,
        262
      ],
      "type": "KSampler",
      "flags": {},
      "order": 53,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 58,
          "name": "model",
          "type": "MODEL",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 57,
          "name": "positive",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 238,
          "name": "negative",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 291,
          "name": "latent_image",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            52
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "KSampler"
      },
      "showAdvanced": null,
      "widgets_values": [
        634003889014318,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 8,
      "pos": [
        530,
        350
      ],
      "mode": 0,
      "size": [
        190,
        46
      ],
      "type": "VAEDecode",
      "flags": {
        "collapsed": false
      },
      "order": 56,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 52,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 61,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            240
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "VAEDecode"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 124,
      "pos": [
        -20,
        400
      ],
      "mode": 0,
      "size": [
        240,
        50
      ],
      "type": "VAEEncode",
      "flags": {
        "collapsed": false
      },
      "order": 43,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 222,
          "name": "pixels",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 223,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            291,
            293
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core",
        "Node name for S&R": "VAEEncode"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 42,
      "pos": [
        -50,
        570
      ],
      "mode": 0,
      "size": [
        270,
        30
      ],
      "type": "FluxKontextImageScale",
      "flags": {
        "collapsed": false
      },
      "order": 39,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 251,
          "name": "image",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            222,
            289
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "FluxKontextImageScale"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 35,
      "pos": [
        250,
        90
      ],
      "mode": 0,
      "size": [
        240,
        58
      ],
      "type": "FluxGuidance",
      "flags": {
        "collapsed": false
      },
      "order": 50,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 292,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            57
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "FluxGuidance"
      },
      "showAdvanced": null,
      "widgets_values": [
        2.5
      ]
    },
    {
      "id": 186,
      "pos": [
        -960,
        710
      ],
      "mode": 0,
      "size": [
        510,
        170
      ],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 2,
      "title": "Flux Kontext Prompt Techniques",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "\n## Flux Kontext Prompt Techniques\n\n### 1. Basic Modifications\n- Simple and direct: `\"Change the car color to red\"`\n- Maintain style: `\"Change to daytime while maintaining the same style of the painting\"`\n\n### 2. Style Transfer\n**Principles:**\n- Clearly name style: `\"Transform to Bauhaus art style\"`\n- Describe characteristics: `\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- Preserve composition: `\"Change to Bauhaus style while maintaining the original composition\"`\n\n### 3. Character Consistency\n**Framework:**\n- Specific description: `\"The woman with short black hair\"` instead of \"she\"\n- Preserve features: `\"while maintaining the same facial features, hairstyle, and expression\"`\n- Step-by-step modifications: Change background first, then actions\n\n### 4. Text Editing\n- Use quotes: `\"Replace 'joy' with 'BFL'\"`\n- Maintain format: `\"Replace text while maintaining the same font style\"`\n\n## Common Problem Solutions\n\n### Character Changes Too Much\nâŒ Wrong: `\"Transform the person into a Viking\"`\nâœ… Correct: `\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### Composition Position Changes\nâŒ Wrong: `\"Put him on a beach\"`\nâœ… Correct: `\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### Style Application Inaccuracy\nâŒ Wrong: `\"Make it a sketch\"`\nâœ… Correct: `\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## Core Principles\n\n1. **Be Specific and Clear** - Use precise descriptions, avoid vague terms\n2. **Step-by-step Editing** - Break complex modifications into multiple simple steps\n3. **Explicit Preservation** - State what should remain unchanged\n4. **Verb Selection** - Use \"change\", \"replace\" rather than \"transform\"\n\n## Best Practice Templates\n\n**Object Modification:**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**Style Transfer:**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**Background Replacement:**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**Text Editing:**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **Remember:** The more specific, the better. Kontext excels at understanding detailed instructions and maintaining consistency. "
      ]
    },
    {
      "id": 177,
      "pos": [
        10,
        140
      ],
      "mode": 0,
      "size": [
        197.712890625,
        46
      ],
      "type": "ReferenceLatent",
      "flags": {},
      "order": 47,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 294,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 293,
          "name": "latent",
          "type": "LATENT",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            292
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.41",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ReferenceLatent"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 188,
      "pos": [
        530,
        -140
      ],
      "mode": 0,
      "size": [
        310,
        106
      ],
      "type": "EmptySD3LatentImage",
      "flags": {},
      "order": 3,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.41",
        "cnr_id": "comfy-core",
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "showAdvanced": null,
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 37,
      "pos": [
        -400,
        80
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        82
      ],
      "type": "UNETLoader",
      "color": "#322",
      "flags": {},
      "order": 4,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "MODEL",
          "type": "MODEL",
          "label": null,
          "links": [
            58
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
            "name": "flux1-dev-kontext_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ],
        "Node name for S&R": "UNETLoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "flux1-dev-kontext_fp8_scaled.safetensors",
        "default"
      ]
    },
    {
      "id": 178,
      "pos": [
        -30,
        -150
      ],
      "mode": 0,
      "size": [
        540,
        150
      ],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 5,
      "title": "About multiple images reference",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "[English] In addition to using **Image Stitch** to combine two images at a time, you can also encode individual images, then concatenate multiple latent conditions using the **ReferenceLatent** node, thus achieving the purpose of referencing multiple images. You can use the **EmptySD3LatentImage** node on the right to connect to **KSamper** and customize the size of the **latent_image**."
      ]
    },
    {
      "id": 175,
      "pos": [
        -50,
        640
      ],
      "mode": 0,
      "size": [
        320,
        88
      ],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 6,
      "title": "About Flux Kontext Edit",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "[English] Use Ctrl + B to enable multipule image input."
      ]
    },
    {
      "id": 180,
      "pos": [
        -1430,
        40
      ],
      "mode": 0,
      "size": [
        450,
        450
      ],
      "type": "MarkdownNote",
      "color": "#322",
      "flags": {},
      "order": 7,
      "title": "âœ¨ New ComfyUI feature for Flux.1 Kontext Dev",
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "[English]\nWe have added an **Edit** button to the **Selection Toolbox** of the node for **FLUX.1 Kontext Image Edit** support. When clicked, it quickly adds a **FLUX.1 Kontext Image Edit** group node to the Latent output of your current workflow. This enables an interactive editing experience where you can:\n\n- Create multiple editing iterations, each preserved as a separate node\n- Easily branch off from any previous edit point to explore different creative directions\n- Return to any earlier version and start a new editing branch\n- Modify parameters in earlier nodes and automatically update all downstream edits\n- Execute or re-execute any branch of edits at any time\n\nThis workflow mirrors the iterative nature of LLM conversations, but with the added advantage of visual editing and the ability to maintain multiple parallel editing paths."
      ]
    },
    {
      "id": 184,
      "pos": [
        -960,
        40
      ],
      "mode": 0,
      "size": [
        510,
        400
      ],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 8,
      "title": "Model links",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "[tutorial](http://docs.comfy.org/tutorials/flux/flux-1-kontext-dev)\n\n**diffusion model**\n\n- [flux1-dev-kontext_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors)\n\n**vae**\n\n- [ae.safetensors](https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/blob/main/split_files/vae/ae.safetensors)\n\n**text encoder**\n\n- [clip_l.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors)\n- [t5xxl_fp16.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors) or [t5xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors)\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚   â””â”€â”€ flux1-dev-kontext_fp8_scaled.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ vae/\nâ”‚   â”‚   â””â”€â”€ ae.safetensor\nâ”‚   â””â”€â”€ ðŸ“‚ text_encoders/\nâ”‚       â”œâ”€â”€ clip_l.safetensors\nâ”‚       â””â”€â”€ t5xxl_fp16.safetensors or t5xxl_fp8_e4m3fn_scaled.safetensors\n```\n"
      ]
    },
    {
      "id": 185,
      "pos": [
        -960,
        490
      ],
      "mode": 0,
      "size": [
        510,
        170
      ],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 9,
      "title": "About VRAM",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "For reference:\n- **fp8_scaled**: Requires about 20GB of VRAM.\n- **Original**: Requires about 32GB of VRAM.\n"
      ]
    },
    {
      "id": 6,
      "pos": [
        330,
        560
      ],
      "mode": 0,
      "size": [
        400,
        220
      ],
      "type": "CLIPTextEncode",
      "color": "#232",
      "flags": {},
      "order": 25,
      "title": "CLIP Text Encode (Positive Prompt)",
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 59,
          "name": "clip",
          "type": "CLIP",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#353",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            237,
            294
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "CLIPTextEncode"
      },
      "showAdvanced": null,
      "widgets_values": [
        "Add ASCII style text only the single word \"Kontext\" no additional letters to the display",
        [
          false,
          true
        ]
      ]
    },
    {
      "id": 189,
      "pos": [
        -369.3741760253906,
        775.0791015625
      ],
      "mode": 0,
      "size": [
        274.080078125,
        314
      ],
      "type": "LoadImage",
      "color": "#322",
      "flags": {},
      "order": 10,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            295
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "MASK",
          "type": "MASK",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.42",
        "cnr_id": "comfy-core",
        "Node name for S&R": "LoadImage"
      },
      "showAdvanced": null,
      "widgets_values": [
        "RunComfy_examples_1239_1.jpg",
        "image"
      ]
    },
    {
      "id": 192,
      "pos": [
        -380.29425048828125,
        1740.880615234375
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        58
      ],
      "type": "VAELoader",
      "color": "#322",
      "flags": {},
      "order": 11,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "VAE",
          "type": "VAE",
          "label": null,
          "links": [
            305,
            307
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors",
            "name": "ae.safetensors",
            "directory": "vae"
          }
        ],
        "Node name for S&R": "VAELoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "ae.safetensors"
      ]
    },
    {
      "id": 193,
      "pos": [
        -380.29425048828125,
        1560.8809814453125
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        130
      ],
      "type": "DualCLIPLoader",
      "color": "#322",
      "flags": {},
      "order": 12,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CLIP",
          "type": "CLIP",
          "label": null,
          "links": [
            312
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors",
            "name": "clip_l.safetensors",
            "directory": "text_encoders"
          },
          {
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors",
            "name": "t5xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ],
        "Node name for S&R": "DualCLIPLoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn_scaled.safetensors",
        "flux",
        "default"
      ]
    },
    {
      "id": 194,
      "pos": [
        269.70556640625,
        1550.8809814453125
      ],
      "mode": 0,
      "size": [
        240,
        26
      ],
      "type": "ConditioningZeroOut",
      "flags": {
        "collapsed": false
      },
      "order": 34,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 297,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            302
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 195,
      "pos": [
        339.70556640625,
        2210.880859375
      ],
      "mode": 0,
      "size": [
        420,
        310
      ],
      "type": "PreviewImage",
      "flags": {},
      "order": 41,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 298,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [],
      "properties": {
        "ver": "0.3.40",
        "cnr_id": "comfy-core",
        "Node name for S&R": "PreviewImage"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 196,
      "pos": [
        779.705810546875,
        1860.8804931640625
      ],
      "mode": 0,
      "size": [
        650,
        660
      ],
      "type": "SaveImage",
      "flags": {},
      "order": 57,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 299,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core"
      },
      "showAdvanced": null,
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 198,
      "pos": [
        549.7056884765625,
        1700.880615234375
      ],
      "mode": 0,
      "size": [
        190,
        46
      ],
      "type": "VAEDecode",
      "flags": {
        "collapsed": false
      },
      "order": 55,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 304,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 305,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            299
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "VAEDecode"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 199,
      "pos": [
        -0.29435354471206665,
        1750.880615234375
      ],
      "mode": 0,
      "size": [
        240,
        50
      ],
      "type": "VAEEncode",
      "flags": {
        "collapsed": false
      },
      "order": 42,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 306,
          "name": "pixels",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 307,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            303,
            311
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core",
        "Node name for S&R": "VAEEncode"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 200,
      "pos": [
        -33.26731872558594,
        1920.8804931640625
      ],
      "mode": 0,
      "size": [
        270,
        30
      ],
      "type": "FluxKontextImageScale",
      "flags": {
        "collapsed": false
      },
      "order": 37,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 308,
          "name": "image",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            298,
            306
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "FluxKontextImageScale"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 201,
      "pos": [
        269.70556640625,
        1440.880859375
      ],
      "mode": 0,
      "size": [
        240,
        58
      ],
      "type": "FluxGuidance",
      "flags": {
        "collapsed": false
      },
      "order": 49,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 309,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            301
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "FluxGuidance"
      },
      "showAdvanced": null,
      "widgets_values": [
        2.5
      ]
    },
    {
      "id": 202,
      "pos": [
        29.70563316345215,
        1490.8807373046875
      ],
      "mode": 0,
      "size": [
        197.712890625,
        46
      ],
      "type": "ReferenceLatent",
      "flags": {},
      "order": 46,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 310,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 311,
          "name": "latent",
          "type": "LATENT",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            309
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.41",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ReferenceLatent"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 204,
      "pos": [
        -33.26731872558594,
        1990.880859375
      ],
      "mode": 0,
      "size": [
        320,
        88
      ],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 13,
      "title": "About Flux Kontext Edit",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "[English] Use Ctrl + B to enable multipule image input."
      ]
    },
    {
      "id": 207,
      "pos": [
        -373.2671203613281,
        1920.8804931640625
      ],
      "mode": 0,
      "size": [
        270,
        150
      ],
      "type": "ImageStitch",
      "flags": {},
      "order": 28,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 316,
          "name": "image1",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "image2",
          "type": "IMAGE",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            308
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.40",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ImageStitch"
      },
      "showAdvanced": null,
      "widgets_values": [
        "right",
        true,
        0,
        "white"
      ]
    },
    {
      "id": 203,
      "pos": [
        -380.29425048828125,
        1430.8809814453125
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        82
      ],
      "type": "UNETLoader",
      "color": "#322",
      "flags": {},
      "order": 14,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "MODEL",
          "type": "MODEL",
          "label": null,
          "links": [
            300
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
            "name": "flux1-dev-kontext_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ],
        "Node name for S&R": "UNETLoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "flux1-dev-kontext_fp8_scaled.safetensors",
        "default"
      ]
    },
    {
      "id": 197,
      "pos": [
        794.4721069335938,
        1420.610107421875
      ],
      "mode": 0,
      "size": [
        320,
        262
      ],
      "type": "KSampler",
      "flags": {},
      "order": 52,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 300,
          "name": "model",
          "type": "MODEL",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 301,
          "name": "positive",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 302,
          "name": "negative",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 303,
          "name": "latent_image",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            304
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "KSampler"
      },
      "showAdvanced": null,
      "widgets_values": [
        804575269935244,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 212,
      "pos": [
        -463.9697265625,
        3277.11474609375
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        130
      ],
      "type": "DualCLIPLoader",
      "color": "#322",
      "flags": {},
      "order": 15,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CLIP",
          "type": "CLIP",
          "label": null,
          "links": [
            332
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors",
            "name": "clip_l.safetensors",
            "directory": "text_encoders"
          },
          {
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors",
            "name": "t5xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ],
        "Node name for S&R": "DualCLIPLoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp8_e4m3fn_scaled.safetensors",
        "flux",
        "default"
      ]
    },
    {
      "id": 217,
      "pos": [
        466.0301513671875,
        3417.11474609375
      ],
      "mode": 0,
      "size": [
        190,
        46
      ],
      "type": "VAEDecode",
      "flags": {
        "collapsed": false
      },
      "order": 51,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 324,
          "name": "samples",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 325,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            319
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "VAEDecode"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 211,
      "pos": [
        -463.9697265625,
        3457.115234375
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        58
      ],
      "type": "VAELoader",
      "color": "#322",
      "flags": {},
      "order": 16,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "VAE",
          "type": "VAE",
          "label": null,
          "links": [
            325,
            327,
            341
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors",
            "name": "ae.safetensors",
            "directory": "vae"
          }
        ],
        "Node name for S&R": "VAELoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "ae.safetensors"
      ]
    },
    {
      "id": 218,
      "pos": [
        -58.65616226196289,
        3463.39208984375
      ],
      "mode": 0,
      "size": [
        240,
        50
      ],
      "type": "VAEEncode",
      "flags": {
        "collapsed": false
      },
      "order": 30,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 337,
          "name": "pixels",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 327,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            331
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core",
        "Node name for S&R": "VAEEncode"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 229,
      "pos": [
        -27.327604293823242,
        3585.302734375
      ],
      "mode": 0,
      "size": [
        240,
        50
      ],
      "type": "VAEEncode",
      "flags": {
        "collapsed": false
      },
      "order": 29,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 342,
          "name": "pixels",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 341,
          "name": "vae",
          "type": "VAE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            339
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core",
        "Node name for S&R": "VAEEncode"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 230,
      "pos": [
        242.1890411376953,
        3572.6455078125
      ],
      "mode": 0,
      "size": [
        197.712890625,
        46
      ],
      "type": "ReferenceLatent",
      "flags": {},
      "order": 45,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 338,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 339,
          "name": "latent",
          "type": "LATENT",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            349
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.41",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ReferenceLatent"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 220,
      "pos": [
        -60.31108474731445,
        3255.5703125
      ],
      "mode": 0,
      "size": [
        240,
        58
      ],
      "type": "FluxGuidance",
      "flags": {
        "collapsed": false
      },
      "order": 36,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 347,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            348
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "FluxGuidance"
      },
      "showAdvanced": null,
      "widgets_values": [
        2.5
      ]
    },
    {
      "id": 216,
      "pos": [
        466.0301513671875,
        3107.1142578125
      ],
      "mode": 0,
      "size": [
        320,
        262
      ],
      "type": "KSampler",
      "flags": {},
      "order": 48,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 320,
          "name": "model",
          "type": "MODEL",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 349,
          "name": "positive",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 322,
          "name": "negative",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 343,
          "name": "latent_image",
          "type": "LATENT",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            324
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "KSampler"
      },
      "showAdvanced": null,
      "widgets_values": [
        56689035728595,
        "fixed",
        20,
        1,
        "dpmpp_2m",
        "simple",
        1
      ]
    },
    {
      "id": 213,
      "pos": [
        202.05995178222656,
        3274.560791015625
      ],
      "mode": 0,
      "size": [
        240,
        26
      ],
      "type": "ConditioningZeroOut",
      "flags": {
        "collapsed": false
      },
      "order": 35,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 317,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            322
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ConditioningZeroOut"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 210,
      "pos": [
        -976.4259033203125,
        2329.567626953125
      ],
      "mode": 0,
      "size": [
        366.1185302734375,
        348.2785339355469
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 17,
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "Click on \"IMG\" to upload the image, select the fourth rectangular shape button in the \"Shapes\", and click \"Stroke\" to choose the color"
      ]
    },
    {
      "id": 209,
      "pos": [
        -404.0267639160156,
        2173.512451171875
      ],
      "mode": 0,
      "size": [
        600,
        690
      ],
      "type": "PainterNode",
      "flags": {},
      "order": 18,
      "title": "PainterNode - 512x512",
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": null,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            316
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "MASK",
          "type": "MASK",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "1.0.73",
        "cnr_id": "comfyui_custom_nodes_alekpet",
        "Node name for S&R": "PainterNode"
      },
      "showAdvanced": null,
      "widgets_values": [
        "Paint_209.png",
        true,
        "clear_painer",
        {
          "settings": {
            "saveImage": true,
            "pipingSettings": {
              "action": {
                "name": "background",
                "options": {
                  "scale": 1,
                  "sendToBack": true
                }
              },
              "pipingChangeSize": true,
              "pipingUpdateImage": true
            },
            "mypaint_settings": {
              "preset_brush_size": true,
              "preset_brush_color": false
            },
            "currentCanvasSize": {
              "width": 512,
              "height": 512
            }
          },
          "redo_history": [],
          "undo_history": [],
          "canvas_settings": {
            "objects": [],
            "version": "4.6.0",
            "background": "#000000"
          }
        }
      ]
    },
    {
      "id": 231,
      "pos": [
        455.9992980957031,
        3952.244384765625
      ],
      "mode": 0,
      "size": [
        270,
        106
      ],
      "type": "EmptySD3LatentImage",
      "flags": {},
      "order": 38,
      "inputs": [
        {
          "dir": null,
          "link": 345,
          "name": "width",
          "type": "INT",
          "label": null,
          "shape": null,
          "locked": null,
          "widget": {
            "name": "width"
          },
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "link": 346,
          "name": "height",
          "type": "INT",
          "label": null,
          "shape": null,
          "locked": null,
          "widget": {
            "name": "height"
          },
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "LATENT",
          "type": "LATENT",
          "label": null,
          "links": [
            343
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.43",
        "cnr_id": "comfy-core",
        "Node name for S&R": "EmptySD3LatentImage"
      },
      "showAdvanced": null,
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 232,
      "pos": [
        216.2968292236328,
        3937.934814453125
      ],
      "mode": 0,
      "size": [
        140,
        124
      ],
      "type": "GetImageSize",
      "flags": {},
      "order": 31,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 344,
          "name": "image",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "width",
          "type": "INT",
          "label": null,
          "links": [
            345
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "height",
          "type": "INT",
          "label": null,
          "links": [
            346
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "batch_size",
          "type": "INT",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.43",
        "cnr_id": "comfy-core",
        "Node name for S&R": "GetImageSize"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 221,
      "pos": [
        237.1381072998047,
        3431.587646484375
      ],
      "mode": 0,
      "size": [
        197.712890625,
        46
      ],
      "type": "ReferenceLatent",
      "flags": {},
      "order": 40,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 348,
          "name": "conditioning",
          "type": "CONDITIONING",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 331,
          "name": "latent",
          "type": "LATENT",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            338
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.41",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ReferenceLatent"
      },
      "showAdvanced": null,
      "widgets_values": []
    },
    {
      "id": 222,
      "pos": [
        -463.9697265625,
        3147.114501953125
      ],
      "mode": 0,
      "size": [
        337.76861572265625,
        82
      ],
      "type": "UNETLoader",
      "color": "#322",
      "flags": {},
      "order": 19,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "MODEL",
          "type": "MODEL",
          "label": null,
          "links": [
            320
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "models": [
          {
            "url": "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
            "name": "flux1-dev-kontext_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ],
        "Node name for S&R": "UNETLoader"
      },
      "showAdvanced": null,
      "widgets_values": [
        "flux1-dev-kontext_fp8_scaled.safetensors",
        "default"
      ]
    },
    {
      "id": 205,
      "pos": [
        349.7055358886719,
        1910.8804931640625
      ],
      "mode": 0,
      "size": [
        400,
        220
      ],
      "type": "CLIPTextEncode",
      "color": "#232",
      "flags": {},
      "order": 26,
      "title": "CLIP Text Encode (Positive Prompt)",
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 312,
          "name": "clip",
          "type": "CLIP",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#353",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            297,
            310
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "CLIPTextEncode"
      },
      "showAdvanced": null,
      "widgets_values": [
        "Place a small yellow rubber duck in the white box area, making sure it looks like a natural part of the scene.",
        [
          false,
          true
        ]
      ]
    },
    {
      "id": 227,
      "pos": [
        -158.30996704101562,
        3728.34912109375
      ],
      "mode": 0,
      "size": [
        274.080078125,
        314.000244140625
      ],
      "type": "LoadImage",
      "color": "#322",
      "flags": {},
      "order": 20,
      "inputs": [],
      "bgcolor": "#533",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            342
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "MASK",
          "type": "MASK",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.42",
        "cnr_id": "comfy-core",
        "Node name for S&R": "LoadImage"
      },
      "showAdvanced": null,
      "widgets_values": [
        "RunComfy_examples_1239_3.png",
        "image"
      ]
    },
    {
      "id": 228,
      "pos": [
        -455.4947509765625,
        3610.818115234375
      ],
      "mode": 0,
      "size": [
        270,
        366
      ],
      "type": "Canvas_Tab",
      "flags": {},
      "order": 21,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            337,
            344
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "MASK",
          "type": "MASK",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "e04289a6208b43879705e12b641da9fd4d3d27de",
        "cnr_id": "canvas_tab",
        "Node name for S&R": "Canvas_Tab"
      },
      "showAdvanced": null,
      "widgets_values": [
        false,
        "bingo",
        "",
        ""
      ]
    },
    {
      "id": 224,
      "pos": [
        313.9737548828125,
        3683.633056640625
      ],
      "mode": 0,
      "size": [
        400,
        220
      ],
      "type": "CLIPTextEncode",
      "color": "#232",
      "flags": {},
      "order": 27,
      "title": "CLIP Text Encode (Positive Prompt)",
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 332,
          "name": "clip",
          "type": "CLIP",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "bgcolor": "#353",
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "label": null,
          "links": [
            317,
            347
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": 0
        }
      ],
      "properties": {
        "ver": "0.3.38",
        "cnr_id": "comfy-core",
        "Node name for S&R": "CLIPTextEncode"
      },
      "showAdvanced": null,
      "widgets_values": [
        "In the red area, replace the figure with a realistie male figure based on the content of the second image; in the green box, replace it with an umbrella held on the side by the man. In the green box, add a raining sky.",
        [
          false,
          true
        ]
      ]
    },
    {
      "id": 215,
      "pos": [
        775.2999267578125,
        3192.227294921875
      ],
      "mode": 0,
      "size": [
        650,
        660
      ],
      "type": "SaveImage",
      "flags": {},
      "order": 54,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 319,
          "name": "images",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [],
      "properties": {
        "ver": "0.3.39",
        "cnr_id": "comfy-core"
      },
      "showAdvanced": null,
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 233,
      "pos": [
        -875.673095703125,
        3791.058349609375
      ],
      "mode": 0,
      "size": [
        241.24588012695312,
        237.8795623779297
      ],
      "type": "Note",
      "color": "#432",
      "flags": {},
      "order": 22,
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "Click \"Edit\" to jump to the painting page, click \"New image\" in the upper right corner of the page, set the canvas size, and start graffiti painting. After painting is complete, click the dark green circular button on the outer side of the upper right corner of the canvas to highlight it. Switch back to the comfyui page to observe if the image has been updated. If the update is successful, you can close the painting page"
      ]
    },
    {
      "id": 146,
      "pos": [
        -390,
        570
      ],
      "mode": 0,
      "size": [
        270,
        150
      ],
      "type": "ImageStitch",
      "flags": {},
      "order": 32,
      "inputs": [
        {
          "dir": null,
          "pos": null,
          "link": 295,
          "name": "image1",
          "type": "IMAGE",
          "label": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        },
        {
          "dir": null,
          "pos": null,
          "link": 351,
          "name": "image2",
          "type": "IMAGE",
          "label": null,
          "shape": 7,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null
        }
      ],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            251
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.40",
        "cnr_id": "comfy-core",
        "Node name for S&R": "ImageStitch"
      },
      "showAdvanced": null,
      "widgets_values": [
        "right",
        true,
        0,
        "white"
      ]
    },
    {
      "id": 235,
      "pos": [
        -28.58115577697754,
        797.4173583984375
      ],
      "mode": 4,
      "size": [
        274.080078125,
        314
      ],
      "type": "LoadImage",
      "flags": {
        "collapsed": false
      },
      "order": 23,
      "inputs": [],
      "outputs": [
        {
          "dir": null,
          "pos": null,
          "name": "IMAGE",
          "type": "IMAGE",
          "label": null,
          "links": [
            351
          ],
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        },
        {
          "dir": null,
          "pos": null,
          "name": "MASK",
          "type": "MASK",
          "label": null,
          "links": null,
          "shape": null,
          "locked": null,
          "color_on": null,
          "color_off": null,
          "removable": null,
          "nameLocked": null,
          "slot_index": null
        }
      ],
      "properties": {
        "ver": "0.3.43",
        "cnr_id": "comfy-core",
        "Node name for S&R": "LoadImage"
      },
      "showAdvanced": null,
      "widgets_values": [
        "-untitled-main-camera-3.jpg",
        "image"
      ]
    },
    {
      "id": 187,
      "pos": [
        -960,
        930
      ],
      "mode": 0,
      "size": [
        510,
        180
      ],
      "type": "MarkdownNote",
      "color": "#432",
      "flags": {},
      "order": 24,
      "title": "Flux Kontext",
      "inputs": [],
      "bgcolor": "#653",
      "outputs": [],
      "properties": {},
      "showAdvanced": null,
      "widgets_values": [
        "# Flux Kontext Prompting Techniques\nUsing English\n\n## 1. Basic Modifications\n- Simple and direct: `\"Change the car color to red\"`\n- Maintain style: `\"Change to daytime while maintaining the same style of the painting\"`\n\n## 2. Style Transformation\n**Principles:**\n- Name styles explicitly: `\"Transform to Bauhaus art style\"`\n- Describe characteristics: `\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- Preserve composition: `\"Change to Bauhaus style while maintaining the original composition\"`\n\n## 3. Character Consistency\n**Framework:**\n- Specific descriptions: `\"The woman with short black hair\"` instead of `\"she\"`\n- Preserve features: `\"while maintaining the same facial features, hairstyle, and expression\"`\n- Step-by-step modifications: Change background first, then actions\n\n## 4. Text Editing\n- Use quotation marks: `\"Replace 'joy' with 'BFL'\"`\n- Maintain formatting: `\"Replace text while maintaining the same font style\"`\n\n## Common Problem Solutions\n\n### Character Changes Too Drastically\nâŒ Wrong: `\"Transform the person into a Viking\"`\nâœ… Correct: `\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### Composition Position Changes\nâŒ Wrong: `\"Put him on a beach\"`\nâœ… Correct: `\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### Inaccurate Style Application\nâŒ Wrong: `\"Make it a sketch\"`\nâœ… Correct: `\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## Core Principles\n1. **Be Specific and Clear** - Use precise descriptions, avoid vague terms\n2. **Step-by-Step Editing** - Break complex modifications into simple steps\n3. **Explicitly Preserve** - State what should remain unchanged\n4. **Verb Choice** - Use \"change\", \"replace\" rather than \"transform\"\n\n## Best Practice Templates\n\n**Object Modification:**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**Style Transformation:**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**Background Replacement:**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**Text Editing:**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **Remember:** The more specific, the better. Kontext excels at understanding detailed instructions and maintaining consistency."
      ]
    }
  ],
  "config": {},
  "groups": [
    {
      "id": 1,
      "color": "#3f789e",
      "flags": {},
      "title": "Step 1- Load models",
      "bounding": [
        -410,
        10,
        360,
        450
      ],
      "font_size": 24
    },
    {
      "id": 3,
      "color": "#3f789e",
      "flags": {},
      "title": "Step 2 - Upload images",
      "bounding": [
        -410,
        480,
        700,
        680
      ],
      "font_size": 24
    },
    {
      "id": 5,
      "color": "#3f789e",
      "flags": {},
      "title": "Step 3 - Prompt",
      "bounding": [
        310,
        480,
        430,
        330
      ],
      "font_size": 24
    },
    {
      "id": 6,
      "color": "#3f789e",
      "flags": {},
      "title": "Conditioning",
      "bounding": [
        -30,
        10,
        540,
        250
      ],
      "font_size": 24
    },
    {
      "id": 9,
      "color": "#3f789e",
      "flags": {},
      "title": "Edit Specified Area",
      "bounding": [
        -547.3612670898438,
        1337.36865234375,
        2288.427490234375,
        1576.004638671875
      ],
      "font_size": 24
    },
    {
      "id": 10,
      "color": "#3f789e",
      "flags": {},
      "title": "Kontext - Original",
      "bounding": [
        -1430.5294189453125,
        -192.56259155273438,
        3054.802490234375,
        1431.6661376953125
      ],
      "font_size": 24
    },
    {
      "id": 15,
      "color": "#3f789e",
      "flags": {},
      "title": "Creative Scribble-to-Image Editing",
      "bounding": [
        -536.8136596679688,
        2955.483642578125,
        2103.162109375,
        1130.3912353515625
      ],
      "font_size": 24
    }
  ],
  "version": 0.4,
  "revision": 0,
  "last_link_id": 351,
  "last_node_id": 235,
  "floatingLinks": null
}